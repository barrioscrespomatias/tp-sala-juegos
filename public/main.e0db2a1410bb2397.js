(self.webpackChunktp_sala_juegos=self.webpackChunktp_sala_juegos||[]).push([[179],{2313:(Jt,Me,j)=>{"use strict";j.d(Me,{nm:()=>ne});var I=j(4976),fe=(j(4650),j(3692),j(259),j(5861)),Ce=j(6881),Ie=j(4859),de=j(2090),ke=j(1877);const ie=new Map,he={activated:!1,tokenObservers:[]},Ee={initialized:!1,enabled:!1};function Xe(xe){return ie.get(xe)||Object.assign({},he)}function wt(){return Ee}const Tt="https://content-firebaseappcheck.googleapis.com/v1",He="exchangeDebugToken",yt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Je{constructor(we,ye,et,ct,hn){if(this.operation=we,this.retryPolicy=ye,this.getWaitDuration=et,this.lowerBound=ct,this.upperBound=hn,this.pending=null,this.nextErrorWaitInterval=ct,ct>hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(we){var ye=this;return(0,fe.Z)(function*(){ye.stop();try{ye.pending=new de.BH,yield function ut(xe){return new Promise(we=>{setTimeout(we,xe)})}(ye.getNextRun(we)),ye.pending.resolve(),yield ye.pending.promise,ye.pending=new de.BH,yield ye.operation(),ye.pending.resolve(),yield ye.pending.promise,ye.process(!0).catch(()=>{})}catch(et){ye.retryPolicy(et)?ye.process(!1).catch(()=>{}):ye.stop()}})()}getNextRun(we){if(we)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ye}}}const pt=new de.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Lt(xe,we){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,fe.Z)(function*({url:xe,body:we},ye){const et={"Content-Type":"application/json"},ct=ye.getImmediate({optional:!0});if(ct){const Qr=yield ct.getHeartbeatsHeader();Qr&&(et["X-Firebase-Client"]=Qr)}const hn={method:"POST",body:JSON.stringify(we),headers:et};let Rn,Mn;try{Rn=yield fetch(xe,hn)}catch(Qr){throw pt.create("fetch-network-error",{originalErrorMessage:Qr?.message})}if(200!==Rn.status)throw pt.create("fetch-status-error",{httpStatus:Rn.status});try{Mn=yield Rn.json()}catch(Qr){throw pt.create("fetch-parse-error",{originalErrorMessage:Qr?.message})}const jn=Mn.ttl.match(/^([\d.]+)(s)$/);if(!jn||!jn[2]||isNaN(Number(jn[1])))throw pt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Mn.ttl}`});const ni=1e3*Number(jn[1]),wr=Date.now();return{token:Mn.token,expireTimeMillis:wr+ni,issuedAtTimeMillis:wr}})).apply(this,arguments)}const st="firebase-app-check-database",St=1,dt="firebase-app-check-store";let Et=null;function Vn(xe,we){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,fe.Z)(function*(xe,we){const et=(yield function vn(){return Et||(Et=new Promise((xe,we)=>{try{const ye=indexedDB.open(st,St);ye.onsuccess=et=>{xe(et.target.result)},ye.onerror=et=>{var ct;we(pt.create("storage-open",{originalErrorMessage:null===(ct=et.target.error)||void 0===ct?void 0:ct.message}))},ye.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(dt,{keyPath:"compositeKey"})}}catch(ye){we(pt.create("storage-open",{originalErrorMessage:ye?.message}))}}),Et)}()).transaction(dt,"readwrite"),hn=et.objectStore(dt).put({compositeKey:xe,value:we});return new Promise((Rn,Mn)=>{hn.onsuccess=jn=>{Rn()},et.onerror=jn=>{var ni;Mn(pt.create("storage-set",{originalErrorMessage:null===(ni=jn.target.error)||void 0===ni?void 0:ni.message}))}})})).apply(this,arguments)}const zt=new ke.Yd("@firebase/app-check");function Kn(xe,we){return(0,de.hl)()?function Yt(xe,we){return Vn(function _n(xe){return`${xe.options.appId}-${xe.name}`}(xe),we)}(xe,we).catch(ye=>{zt.warn(`Failed to write token to IndexedDB. Error: ${ye}`)}):Promise.resolve()}function ar(){return cr.apply(this,arguments)}function cr(){return(cr=(0,fe.Z)(function*(){const xe=wt();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vr={error:"UNKNOWN_ERROR"};function un(xe){return de.US.encodeString(JSON.stringify(xe),!1)}function pn(xe){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,fe.Z)(function*(xe,we=!1){const ye=xe.app;!function It(xe){if(!Xe(xe).activated)throw pt.create("use-before-activation",{appName:xe.name})}(ye);const et=Xe(ye);let hn,ct=et.token;if(ct&&!An(ct)&&(et.token=void 0,ct=void 0),!ct){const jn=yield et.cachedTokenPromise;jn&&(An(jn)?ct=jn:yield Kn(ye,void 0))}if(!we&&ct&&An(ct))return{token:ct.token};let Mn,Rn=!1;if(function Bn(){return wt().enabled}()){et.exchangeTokenPromise||(et.exchangeTokenPromise=Lt(function it(xe,we){const{projectId:ye,appId:et,apiKey:ct}=xe.options;return{url:`${Tt}/projects/${ye}/apps/${et}:${He}?key=${ct}`,body:{debug_token:we}}}(ye,yield ar()),xe.heartbeatServiceProvider).finally(()=>{et.exchangeTokenPromise=void 0}),Rn=!0);const jn=yield et.exchangeTokenPromise;return yield Kn(ye,jn),et.token=jn,{token:jn.token}}try{et.exchangeTokenPromise||(et.exchangeTokenPromise=et.provider.getToken().finally(()=>{et.exchangeTokenPromise=void 0}),Rn=!0),ct=yield Xe(ye).exchangeTokenPromise}catch(jn){"appCheck/throttled"===jn.code?zt.warn(jn.message):zt.error(jn),hn=jn}return ct?hn?Mn=An(ct)?{token:ct.token,internalError:hn}:qn(hn):(Mn={token:ct.token},et.token=ct,yield Kn(ye,ct)):Mn=qn(hn),Rn&&function hr(xe,we){const ye=Xe(xe).tokenObservers;for(const et of ye)try{"EXTERNAL"===et.type&&null!=we.error?et.error(we.error):et.next(we)}catch{}}(ye,Mn),Mn})).apply(this,arguments)}function ur(xe,we){const ye=Xe(xe),et=ye.tokenObservers.filter(ct=>ct.next!==we);0===et.length&&ye.tokenRefresher&&ye.tokenRefresher.isRunning()&&ye.tokenRefresher.stop(),ye.tokenObservers=et}function Fr(xe){const{app:we}=xe,ye=Xe(we);let et=ye.tokenRefresher;et||(et=function br(xe){const{app:we}=xe;return new Je((0,fe.Z)(function*(){let et;if(et=Xe(we).token?yield pn(xe,!0):yield pn(xe),et.error)throw et.error;if(et.internalError)throw et.internalError}),()=>!0,()=>{const ye=Xe(we);if(ye.token){let et=ye.token.issuedAtTimeMillis+.5*(ye.token.expireTimeMillis-ye.token.issuedAtTimeMillis)+3e5;return et=Math.min(et,ye.token.expireTimeMillis-3e5),Math.max(0,et-Date.now())}return 0},yt.RETRIAL_MIN_WAIT,yt.RETRIAL_MAX_WAIT)}(xe),ye.tokenRefresher=et),!et.isRunning()&&ye.isTokenAutoRefreshEnabled&&et.start()}function An(xe){return xe.expireTimeMillis-Date.now()>0}function qn(xe){return{token:un(Vr),error:xe}}class fn{constructor(we,ye){this.app=we,this.heartbeatServiceProvider=ye}_delete(){const{tokenObservers:we}=Xe(this.app);for(const ye of we)ur(this.app,ye.next);return Promise.resolve()}}const Qt="app-check-internal";!function dn(){(0,Ce._registerComponent)(new Ie.wA("app-check",xe=>function cn(xe,we){return new fn(xe,we)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,we,ye)=>{xe.getProvider(Qt).initialize()})),(0,Ce._registerComponent)(new Ie.wA(Qt,xe=>function yn(xe){return{getToken:we=>pn(xe,we),addTokenListener:we=>function Ar(xe,we,ye,et){const{app:ct}=xe,hn=Xe(ct);if(hn.tokenObservers=[...hn.tokenObservers,{next:ye,error:et,type:we}],hn.token&&An(hn.token)){const Mn=hn.token;Promise.resolve().then(()=>{ye({token:Mn.token}),Fr(xe)}).catch(()=>{})}hn.cachedTokenPromise.then(()=>Fr(xe))}(xe,"INTERNAL",we),removeTokenListener:we=>ur(xe.app,we)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.7.0")}();class ne{constructor(){return(0,I.vb)("app-check")}}typeof window<"u"&&window},3692:(Jt,Me,j)=>{"use strict";j.d(Me,{Ot:()=>ae,ZF:()=>Ve,hX:()=>Xe,z6:()=>fe});var I=j(259),F=j(4650),M=j(4976);class ae{constructor(Je){return Je}}class fe{constructor(){return(0,I.C6)()}}const de=new F.OlP("angularfire2._apps"),ke={provide:ae,useFactory:function Ie(Ye){return Ye&&1===Ye.length?Ye[0]:new ae((0,I.Mq)())},deps:[[new F.FiY,de]]},ie={provide:fe,deps:[[new F.FiY,de]]};function he(Ye){return(Je,ut)=>{const Se=Je.runOutsideAngular(()=>Ye(ut));return new ae(Se)}}let Ee=(()=>{class Ye{constructor(ut){(0,I.KN)("angularfire",M.q4.full,"core"),(0,I.KN)("angularfire",M.q4.full,"app"),(0,I.KN)("angular",F.q4F.full,ut.toString())}}return Ye.\u0275fac=function(ut){return new(ut||Ye)(F.LFG(F.Lbi))},Ye.\u0275mod=F.oAB({type:Ye}),Ye.\u0275inj=F.cJS({providers:[ke,ie]}),Ye})();function Xe(Ye,...Je){return{ngModule:Ee,providers:[{provide:de,useFactory:he(Ye),multi:!0,deps:[F.R0b,F.zs3,M.HU,...Je]}]}}const Ve=(0,M.u3)(I.ZF,!0)},7158:(Jt,Me,j)=>{"use strict";j.d(Me,{AR:()=>Ve,dh:()=>ke,v0:()=>Lt});var I=j(4976),F=j(4650),M=j(3692),ae=j(259),fe=j(2313),Ce=j(4322);class de{constructor(fn){return fn}}class ke{constructor(){return(0,I.vb)("auth")}}const he=new F.OlP("angularfire2.auth-instances");function Xe(qn){return(fn,cn)=>{const yn=fn.runOutsideAngular(()=>qn(cn));return new de(yn)}}const Qe={provide:ke,deps:[[new F.FiY,he]]},wt={provide:de,useFactory:function Ee(qn,fn){const cn=(0,I.JM)("auth",qn,fn);return cn&&new de(cn)},deps:[[new F.FiY,he],M.Ot]};let Tt=(()=>{class qn{constructor(){(0,ae.KN)("angularfire",I.q4.full,"auth")}}return qn.\u0275fac=function(cn){return new(cn||qn)},qn.\u0275mod=F.oAB({type:qn}),qn.\u0275inj=F.cJS({providers:[wt,Qe]}),qn})();function Ve(qn,...fn){return{ngModule:Tt,providers:[{provide:he,useFactory:Xe(qn),multi:!0,deps:[F.R0b,F.zs3,I.HU,M.z6,[new F.FiY,fe.nm],...fn]}]}}const Lt=(0,I.u3)(Ce.v0,!0)},2011:(Jt,Me,j)=>{"use strict";j.d(Me,{Dh:()=>Ie,GT:()=>fe,cc:()=>Xe,on:()=>ke,pX:()=>ae,xv:()=>de});var I=j(4650),F=j(9260);Jt=j.hmd(Jt);const M=["ngOnDestroy"],ae=(Ve,at,He,yt={})=>new Proxy(Ve,{get:(Ye,Je)=>He.runOutsideAngular(()=>{var ut;if(Ve[Je])return!(null===(ut=yt?.spy)||void 0===ut)&&ut.get&&yt.spy.get(Je,Ve[Je]),Ve[Je];if(M.indexOf(Je)>-1)return()=>{};const Se=at.toPromise().then(pt=>{const Ue=pt&&pt[Je];return"function"==typeof Ue?Ue.bind(pt):Ue&&Ue.then?Ue.then(It=>He.run(()=>It)):He.run(()=>Ue)});return new Proxy(()=>{},{get:(pt,Ue)=>Se[Ue],apply:(pt,Ue,It)=>Se.then(an=>{var bt;const Lt=an&&an(...It);return!(null===(bt=yt?.spy)||void 0===bt)&&bt.apply&&yt.spy.apply(Je,It,Lt),Lt})})})}),fe=(Ve,at)=>{at.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(yt=>{Object.defineProperty(Ve.prototype,yt,Object.getOwnPropertyDescriptor(He.prototype||He,yt))})})};class Ce{constructor(at){return at}}const Ie=new I.OlP("angularfire2.app.options"),de=new I.OlP("angularfire2.app.name");function ke(Ve,at,He){const Ye="object"==typeof He&&He||{};Ye.name=Ye.name||"string"==typeof He&&He||"[DEFAULT]";const ut=F.Z.apps.filter(Se=>Se&&Se.name===Ye.name)[0]||at.runOutsideAngular(()=>F.Z.initializeApp(Ve,Ye));try{JSON.stringify(Ve)!==JSON.stringify(ut.options)&&ie("error",`${ut.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(ut)}const ie=(Ve,...at)=>{(0,I.X6Q)()&&typeof console<"u"&&console[Ve](...at)};function Xe(Ve,at,He,yt,Ye){const[,Je,ut]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===Ve)||[];if(Je)return function Qe(Ve,at){try{return Ve.toString()===at.toString()}catch{return Ve===at}}(Ye,ut)||(Tt("error",`${at} was already initialized on the ${He} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),Tt("warn",{is:Ye,was:ut})),Je;{const Se=yt();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Se,Ye]),Se}}const wt=!!Jt.hot,Tt=(Ve,...at)=>{(0,I.X6Q)()&&typeof console<"u"&&console[Ve](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Jt,Me,j)=>{"use strict";j.d(Me,{gg:()=>an,hJ:()=>ir,BS:()=>kt,JU:()=>cr,ad:()=>An,Cm:()=>Mt,pl:()=>te});var I=j(4976),F=j(4650),M=j(7158),ae=j(3692),fe=j(259),Ce=j(2313),Ie=j(2810),de=j(9751),ke=j(4004),ie={includeMetadataChanges:!1};function It(ot,gt){return void 0===gt&&(gt={}),function Se(ot){return function he(ot,gt){return void 0===gt&&(gt=ie),new de.y(function(rn){return{unsubscribe:(0,Ie.cf)(ot,gt,{next:rn.next.bind(rn),error:rn.error.bind(rn),complete:rn.complete.bind(rn)})}})}(ot,{includeMetadataChanges:!0}).pipe((0,ke.U)(function(gt){return gt.docs}))}(ot).pipe((0,ke.U)(function(rn){return rn.map(function(Be){return function Qe(ot,gt){void 0===gt&&(gt={});var rn=ot.data();return!ot.exists()||"object"!=typeof rn||null===rn||gt.idField&&(rn[gt.idField]=ot.id),rn}(Be,gt)})}))}class an{constructor(gt){return gt}}const bt="firestore",We=new F.OlP("angularfire2.firestore-instances");function it(ot){return(gt,rn)=>{const Be=gt.runOutsideAngular(()=>ot(rn));return new an(Be)}}const st={provide:class Lt{constructor(){return(0,I.vb)(bt)}},deps:[[new F.FiY,We]]},St={provide:an,useFactory:function Ge(ot,gt){const rn=(0,I.JM)(bt,ot,gt);return rn&&new an(rn)},deps:[[new F.FiY,We],ae.Ot]};let dt=(()=>{class ot{constructor(){(0,fe.KN)("angularfire",I.q4.full,"fst")}}return ot.\u0275fac=function(rn){return new(rn||ot)},ot.\u0275mod=F.oAB({type:ot}),ot.\u0275inj=F.cJS({providers:[St,st]}),ot})();function Mt(ot,...gt){return{ngModule:dt,providers:[{provide:We,useFactory:it(ot),multi:!0,deps:[F.R0b,F.zs3,I.HU,ae.z6,[new F.FiY,M.dh],[new F.FiY,Ce.nm],...gt]}]}}const kt=(0,I.u3)(It,!0),ir=(0,I.u3)(Ie.hJ,!0),cr=(0,I.u3)(Ie.JU,!0),An=(0,I.u3)(Ie.ad,!0),te=(0,I.u3)(Ie.pl,!0)},4976:(Jt,Me,j)=>{"use strict";j.d(Me,{q4:()=>Jo,iC:()=>Es,HU:()=>qa,vb:()=>Su,JM:()=>fu,u3:()=>ba});var I=j(4650),F=j(259),M=j(5861),ae=j(6881),fe=j(2090),Ce=j(4859),Ie=j(1877);const de=(C,N)=>N.some(z=>C instanceof z);let ke,ie;const Xe=new WeakMap,Qe=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Ve=new WeakMap;let yt={get(C,N,z){if(C instanceof IDBTransaction){if("done"===N)return Qe.get(C);if("objectStoreNames"===N)return C.objectStoreNames||wt.get(C);if("store"===N)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return Se(C[N])},set:(C,N,z)=>(C[N]=z,!0),has:(C,N)=>C instanceof IDBTransaction&&("done"===N||"store"===N)||N in C};function ut(C){return"function"==typeof C?function Je(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...N){return C.apply(pt(this),N),Se(Xe.get(this))}:function(...N){return Se(C.apply(pt(this),N))}:function(N,...z){const oe=C.call(pt(this),N,...z);return wt.set(oe,N.sort?N.sort():[N]),Se(oe)}}(C):(C instanceof IDBTransaction&&function He(C){if(Qe.has(C))return;const N=new Promise((z,oe)=>{const be=()=>{C.removeEventListener("complete",ve),C.removeEventListener("error",je),C.removeEventListener("abort",je)},ve=()=>{z(),be()},je=()=>{oe(C.error||new DOMException("AbortError","AbortError")),be()};C.addEventListener("complete",ve),C.addEventListener("error",je),C.addEventListener("abort",je)});Qe.set(C,N)}(C),de(C,function he(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,yt):C)}function Se(C){if(C instanceof IDBRequest)return function at(C){const N=new Promise((z,oe)=>{const be=()=>{C.removeEventListener("success",ve),C.removeEventListener("error",je)},ve=()=>{z(Se(C.result)),be()},je=()=>{oe(C.error),be()};C.addEventListener("success",ve),C.addEventListener("error",je)});return N.then(z=>{z instanceof IDBCursor&&Xe.set(z,C)}).catch(()=>{}),Ve.set(N,C),N}(C);if(Tt.has(C))return Tt.get(C);const N=ut(C);return N!==C&&(Tt.set(C,N),Ve.set(N,C)),N}const pt=C=>Ve.get(C),an=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],Lt=new Map;function Nt(C,N){if(!(C instanceof IDBDatabase)||N in C||"string"!=typeof N)return;if(Lt.get(N))return Lt.get(N);const z=N.replace(/FromIndex$/,""),oe=N!==z,be=bt.includes(z);if(!(z in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!an.includes(z))return;const ve=function(){var je=(0,M.Z)(function*(Xt,...Kt){const In=this.transaction(Xt,be?"readwrite":"readonly");let Yn=In.store;return oe&&(Yn=Yn.index(Kt.shift())),(yield Promise.all([Yn[z](...Kt),be&&In.done]))[0]});return function(Kt){return je.apply(this,arguments)}}();return Lt.set(N,ve),ve}!function Ye(C){yt=C(yt)}(C=>({...C,get:(N,z,oe)=>Nt(N,z)||C.get(N,z,oe),has:(N,z)=>!!Nt(N,z)||C.has(N,z)}));const We="@firebase/installations",Ge="0.6.4",it=1e4,st=`w:${Ge}`,St="FIS_v2",dt="https://firebaseinstallations.googleapis.com/v1",Mt=36e5,Yt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(C){return C instanceof fe.ZR&&C.code.includes("request-failed")}function Dn({projectId:C}){return`${dt}/projects/${C}/installations`}function Vn(C){return{token:C.token,requestStatus:2,expiresIn:ir(C.expiresIn),creationTime:Date.now()}}function Hn(C,N){return yr.apply(this,arguments)}function yr(){return(yr=(0,M.Z)(function*(C,N){const oe=(yield N.json()).error;return Yt.create("request-failed",{requestName:C,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function Fn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function zt(C){return rr.apply(this,arguments)}function rr(){return(rr=(0,M.Z)(function*(C){const N=yield C();return N.status>=500&&N.status<600?C():N})).apply(this,arguments)}function ir(C){return Number(C.replace("s","000"))}function en(){return(en=(0,M.Z)(function*({appConfig:C,heartbeatServiceProvider:N},{fid:z}){const oe=Dn(C),be=Fn(C),ve=N.getImmediate({optional:!0});if(ve){const In=yield ve.getHeartbeatsHeader();In&&be.append("x-firebase-client",In)}const Xt={method:"POST",headers:be,body:JSON.stringify({fid:z,authVersion:St,appId:C.appId,sdkVersion:st})},Kt=yield zt(()=>fetch(oe,Xt));if(Kt.ok){const In=yield Kt.json();return{fid:In.fid||z,registrationStatus:2,refreshToken:In.refreshToken,authToken:Vn(In.authToken)}}throw yield Hn("Create Installation",Kt)})).apply(this,arguments)}function Bn(C){return new Promise(N=>{setTimeout(N,C)})}const cr=/^[cdef][\w-]{21}$/,Lr="";function Vr(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const z=function un(C){return function ar(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return cr.test(z)?z:Lr}catch{return Lr}}function pn(C){return`${C.appName}!${C.appId}`}const Gt=new Map;function Ct(C,N){const z=pn(C);ur(z,N),function Fr(C,N){const z=function hr(){return!br&&"BroadcastChannel"in self&&(br=new BroadcastChannel("[Firebase] FID Change"),br.onmessage=C=>{ur(C.data.key,C.data.fid)}),br}();z&&z.postMessage({key:C,fid:N}),function An(){0===Gt.size&&br&&(br.close(),br=null)}()}(z,N)}function ur(C,N){const z=Gt.get(C);if(z)for(const oe of z)oe(N)}let br=null;const qn="firebase-installations-database",fn=1,cn="firebase-installations-store";let yn=null;function Xn(){return yn||(yn=function Ue(C,N,{blocked:z,upgrade:oe,blocking:be,terminated:ve}={}){const je=indexedDB.open(C,N),Xt=Se(je);return oe&&je.addEventListener("upgradeneeded",Kt=>{oe(Se(je.result),Kt.oldVersion,Kt.newVersion,Se(je.transaction))}),z&&je.addEventListener("blocked",()=>z()),Xt.then(Kt=>{ve&&Kt.addEventListener("close",()=>ve()),be&&Kt.addEventListener("versionchange",()=>be())}).catch(()=>{}),Xt}(qn,fn,{upgrade:(C,N)=>{0===N&&C.createObjectStore(cn)}})),yn}function Jn(C,N){return $n.apply(this,arguments)}function $n(){return($n=(0,M.Z)(function*(C,N){const z=pn(C),be=(yield Xn()).transaction(cn,"readwrite"),ve=be.objectStore(cn),je=yield ve.get(z);return yield ve.put(N,z),yield be.done,(!je||je.fid!==N.fid)&&Ct(C,N.fid),N})).apply(this,arguments)}function Tn(C){return xr.apply(this,arguments)}function xr(){return(xr=(0,M.Z)(function*(C){const N=pn(C),oe=(yield Xn()).transaction(cn,"readwrite");yield oe.objectStore(cn).delete(N),yield oe.done})).apply(this,arguments)}function fr(C,N){return kr.apply(this,arguments)}function kr(){return(kr=(0,M.Z)(function*(C,N){const z=pn(C),be=(yield Xn()).transaction(cn,"readwrite"),ve=be.objectStore(cn),je=yield ve.get(z),Xt=N(je);return void 0===Xt?yield ve.delete(z):yield ve.put(Xt,z),yield be.done,Xt&&(!je||je.fid!==Xt.fid)&&Ct(C,Xt.fid),Xt})).apply(this,arguments)}function pe(C){return ce.apply(this,arguments)}function ce(){return ce=(0,M.Z)(function*(C){let N;const z=yield fr(C.appConfig,oe=>{const be=function Q(C){return Te(C||{fid:Vr(),registrationStatus:0})}(oe),ve=function te(C,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Yt.create("app-offline"))};const z={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},oe=function Z(C,N){return _e.apply(this,arguments)}(C,z);return{installationEntry:z,registrationPromise:oe}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:se(C)}:{installationEntry:N}}(C,be);return N=ve.registrationPromise,ve.installationEntry});return z.fid===Lr?{installationEntry:yield N}:{installationEntry:z,registrationPromise:N}}),ce.apply(this,arguments)}function _e(){return _e=(0,M.Z)(function*(C,N){try{const z=yield function bn(C,N){return en.apply(this,arguments)}(C,N);return Jn(C.appConfig,z)}catch(z){throw kt(z)&&409===z.customData.serverCode?yield Tn(C.appConfig):yield Jn(C.appConfig,{fid:N.fid,registrationStatus:0}),z}}),_e.apply(this,arguments)}function se(C){return ue.apply(this,arguments)}function ue(){return(ue=(0,M.Z)(function*(C){let N=yield re(C.appConfig);for(;1===N.registrationStatus;)yield Bn(100),N=yield re(C.appConfig);if(0===N.registrationStatus){const{installationEntry:z,registrationPromise:oe}=yield pe(C);return oe||z}return N})).apply(this,arguments)}function re(C){return fr(C,N=>{if(!N)throw Yt.create("installation-not-found");return Te(N)})}function Te(C){return function Ke(C){return 1===C.registrationStatus&&C.registrationTime+it<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function nn(){return(nn=(0,M.Z)(function*({appConfig:C,heartbeatServiceProvider:N},z){const oe=function ot(C,{fid:N}){return`${Dn(C)}/${N}/authTokens:generate`}(C,z),be=function _n(C,{refreshToken:N}){const z=Fn(C);return z.append("Authorization",function Kn(C){return`${St} ${C}`}(N)),z}(C,z),ve=N.getImmediate({optional:!0});if(ve){const In=yield ve.getHeartbeatsHeader();In&&be.append("x-firebase-client",In)}const Xt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:st,appId:C.appId}})},Kt=yield zt(()=>fetch(oe,Xt));if(Kt.ok)return Vn(yield Kt.json());throw yield Hn("Generate Auth Token",Kt)})).apply(this,arguments)}function gt(C){return rn.apply(this,arguments)}function rn(){return rn=(0,M.Z)(function*(C,N=!1){let z;const oe=yield fr(C.appConfig,ve=>{if(!Oe(ve))throw Yt.create("not-registered");const je=ve.authToken;if(!N&&function G(C){return 2===C.requestStatus&&!function ne(C){const N=Date.now();return N<C.creationTime||C.creationTime+C.expiresIn<N+Mt}(C)}(je))return ve;if(1===je.requestStatus)return z=function Be(C,N){return Ae.apply(this,arguments)}(C,N),ve;{if(!navigator.onLine)throw Yt.create("app-offline");const Xt=function De(C){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:N})}(ve);return z=function Qt(C,N){return dn.apply(this,arguments)}(C,Xt),Xt}});return z?yield z:oe.authToken}),rn.apply(this,arguments)}function Ae(){return(Ae=(0,M.Z)(function*(C,N){let z=yield vt(C.appConfig);for(;1===z.authToken.requestStatus;)yield Bn(100),z=yield vt(C.appConfig);const oe=z.authToken;return 0===oe.requestStatus?gt(C,N):oe})).apply(this,arguments)}function vt(C){return fr(C,N=>{if(!Oe(N))throw Yt.create("not-registered");return function nt(C){return 1===C.requestStatus&&C.requestTime+it<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function dn(){return dn=(0,M.Z)(function*(C,N){try{const z=yield function lt(C,N){return nn.apply(this,arguments)}(C,N),oe=Object.assign(Object.assign({},N),{authToken:z});return yield Jn(C.appConfig,oe),z}catch(z){if(!kt(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const oe=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Jn(C.appConfig,oe)}else yield Tn(C.appConfig);throw z}}),dn.apply(this,arguments)}function Oe(C){return void 0!==C&&2===C.registrationStatus}function wn(){return(wn=(0,M.Z)(function*(C){const N=C,{installationEntry:z,registrationPromise:oe}=yield pe(N);return oe?oe.catch(console.error):gt(N).catch(console.error),z.fid})).apply(this,arguments)}function er(){return er=(0,M.Z)(function*(C,N=!1){const z=C;return yield function _r(C){return At.apply(this,arguments)}(z),(yield gt(z,N)).token}),er.apply(this,arguments)}function At(){return(At=(0,M.Z)(function*(C){const{registrationPromise:N}=yield pe(C);N&&(yield N)})).apply(this,arguments)}function we(C){return Yt.create("missing-app-config-values",{valueName:C})}const ye="installations",ct=C=>{const N=C.getProvider("app").getImmediate(),z=function xe(C){if(!C||!C.options)throw we("App Configuration");if(!C.name)throw we("App Name");const N=["projectId","apiKey","appId"];for(const z of N)if(!C.options[z])throw we(z);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(N);return{app:N,appConfig:z,heartbeatServiceProvider:(0,ae._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},hn=C=>{const N=C.getProvider("app").getImmediate(),z=(0,ae._getProvider)(N,ye).getImmediate();return{getId:()=>function $t(C){return wn.apply(this,arguments)}(z),getToken:be=>function Dr(C){return er.apply(this,arguments)}(z,be)}};(function Rn(){(0,ae._registerComponent)(new Ce.wA(ye,ct,"PUBLIC")),(0,ae._registerComponent)(new Ce.wA("installations-internal",hn,"PRIVATE"))})(),(0,ae.registerVersion)(We,Ge),(0,ae.registerVersion)(We,Ge,"esm2017");const Mn="@firebase/remote-config",Jr=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ss{constructor(N,z,oe,be){this.client=N,this.storage=z,this.storageCache=oe,this.logger=be}isCachedDataFresh(N,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-z,be=oe<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${be}.`),be}fetch(N){var z=this;return(0,M.Z)(function*(){const[oe,be]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(be&&z.isCachedDataFresh(N.cacheMaxAgeMillis,oe))return be;N.eTag=be&&be.eTag;const ve=yield z.client.fetch(N),je=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ve.status&&je.push(z.storage.setLastSuccessfulFetchResponse(ve)),yield Promise.all(je),ve})()}}function Ii(C=navigator){return C.languages&&C.languages[0]||C.language}class go{constructor(N,z,oe,be,ve,je){this.firebaseInstallations=N,this.sdkVersion=z,this.namespace=oe,this.projectId=be,this.apiKey=ve,this.appId=je}fetch(N){var z=this;return(0,M.Z)(function*(){const[oe,be]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Kt={sdk_version:z.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:z.appId,language_code:Ii()},In={method:"POST",headers:Xt,body:JSON.stringify(Kt)},Yn=fetch(je,In),Gn=new Promise((jo,zo)=>{N.signal.addEventListener(()=>{const gc=new Error("The operation was aborted.");gc.name="AbortError",zo(gc)})});let qs;try{yield Promise.race([Yn,Gn]),qs=yield Yn}catch(jo){let zo="fetch-client-network";throw"AbortError"===jo?.name&&(zo="fetch-timeout"),Jr.create(zo,{originalErrorMessage:jo?.message})}let Is=qs.status;const Qa=qs.headers.get("ETag")||void 0;let zl,Cu;if(200===qs.status){let jo;try{jo=yield qs.json()}catch(zo){throw Jr.create("fetch-client-parse",{originalErrorMessage:zo?.message})}zl=jo.entries,Cu=jo.state}if("INSTANCE_STATE_UNSPECIFIED"===Cu?Is=500:"NO_CHANGE"===Cu?Is=304:("NO_TEMPLATE"===Cu||"EMPTY_CONFIG"===Cu)&&(zl={}),304!==Is&&200!==Is)throw Jr.create("fetch-status",{httpStatus:Is});return{status:Is,eTag:Qa,config:zl}})()}}class fs{constructor(N,z){this.client=N,this.storage=z}fetch(N){var z=this;return(0,M.Z)(function*(){const oe=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(N,oe)})()}attemptFetch(N,{throttleEndTimeMillis:z,backoffCount:oe}){var be=this;return(0,M.Z)(function*(){yield function ta(C,N){return new Promise((z,oe)=>{const be=Math.max(N-Date.now(),0),ve=setTimeout(z,be);C.addEventListener(()=>{clearTimeout(ve),oe(Jr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,z);try{const ve=yield be.client.fetch(N);return yield be.storage.deleteThrottleMetadata(),ve}catch(ve){if(!function Ys(C){if(!(C instanceof fe.ZR&&C.customData))return!1;const N=Number(C.customData.httpStatus);return 429===N||500===N||503===N||504===N}(ve))throw ve;const je={throttleEndTimeMillis:Date.now()+(0,fe.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(je),be.attemptFetch(N,je)}})()}}class Ko{constructor(N,z,oe,be,ve){this.app=N,this._client=z,this._storageCache=oe,this._storage=be,this._logger=ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bi(C,N){const z=C.target.error||void 0;return Jr.create(N,{originalErrorMessage:z&&z?.message})}const bi="app_namespace_store";class qi{constructor(N,z,oe,be=function vo(){return new Promise((C,N)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=oe=>{N(Bi(oe,"storage-open"))},z.onsuccess=oe=>{C(oe.target.result)},z.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(bi,{keyPath:"compositeKey"})}}catch(z){N(Jr.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=N,this.appName=z,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var z=this;return(0,M.Z)(function*(){const oe=yield z.openDbPromise;return new Promise((be,ve)=>{const Xt=oe.transaction([bi],"readonly").objectStore(bi),Kt=z.createCompositeKey(N);try{const In=Xt.get(Kt);In.onerror=Yn=>{ve(Bi(Yn,"storage-get"))},In.onsuccess=Yn=>{const Gn=Yn.target.result;be(Gn?Gn.value:void 0)}}catch(In){ve(Jr.create("storage-get",{originalErrorMessage:In?.message}))}})})()}set(N,z){var oe=this;return(0,M.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((ve,je)=>{const Kt=be.transaction([bi],"readwrite").objectStore(bi),In=oe.createCompositeKey(N);try{const Yn=Kt.put({compositeKey:In,value:z});Yn.onerror=Gn=>{je(Bi(Gn,"storage-set"))},Yn.onsuccess=()=>{ve()}}catch(Yn){je(Jr.create("storage-set",{originalErrorMessage:Yn?.message}))}})})()}delete(N){var z=this;return(0,M.Z)(function*(){const oe=yield z.openDbPromise;return new Promise((be,ve)=>{const Xt=oe.transaction([bi],"readwrite").objectStore(bi),Kt=z.createCompositeKey(N);try{const In=Xt.delete(Kt);In.onerror=Yn=>{ve(Bi(Yn,"storage-delete"))},In.onsuccess=()=>{be()}}catch(In){ve(Jr.create("storage-delete",{originalErrorMessage:In?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class xi{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,M.Z)(function*(){const z=N.storage.getLastFetchStatus(),oe=N.storage.getLastSuccessfulFetchTimestampMillis(),be=N.storage.getActiveConfig(),ve=yield z;ve&&(N.lastFetchStatus=ve);const je=yield oe;je&&(N.lastSuccessfulFetchTimestampMillis=je);const Xt=yield be;Xt&&(N.activeConfig=Xt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function _o(){return zs.apply(this,arguments)}function zs(){return(zs=(0,M.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function Qs(){(0,ae._registerComponent)(new Ce.wA("remote-config",function C(N,{instanceIdentifier:z}){const oe=N.getProvider("app").getImmediate(),be=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jr.create("registration-window");if(!(0,fe.hl)())throw Jr.create("indexed-db-unavailable");const{projectId:ve,apiKey:je,appId:Xt}=oe.options;if(!ve)throw Jr.create("registration-project-id");if(!je)throw Jr.create("registration-api-key");if(!Xt)throw Jr.create("registration-app-id");const Kt=new qi(Xt,oe.name,z=z||"firebase"),In=new xi(Kt),Yn=new Ie.Yd(Mn);Yn.logLevel=Ie.in.ERROR;const Gn=new go(be,ae.SDK_VERSION,z,ve,je,Xt),qs=new fs(Gn,Kt),Is=new ss(qs,Kt,In,Yn),Qa=new Ko(oe,Is,In,Kt,Yn);return function Ei(C){const N=(0,fe.m9)(C);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Mn,"0.4.4"),(0,ae.registerVersion)(Mn,"0.4.4","esm2017")}();const ra=(C,N)=>N.some(z=>C instanceof z);let $i,ia;const Cs=new WeakMap,As=new WeakMap,jr=new WeakMap,ps=new WeakMap,os=new WeakMap;let Xs={get(C,N,z){if(C instanceof IDBTransaction){if("done"===N)return As.get(C);if("objectStoreNames"===N)return C.objectStoreNames||jr.get(C);if("store"===N)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return lr(C[N])},set:(C,N,z)=>(C[N]=z,!0),has:(C,N)=>C instanceof IDBTransaction&&("done"===N||"store"===N)||N in C};function Fo(C){return"function"==typeof C?function Js(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wo(){return ia||(ia=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...N){return C.apply(ii(this),N),lr(Cs.get(this))}:function(...N){return lr(C.apply(ii(this),N))}:function(N,...z){const oe=C.call(ii(this),N,...z);return jr.set(oe,N.sort?N.sort():[N]),lr(oe)}}(C):(C instanceof IDBTransaction&&function ji(C){if(As.has(C))return;const N=new Promise((z,oe)=>{const be=()=>{C.removeEventListener("complete",ve),C.removeEventListener("error",je),C.removeEventListener("abort",je)},ve=()=>{z(),be()},je=()=>{oe(C.error||new DOMException("AbortError","AbortError")),be()};C.addEventListener("complete",ve),C.addEventListener("error",je),C.addEventListener("abort",je)});As.set(C,N)}(C),ra(C,function Ss(){return $i||($i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Xs):C)}function lr(C){if(C instanceof IDBRequest)return function Kr(C){const N=new Promise((z,oe)=>{const be=()=>{C.removeEventListener("success",ve),C.removeEventListener("error",je)},ve=()=>{z(lr(C.result)),be()},je=()=>{oe(C.error),be()};C.addEventListener("success",ve),C.addEventListener("error",je)});return N.then(z=>{z instanceof IDBCursor&&Cs.set(z,C)}).catch(()=>{}),os.set(N,C),N}(C);if(ps.has(C))return ps.get(C);const N=Fo(C);return N!==C&&(ps.set(C,N),os.set(N,C)),N}const ii=C=>os.get(C);function Hs(C,N,{blocked:z,upgrade:oe,blocking:be,terminated:ve}={}){const je=indexedDB.open(C,N),Xt=lr(je);return oe&&je.addEventListener("upgradeneeded",Kt=>{oe(lr(je.result),Kt.oldVersion,Kt.newVersion,lr(je.transaction))}),z&&je.addEventListener("blocked",()=>z()),Xt.then(Kt=>{ve&&Kt.addEventListener("close",()=>ve()),be&&Kt.addEventListener("versionchange",()=>be())}).catch(()=>{}),Xt}function si(C,{blocked:N}={}){const z=indexedDB.deleteDatabase(C);return N&&z.addEventListener("blocked",()=>N()),lr(z).then(()=>{})}const Uo=["get","getKey","getAll","getAllKeys","count"],mi=["put","add","delete","clear"],eo=new Map;function to(C,N){if(!(C instanceof IDBDatabase)||N in C||"string"!=typeof N)return;if(eo.get(N))return eo.get(N);const z=N.replace(/FromIndex$/,""),oe=N!==z,be=mi.includes(z);if(!(z in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Uo.includes(z))return;const ve=function(){var je=(0,M.Z)(function*(Xt,...Kt){const In=this.transaction(Xt,be?"readwrite":"readonly");let Yn=In.store;return oe&&(Yn=Yn.index(Kt.shift())),(yield Promise.all([Yn[z](...Kt),be&&In.done]))[0]});return function(Kt){return je.apply(this,arguments)}}();return eo.set(N,ve),ve}!function ei(C){Xs=C(Xs)}(C=>({...C,get:(N,z,oe)=>to(N,z)||C.get(N,z,oe),has:(N,z)=>!!to(N,z)||C.has(N,z)}));const Nn="/firebase-messaging-sw.js",xs="/firebase-cloud-messaging-push-scope",gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Di="https://fcmregistrations.googleapis.com/v1",zi="google.c.a.c_id",Mi="google.c.a.c_l",Ms="google.c.a.ts",Bo="google.c.a.e";var tt=(()=>{return(C=tt||(tt={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",tt;var C})();function Un(C){const N=new Uint8Array(C);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ps(C){const z=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(z),be=new Uint8Array(oe.length);for(let ve=0;ve<oe.length;++ve)be[ve]=oe.charCodeAt(ve);return be}const Ws="fcm_token_details_db",qr=5,no="fcm_token_object_Store";function Pi(){return Pi=(0,M.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ve=>ve.name).includes(Ws))return null;let N=null;return(yield Hs(Ws,qr,{upgrade:(oe=(0,M.Z)(function*(be,ve,je,Xt){var Kt;if(ve<2||!be.objectStoreNames.contains(no))return;const In=Xt.objectStore(no),Yn=yield In.index("fcmSenderId").get(C);if(yield In.clear(),Yn)if(2===ve){const Gn=Yn;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;N={token:Gn.fcmToken,createTime:null!==(Kt=Gn.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:Un(Gn.vapidKey)}}}else if(3===ve){const Gn=Yn;N={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Un(Gn.auth),p256dh:Un(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Un(Gn.vapidKey)}}}else if(4===ve){const Gn=Yn;N={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Un(Gn.auth),p256dh:Un(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Un(Gn.vapidKey)}}}}),function(ve,je,Xt,Kt){return oe.apply(this,arguments)})})).close(),yield si(Ws),yield si("fcm_vapid_details_db"),yield si("undefined"),function hi(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:N}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var oe}),Pi.apply(this,arguments)}const as="firebase-messaging-database",Io=1,yi="firebase-messaging-store";let Rs=null;function oi(){return Rs||(Rs=Hs(as,Io,{upgrade:(C,N)=>{0===N&&C.createObjectStore(yi)}})),Rs}function Xr(C){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,M.Z)(function*(C){const N=Ti(C),oe=yield(yield oi()).transaction(yi).objectStore(yi).get(N);if(oe)return oe;{const be=yield function Gs(C){return Pi.apply(this,arguments)}(C.appConfig.senderId);if(be)return yield ms(C,be),be}}),Zi.apply(this,arguments)}function ms(C,N){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,M.Z)(function*(C,N){const z=Ti(C),be=(yield oi()).transaction(yi,"readwrite");return yield be.objectStore(yi).put(N,z),yield be.done,N})).apply(this,arguments)}function ys(){return(ys=(0,M.Z)(function*(C){const N=Ti(C),oe=(yield oi()).transaction(yi,"readwrite");yield oe.objectStore(yi).delete(N),yield oe.done})).apply(this,arguments)}function Ti({appConfig:C}){return C.appId}const Zr=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qi(C,N){return bo.apply(this,arguments)}function bo(){return(bo=(0,M.Z)(function*(C,N){const z=yield Ri(C),oe=so(N),be={method:"POST",headers:z,body:JSON.stringify(oe)};let ve;try{ve=yield(yield fetch(To(C.appConfig),be)).json()}catch(je){throw Zr.create("token-subscribe-failed",{errorInfo:je?.toString()})}if(ve.error)throw Zr.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw Zr.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function Xi(){return(Xi=(0,M.Z)(function*(C,N){const z=yield Ri(C),oe=so(N.subscriptionOptions),be={method:"PATCH",headers:z,body:JSON.stringify(oe)};let ve;try{ve=yield(yield fetch(`${To(C.appConfig)}/${N.token}`,be)).json()}catch(je){throw Zr.create("token-update-failed",{errorInfo:je?.toString()})}if(ve.error)throw Zr.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw Zr.create("token-update-no-token");return ve.token})).apply(this,arguments)}function Sr(C,N){return Do.apply(this,arguments)}function Do(){return(Do=(0,M.Z)(function*(C,N){const oe={method:"DELETE",headers:yield Ri(C)};try{const ve=yield(yield fetch(`${To(C.appConfig)}/${N}`,oe)).json();if(ve.error)throw Zr.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(be){throw Zr.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function To({projectId:C}){return`${Di}/projects/${C}/registrations`}function Ri(C){return io.apply(this,arguments)}function io(){return(io=(0,M.Z)(function*({appConfig:C,installations:N}){const z=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function so({p256dh:C,auth:N,endpoint:z,vapidKey:oe}){const be={web:{endpoint:z,auth:N,p256dh:C}};return oe!==gs&&(be.web.applicationPubKey=oe),be}const Oi=6048e5;function So(){return So=(0,M.Z)(function*(C){const N=yield function pa(C,N){return qo.apply(this,arguments)}(C.swRegistration,C.vapidKey),z={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:N.endpoint,auth:Un(N.getKey("auth")),p256dh:Un(N.getKey("p256dh"))},oe=yield Xr(C.firebaseDependencies);if(oe){if(function vi(C,N){return N.vapidKey===C.vapidKey&&N.endpoint===C.endpoint&&N.auth===C.auth&&N.p256dh===C.p256dh}(oe.subscriptionOptions,z))return Date.now()>=oe.createTime+Oi?function zn(C,N){return Co.apply(this,arguments)}(C,{token:oe.token,createTime:Date.now(),subscriptionOptions:z}):oe.token;try{yield Sr(C.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Ns(C.firebaseDependencies,z)}return Ns(C.firebaseDependencies,z)}),So.apply(this,arguments)}function Br(){return Br=(0,M.Z)(function*(C){const N=yield Xr(C.firebaseDependencies);N&&(yield Sr(C.firebaseDependencies,N.token),yield function ro(C){return ys.apply(this,arguments)}(C.firebaseDependencies));const z=yield C.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),Br.apply(this,arguments)}function Co(){return Co=(0,M.Z)(function*(C,N){try{const z=yield function Si(C,N){return Xi.apply(this,arguments)}(C.firebaseDependencies,N),oe=Object.assign(Object.assign({},N),{token:z,createTime:Date.now()});return yield ms(C.firebaseDependencies,oe),z}catch(z){throw yield function Ur(C){return Br.apply(this,arguments)}(C),z}}),Co.apply(this,arguments)}function Ns(C,N){return oo.apply(this,arguments)}function oo(){return(oo=(0,M.Z)(function*(C,N){const oe={token:yield Qi(C,N),createTime:Date.now(),subscriptionOptions:N};return yield ms(C,oe),oe.token})).apply(this,arguments)}function qo(){return(qo=(0,M.Z)(function*(C,N){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ps(N)})})).apply(this,arguments)}function vs(C){const N={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function sa(C,N){if(!N.notification)return;C.notification={};const z=N.notification.title;z&&(C.notification.title=z);const oe=N.notification.body;oe&&(C.notification.body=oe);const be=N.notification.image;be&&(C.notification.image=be);const ve=N.notification.icon;ve&&(C.notification.icon=ve)}(N,C),function Zo(C,N){N.data&&(C.data=N.data)}(N,C),function m(C,N){var z,oe,be,ve,je;if(!(N.fcmOptions||null!==(z=N.notification)&&void 0!==z&&z.click_action))return;C.fcmOptions={};const Xt=null!==(be=null===(oe=N.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(ve=N.notification)||void 0===ve?void 0:ve.click_action;Xt&&(C.fcmOptions.link=Xt);const Kt=null===(je=N.fcmOptions)||void 0===je?void 0:je.analytics_label;Kt&&(C.fcmOptions.analyticsLabel=Kt)}(N,C),N}function d(C,N){const z=[];for(let oe=0;oe<C.length;oe++)z.push(C.charAt(oe)),oe<N.length&&z.push(N.charAt(oe));return z.join("")}function O(C){return Zr.create("missing-app-config-values",{valueName:C})}d("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),d("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class V{constructor(N,z,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function w(C){if(!C||!C.options)throw O("App Configuration Object");if(!C.name)throw O("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:z}=C;for(const oe of N)if(!z[oe])throw O(oe);return{appName:C.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:be,installations:z,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function v(C){return E.apply(this,arguments)}function E(){return(E=(0,M.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Nn,{scope:xs}),C.swRegistration.update().catch(()=>{})}catch(N){throw Zr.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function K(){return(K=(0,M.Z)(function*(C,N){if(!N&&!C.swRegistration&&(yield v(C)),N||!C.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Zr.create("invalid-sw-registration");C.swRegistration=N}})).apply(this,arguments)}function $e(){return($e=(0,M.Z)(function*(C,N){N?C.vapidKey=N:C.vapidKey||(C.vapidKey=gs)})).apply(this,arguments)}function jt(){return jt=(0,M.Z)(function*(C,N){if(!navigator)throw Zr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zr.create("permission-blocked");return yield function ge(C,N){return $e.apply(this,arguments)}(C,N?.vapidKey),yield function L(C,N){return K.apply(this,arguments)}(C,N?.serviceWorkerRegistration),function Os(C){return So.apply(this,arguments)}(C)}),jt.apply(this,arguments)}function Ht(){return(Ht=(0,M.Z)(function*(C,N,z){const oe=function Sn(C){switch(C){case tt.NOTIFICATION_CLICKED:return"notification_open";case tt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:z[zi],message_name:z[Mi],message_time:z[Ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dt(){return Dt=(0,M.Z)(function*(C,N){const z=N.data;if(!z.isFirebaseMessaging)return;C.onMessageHandler&&z.messageType===tt.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(vs(z)):C.onMessageHandler.next(vs(z)));const oe=z.data;(function h(C){return"object"==typeof C&&!!C&&zi in C})(oe)&&"1"===oe[Bo]&&(yield function Le(C,N,z){return Ht.apply(this,arguments)}(C,z.messageType,oe))}),Dt.apply(this,arguments)}const Ut="@firebase/messaging",Pt=C=>{const N=new V(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function gr(C,N){return Dt.apply(this,arguments)}(N,z)),N},Ze=C=>{const N=C.getProvider("messaging").getImmediate();return{getToken:oe=>function Ft(C,N){return jt.apply(this,arguments)}(N,oe)}};function $r(){return us.apply(this,arguments)}function us(){return(us=(0,M.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ht(){(0,ae._registerComponent)(new Ce.wA("messaging",Pt,"PUBLIC")),(0,ae._registerComponent)(new Ce.wA("messaging-internal",Ze,"PRIVATE")),(0,ae.registerVersion)(Ut,"0.12.4"),(0,ae.registerVersion)(Ut,"0.12.4","esm2017")}();const Ln="analytics",Er="firebase_id",mn="origin",Ni=6e4,ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pr="https://www.googletagmanager.com/gtag/js",xt=new Ie.Yd("@firebase/analytics"),Pn=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _i(C){if(!C.startsWith(Pr)){const N=Pn.create("invalid-gtag-resource",{gtagURL:C});return xt.warn(N.message),""}return C}function Rr(C){return Promise.all(C.map(N=>N.catch(z=>z)))}function Da(){return(Da=(0,M.Z)(function*(C,N,z,oe,be,ve){const je=oe[be];try{if(je)yield N[je];else{const Kt=(yield Rr(z)).find(In=>In.measurementId===be);Kt&&(yield N[Kt.appId])}}catch(Xt){xt.error(Xt)}C("config",be,ve)})).apply(this,arguments)}function Ta(){return(Ta=(0,M.Z)(function*(C,N,z,oe,be){try{let ve=[];if(be&&be.send_to){let je=be.send_to;Array.isArray(je)||(je=[je]);const Xt=yield Rr(z);for(const Kt of je){const In=Xt.find(Gn=>Gn.measurementId===Kt),Yn=In&&N[In.appId];if(!Yn){ve=[];break}ve.push(Yn)}}0===ve.length&&(ve=Object.values(N)),yield Promise.all(ve),C("event",oe,be||{})}catch(ve){xt.error(ve)}})).apply(this,arguments)}const _s=30,Yo=new class Vo{constructor(N={},z=1e3){this.throttleMetadata=N,this.intervalMillis=z}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,z){this.throttleMetadata[N]=z}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Ca(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Fe(){return(Fe=(0,M.Z)(function*(C){var N;const{appId:z,apiKey:oe}=C,be={method:"GET",headers:Ca(oe)},ve=ls.replace("{app-id}",z),je=yield fetch(ve,be);if(200!==je.status&&304!==je.status){let Xt="";try{const Kt=yield je.json();null!==(N=Kt.error)&&void 0!==N&&N.message&&(Xt=Kt.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:je.status,responseMessage:Xt})}return je.json()})).apply(this,arguments)}function uo(){return(uo=(0,M.Z)(function*(C,N=Yo,z){const{appId:oe,apiKey:be,measurementId:ve}=C.options;if(!oe)throw Pn.create("no-app-id");if(!be){if(ve)return{measurementId:ve,appId:oe};throw Pn.create("no-api-key")}const je=N.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new xa;return setTimeout((0,M.Z)(function*(){Xt.abort()}),void 0!==z?z:Ni),Bu({appId:oe,apiKey:be,measurementId:ve},je,Xt,N)})).apply(this,arguments)}function Bu(C,N,z){return za.apply(this,arguments)}function za(){return za=(0,M.Z)(function*(C,{throttleEndTimeMillis:N,backoffCount:z},oe,be=Yo){var ve;const{appId:je,measurementId:Xt}=C;try{yield function oa(C,N){return new Promise((z,oe)=>{const be=Math.max(N-Date.now(),0),ve=setTimeout(z,be);C.addEventListener(()=>{clearTimeout(ve),oe(Pn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(oe,N)}catch(Kt){if(Xt)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xt} provided in the "measurementId" field in the local Firebase config. [${Kt?.message}]`),{appId:je,measurementId:Xt};throw Kt}try{const Kt=yield function Xu(C){return Fe.apply(this,arguments)}(C);return be.deleteThrottleMetadata(je),Kt}catch(Kt){const In=Kt;if(!function fc(C){if(!(C instanceof fe.ZR&&C.customData))return!1;const N=Number(C.customData.httpStatus);return 429===N||500===N||503===N||504===N}(In)){if(be.deleteThrottleMetadata(je),Xt)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xt} provided in the "measurementId" field in the local Firebase config. [${In?.message}]`),{appId:je,measurementId:Xt};throw Kt}const Yn=503===Number(null===(ve=In?.customData)||void 0===ve?void 0:ve.httpStatus)?(0,fe.$s)(z,be.intervalMillis,_s):(0,fe.$s)(z,be.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+Yn,backoffCount:z+1};return be.setThrottleMetadata(je,Gn),xt.debug(`Calling attemptFetch again in ${Yn} millis`),Bu(C,Gn,oe,be)}}),za.apply(this,arguments)}class xa{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let va,Pa;function Fl(){return(Fl=(0,M.Z)(function*(C,N,z,oe,be){if(be&&be.global)C("event",z,oe);else{const ve=yield N;C("event",z,Object.assign(Object.assign({},oe),{send_to:ve}))}})).apply(this,arguments)}function Wa(){return(Wa=(0,M.Z)(function*(){if(!(0,fe.hl)())return xt.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(C){return xt.warn(Pn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function T(){return T=(0,M.Z)(function*(C,N,z,oe,be,ve,je){var Xt;const Kt=function Aa(C){return uo.apply(this,arguments)}(C);Kt.then(Is=>{z[Is.measurementId]=Is.appId,C.options.measurementId&&Is.measurementId!==C.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Is=>xt.error(Is)),N.push(Kt);const In=function lo(){return Wa.apply(this,arguments)}().then(Is=>{if(Is)return oe.getId()}),[Yn,Gn]=yield Promise.all([Kt,In]);(function Ao(C){const N=window.document.getElementsByTagName("script");for(const z of Object.values(N))if(z.src&&z.src.includes(Pr)&&z.src.includes(C))return z;return null})(ve)||function ks(C,N){const z=function Rt(C,N){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(C,N)),z}("firebase-js-sdk-policy",{createScriptURL:_i}),oe=document.createElement("script"),be=`${Pr}?l=${C}&id=${N}`;oe.src=z?z?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(ve,Yn.measurementId),Pa&&(be("consent","default",Pa),function Ha(C){Pa=C}(void 0)),be("js",new Date);const qs=null!==(Xt=je?.config)&&void 0!==Xt?Xt:{};return qs[mn]="firebase",qs.update=!0,null!=Gn&&(qs[Er]=Gn),be("config",Yn.measurementId,qs),va&&(be("set",va),function bu(C){va=C}(void 0)),Yn.measurementId}),T.apply(this,arguments)}class _{constructor(N){this.app=N}_delete(){return delete R[this.app.options.appId],Promise.resolve()}}let R={},B=[];const q={};let mt,Wt,ee="dataLayer",Ne="gtag",tn=!1;function aa(C,N,z){!function ai(){const C=[];if((0,fe.ru)()&&C.push("This is a browser extension environment."),(0,fe.zI)()||C.push("Cookies are not available."),C.length>0){const N=C.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),z=Pn.create("invalid-analytics-context",{errorInfo:N});xt.warn(z.message)}}();const oe=C.options.appId;if(!oe)throw Pn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Pn.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=R[oe])throw Pn.create("already-exists",{id:oe});if(!tn){!function ma(C){let N=[];Array.isArray(window[C])?N=window[C]:window[C]=N}(ee);const{wrappedGtag:ve,gtagCore:je}=function Sa(C,N,z,oe,be){let ve=function(...je){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(ve=window[be]),window[be]=function ki(C,N,z,oe){function ve(){return ve=(0,M.Z)(function*(je,...Xt){try{if("event"===je){const[Kt,In]=Xt;yield function $a(C,N,z,oe,be){return Ta.apply(this,arguments)}(C,N,z,Kt,In)}else if("config"===je){const[Kt,In]=Xt;yield function ya(C,N,z,oe,be,ve){return Da.apply(this,arguments)}(C,N,z,oe,Kt,In)}else if("consent"===je){const[Kt]=Xt;C("consent","update",Kt)}else if("get"===je){const[Kt,In,Yn]=Xt;C("get",Kt,In,Yn)}else if("set"===je){const[Kt]=Xt;C("set",Kt)}else C(je,...Xt)}catch(Kt){xt.error(Kt)}}),ve.apply(this,arguments)}return function be(je){return ve.apply(this,arguments)}}(ve,C,N,z),{gtagCore:ve,wrappedGtag:window[be]}}(R,B,q,ee,Ne);Wt=ve,mt=je,tn=!0}return R[oe]=function D(C,N,z,oe,be,ve,je){return T.apply(this,arguments)}(C,B,q,N,mt,ee,z),new _(C)}function xo(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,M.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const cu="@firebase/analytics";!function el(){(0,ae._registerComponent)(new Ce.wA(Ln,(N,{options:z})=>aa(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,ae._registerComponent)(new Ce.wA("analytics-internal",function C(N){try{const z=N.getProvider(Ln).getImmediate();return{logEvent:(oe,be,ve)=>function fi(C,N,z,oe){C=(0,fe.m9)(C),function Ll(C,N,z,oe,be){return Fl.apply(this,arguments)}(Wt,R[C.app.options.appId],N,z,oe).catch(be=>xt.error(be))}(z,oe,be,ve)}}catch(z){throw Pn.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,ae.registerVersion)(cu,"0.10.0"),(0,ae.registerVersion)(cu,"0.10.0","esm2017")}();var od=j(4408),Du=j(7565);const Li=new class Ra extends Du.v{}(class cs extends od.o{constructor(N,z){super(N,z),this.scheduler=N,this.work=z}schedule(N,z=0){return z>0?super.schedule(N,z):(this.delay=z,this.state=N,this.scheduler.flush(this),this)}execute(N,z){return z>0||this.closed?super.execute(N,z):this._execute(N,z)}requestAsyncId(N,z,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(N,z,oe):(N.flush(this),0)}});var Vl=j(4986),Ga=j(9751),Tu=j(8505),tl=j(9468),Ea=j(5363);const Jo=new I.GfV("7.5.0"),Vu="__angularfire_symbol__analyticsIsSupportedValue",Ia="__angularfire_symbol__analyticsIsSupported",co="__angularfire_symbol__remoteConfigIsSupportedValue",du="__angularfire_symbol__remoteConfigIsSupported",Oa="__angularfire_symbol__messagingIsSupportedValue",nl="__angularfire_symbol__messagingIsSupported";function fu(C,N,z){if(N){if(1===N.length)return N[0];const ve=N.filter(je=>je.app===z);if(1===ve.length)return ve[0]}return z.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ia]||(globalThis[Ia]=xo().then(C=>globalThis[Vu]=C).catch(()=>globalThis[Vu]=!1)),globalThis[nl]||(globalThis[nl]=$r().then(C=>globalThis[Oa]=C).catch(()=>globalThis[Oa]=!1)),globalThis[du]||(globalThis[du]=_o().then(C=>globalThis[co]=C).catch(()=>globalThis[co]=!1));const Su=(C,N)=>{const z=N?[N]:(0,F.C6)(),oe=[];return z.forEach(be=>{be.container.getProvider(C).instances.forEach(je=>{oe.includes(je)||oe.push(je)})}),oe};function Ka(){}class $u{constructor(N,z=Li){this.zone=N,this.delegate=z}now(){return this.delegate.now()}schedule(N,z,oe){const be=this.zone;return this.delegate.schedule(function(je){be.runGuarded(()=>{N.apply(this,[je])})},z,oe)}}class $o{constructor(N){this.zone=N,this.task=null}call(N,z){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)),z.pipe((0,Tu.b)({next:oe,complete:oe,error:oe})).subscribe(N).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qa=(()=>{class C{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new $u(Zone.current)),this.insideAngular=z.run(()=>new $u(Zone.current,Vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(z){return new(z||C)(I.LFG(I.R0b))},C.\u0275prov=I.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Za(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ya(C){return Za().ngZone.run(()=>C())}function Es(C){return Za(),function pc(C){return function(z){return(z=z.lift(new $o(C.ngZone))).pipe((0,tl.R)(C.outsideAngular),(0,Ea.Q)(C.insideAngular))}}(Za())(C)}const di=(C,N)=>function(){const oe=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Ya(()=>C.apply(void 0,oe))},ba=(C,N)=>function(){let z;const oe=arguments;for(let ve=0;ve<arguments.length;ve++)"function"==typeof oe[ve]&&(N&&(z||(z=Ya(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)))),oe[ve]=di(oe[ve],z));const be=function ud(C){return Za().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,oe));if(!N){if(be instanceof Ga.y){const ve=Za();return be.pipe((0,tl.R)(ve.outsideAngular),(0,Ea.Q)(ve.insideAngular))}return Ya(()=>be)}return be instanceof Ga.y?be.pipe(Es):be instanceof Promise?Ya(()=>new Promise((ve,je)=>be.then(Xt=>Ya(()=>ve(Xt)),Xt=>Ya(()=>je(Xt))))):"function"==typeof be&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),be.apply(this,arguments)}:Ya(()=>be)}},8502:(Jt,Me,j)=>{"use strict";j.d(Me,{$:()=>Nn,A:()=>he,D:()=>Qe,I:()=>Zn,J:()=>ct,L:()=>pr,N:()=>fr,P:()=>D,Q:()=>qi,R:()=>_a,U:()=>Lo,V:()=>_o,W:()=>zs,X:()=>Vi,Y:()=>Ss,Z:()=>wo,_:()=>os,a:()=>Ji,a0:()=>gs,a1:()=>zi,a2:()=>Eo,a3:()=>no,a4:()=>Pi,a5:()=>as,a6:()=>yi,a7:()=>oi,a8:()=>Zi,a9:()=>Yi,aA:()=>Ue,aB:()=>Ia,aC:()=>Tn,aD:()=>kr,aE:()=>Tu,aF:()=>Us,aG:()=>lu,aH:()=>tr,aL:()=>ao,aO:()=>$i,aa:()=>ro,ab:()=>Ti,ac:()=>fa,ad:()=>Si,ae:()=>Sr,af:()=>To,ai:()=>Oi,aj:()=>So,ak:()=>Ur,an:()=>Js,ao:()=>sa,aq:()=>$e,ar:()=>Ut,as:()=>an,at:()=>Te,au:()=>se,av:()=>Ye,aw:()=>Gn,ax:()=>nl,ay:()=>Ke,az:()=>Je,b:()=>Ks,c:()=>Wt,d:()=>aa,e:()=>Nr,f:()=>cu,g:()=>Ra,h:()=>od,i:()=>ja,j:()=>Vl,k:()=>Cu,l:()=>Ma,m:()=>gc,o:()=>ol,p:()=>de,r:()=>Iu,s:()=>ci,u:()=>lo});var I=j(5861),F=j(2090),M=j(6881),ae=j(655),fe=j(1877),Ce=j(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},wt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new fe.Yd("@firebase/auth");function yt(S,...f){at.logLevel<=fe.in.ERROR&&at.error(`Auth (${M.SDK_VERSION}): ${S}`,...f)}function Ye(S,...f){throw pt(S,...f)}function Je(S,...f){return pt(S,...f)}function ut(S,f,y){const A=Object.assign(Object.assign({},wt()),{[f]:y});return new F.LL("auth","Firebase",A).create(f,{appName:S.name})}function Se(S,f,y){if(!(f instanceof y))throw y.name!==f.constructor.name&&Ye(S,"argument-error"),ut(S,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pt(S,...f){if("string"!=typeof S){const y=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=S.name),S._errorFactory.create(y,...A)}return Tt.create(S,...f)}function Ue(S,f,...y){if(!S)throw pt(f,...y)}function It(S){const f="INTERNAL ASSERTION FAILED: "+S;throw yt(f),new Error(f)}function an(S,f){S||It(f)}function bt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function Lt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class it{constructor(f,y){this.shortDelay=f,this.longDelay=y,an(y>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function We(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(S,f){an(S.emulator,"Emulator should always be set here");const{url:y}=S.emulator;return f?`${y}${f.startsWith("/")?f.slice(1):f}`:y}class St{static initialize(f,y,A){this.fetchImpl=f,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mt=new it(3e4,6e4);function Et(S,f){return S.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:S.tenantId}):f}function vn(S,f,y,A){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,I.Z)(function*(S,f,y,A,W={}){return Yt(S,W,(0,I.Z)(function*(){let J={},Re={};A&&("GET"===f?Re=A:J={body:JSON.stringify(A)});const rt=(0,F.xO)(Object.assign({key:S.config.apiKey},Re)).slice(1),Bt=yield S._getAdditionalHeaders();return Bt["Content-Type"]="application/json",S.languageCode&&(Bt["X-Firebase-Locale"]=S.languageCode),St.fetch()(Hn(S,S.config.apiHost,y,rt),Object.assign({method:f,headers:Bt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Yt(S,f,y){return kt.apply(this,arguments)}function kt(){return(kt=(0,I.Z)(function*(S,f,y){S._canInitEmulator=!1;const A=Object.assign(Object.assign({},dt),f);try{const W=new yr(S),J=yield Promise.race([y(),W.promise]);W.clearNetworkTimeout();const Re=yield J.json();if("needConfirmation"in Re)throw Fn(S,"account-exists-with-different-credential",Re);if(J.ok&&!("errorMessage"in Re))return Re;{const rt=J.ok?Re.errorMessage:Re.error.message,[Bt,ln]=rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw Fn(S,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Bt)throw Fn(S,"email-already-in-use",Re);if("USER_DISABLED"===Bt)throw Fn(S,"user-disabled",Re);const On=A[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw ut(S,On,ln);Ye(S,On)}}catch(W){if(W instanceof F.ZR)throw W;Ye(S,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Dn(S,f,y,A){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,I.Z)(function*(S,f,y,A,W={}){const J=yield vn(S,f,y,A,W);return"mfaPendingCredential"in J&&Ye(S,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Hn(S,f,y,A){const W=`${f}${y}?${A}`;return S.config.emulator?st(S.config,W):`${S.config.apiScheme}://${W}`}class yr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(Je(this.auth,"network-request-failed")),Mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(S,f,y){const A={appName:S.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const W=Je(S,f,A);return W.customData._tokenResponse=y,W}function zt(){return(zt=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ir(){return(ir=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bn(){return(bn=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function en(S){if(S)try{const f=new Date(Number(S));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function cr(){return(cr=(0,I.Z)(function*(S,f=!1){const y=(0,F.m9)(S),A=yield y.getIdToken(f),W=Vr(A);Ue(W&&W.exp&&W.auth_time&&W.iat,y.auth,"internal-error");const J="object"==typeof W.firebase?W.firebase:void 0,Re=J?.sign_in_provider;return{claims:W,token:A,authTime:en(Lr(W.auth_time)),issuedAtTime:en(Lr(W.iat)),expirationTime:en(Lr(W.exp)),signInProvider:Re||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function Lr(S){return 1e3*Number(S)}function Vr(S){const[f,y,A]=S.split(".");if(void 0===f||void 0===y||void 0===A)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,F.tV)(y);return W?JSON.parse(W):(yt("Failed to decode base64 JWT payload"),null)}catch(W){return yt("Caught error parsing JWT payload as JSON",W?.toString()),null}}function pn(S,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,I.Z)(function*(S,f,y=!1){if(y)return f;try{return yield f}catch(A){throw A instanceof F.ZR&&function Ct({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(A)&&S.auth.currentUser===S&&(yield S.auth.signOut()),A}})).apply(this,arguments)}class dr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var y;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const W=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,I.Z)(function*(){yield y.iteration()}),A)}iteration(){var f=this;return(0,I.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&f.schedule(!0))}f.schedule()})()}}class Ar{constructor(f,y){this.createdAt=f,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(S){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,I.Z)(function*(S){var f;const y=S.auth,A=yield S.getIdToken(),W=yield pn(S,function Kn(S,f){return bn.apply(this,arguments)}(y,{idToken:A}));Ue(W?.users.length,y,"internal-error");const J=W.users[0];S._notifyReloadListener(J);const Re=null!==(f=J.providerUserInfo)&&void 0!==f&&f.length?function qn(S){return S.map(f=>{var{providerId:y}=f,A=(0,ae._T)(f,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(J.providerUserInfo):[],rt=function An(S,f){return[...S.filter(A=>!f.some(W=>W.providerId===A.providerId)),...f]}(S.providerData,Re),On=!!S.isAnonymous&&!(S.email&&J.passwordHash||rt?.length),sr={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:rt,metadata:new Ar(J.createdAt,J.lastLoginAt),isAnonymous:On};Object.assign(S,sr)}),Fr.apply(this,arguments)}function hr(){return(hr=(0,I.Z)(function*(S){const f=(0,F.m9)(S);yield ur(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function cn(){return(cn=(0,I.Z)(function*(S,f){const y=yield Yt(S,{},(0,I.Z)(function*(){const A=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:J}=S.config,Re=Hn(S,W,"/v1/token",`key=${J}`),rt=yield S._getAdditionalHeaders();return rt["Content-Type"]="application/x-www-form-urlencoded",St.fetch()(Re,{method:"POST",headers:rt,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class yn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ue(f.idToken,"internal-error"),Ue(typeof f.idToken<"u","internal-error"),Ue(typeof f.refreshToken<"u","internal-error");const y="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function un(S){const f=Vr(S);return Ue(f,"internal-error"),Ue(typeof f.exp<"u","internal-error"),Ue(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,y)}getToken(f,y=!1){var A=this;return(0,I.Z)(function*(){return Ue(!A.accessToken||A.refreshToken,f,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,y){var A=this;return(0,I.Z)(function*(){const{accessToken:W,refreshToken:J,expiresIn:Re}=yield function fn(S,f){return cn.apply(this,arguments)}(f,y);A.updateTokensAndExpiration(W,J,Number(Re))})()}updateTokensAndExpiration(f,y,A){this.refreshToken=y||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,y){const{refreshToken:A,accessToken:W,expirationTime:J}=y,Re=new yn;return A&&(Ue("string"==typeof A,"internal-error",{appName:f}),Re.refreshToken=A),W&&(Ue("string"==typeof W,"internal-error",{appName:f}),Re.accessToken=W),J&&(Ue("number"==typeof J,"internal-error",{appName:f}),Re.expirationTime=J),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new yn,this.toJSON())}_performRefresh(){return It("not implemented")}}function Xn(S,f){Ue("string"==typeof S||typeof S>"u","internal-error",{appName:f})}class Jn{constructor(f){var{uid:y,auth:A,stsTokenManager:W}=f,J=(0,ae._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Ar(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(f){var y=this;return(0,I.Z)(function*(){const A=yield pn(y,y.stsTokenManager.getToken(y.auth,f));return Ue(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(f){return function ar(S){return cr.apply(this,arguments)}(this,f)}reload(){return function br(S){return hr.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ue(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(y=>Object.assign({},y)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const y=new Jn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(f){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,y=!1){var A=this;return(0,I.Z)(function*(){let W=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),W=!0),y&&(yield ur(A)),yield A.auth._persistUserIfCurrent(A),W&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,I.Z)(function*(){const y=yield f.getIdToken();return yield pn(f,function _n(S,f){return zt.apply(this,arguments)}(f.auth,{idToken:y})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,y){var A,W,J,Re,rt,Bt,ln,On;const sr=null!==(A=y.displayName)&&void 0!==A?A:void 0,Ro=null!==(W=y.email)&&void 0!==W?W:void 0,eu=null!==(J=y.phoneNumber)&&void 0!==J?J:void 0,yc=null!==(Re=y.photoURL)&&void 0!==Re?Re:void 0,gu=null!==(rt=y.tenantId)&&void 0!==rt?rt:void 0,al=null!==(Bt=y._redirectEventId)&&void 0!==Bt?Bt:void 0,Ho=null!==(ln=y.createdAt)&&void 0!==ln?ln:void 0,vc=null!==(On=y.lastLoginAt)&&void 0!==On?On:void 0,{uid:Au,emailVerified:_c,isAnonymous:la,providerData:Gl,stsTokenManager:mu}=y;Ue(Au&&mu,f,"internal-error");const wc=yn.fromJSON(this.name,mu);Ue("string"==typeof Au,f,"internal-error"),Xn(sr,f.name),Xn(Ro,f.name),Ue("boolean"==typeof _c,f,"internal-error"),Ue("boolean"==typeof la,f,"internal-error"),Xn(eu,f.name),Xn(yc,f.name),Xn(gu,f.name),Xn(al,f.name),Xn(Ho,f.name),Xn(vc,f.name);const Ec=new Jn({uid:Au,auth:f,email:Ro,emailVerified:_c,displayName:sr,isAnonymous:la,photoURL:yc,phoneNumber:eu,tenantId:gu,stsTokenManager:wc,createdAt:Ho,lastLoginAt:vc});return Gl&&Array.isArray(Gl)&&(Ec.providerData=Gl.map(mr=>Object.assign({},mr))),al&&(Ec._redirectEventId=al),Ec}static _fromIdTokenResponse(f,y,A=!1){return(0,I.Z)(function*(){const W=new yn;W.updateFromServerResponse(y);const J=new Jn({uid:y.localId,auth:f,stsTokenManager:W,isAnonymous:A});return yield ur(J),J})()}}const $n=new Map;function Tn(S){an(S instanceof Function,"Expected a class definition");let f=$n.get(S);return f?(an(f instanceof S,"Instance stored in cache mismatched with class"),f):(f=new S,$n.set(S,f),f)}const fr=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(y,A){var W=this;return(0,I.Z)(function*(){W.storage[y]=A})()}_get(y){var A=this;return(0,I.Z)(function*(){const W=A.storage[y];return void 0===W?null:W})()}_remove(y){var A=this;return(0,I.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return S.type="NONE",S})();function kr(S,f,y){return`firebase:${S}:${f}:${y}`}class pe{constructor(f,y,A){this.persistence=f,this.auth=y,this.userKey=A;const{config:W,name:J}=this.auth;this.fullUserKey=kr(this.userKey,W.apiKey,J),this.fullPersistenceKey=kr("persistence",W.apiKey,J),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,I.Z)(function*(){const y=yield f.persistence._get(f.fullUserKey);return y?Jn._fromJSON(f.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var y=this;return(0,I.Z)(function*(){if(y.persistence===f)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=f,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,y,A="authUser"){return(0,I.Z)(function*(){if(!y.length)return new pe(Tn(fr),f,A);const W=(yield Promise.all(y.map(function(){var ln=(0,I.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let J=W[0]||Tn(fr);const Re=kr(A,f.config.apiKey,f.name);let rt=null;for(const ln of y)try{const On=yield ln._get(Re);if(On){const sr=Jn._fromJSON(f,On);ln!==J&&(rt=sr),J=ln;break}}catch{}const Bt=W.filter(ln=>ln._shouldAllowMigration);return J._shouldAllowMigration&&Bt.length?(J=Bt[0],rt&&(yield J._set(Re,rt.toJSON())),yield Promise.all(y.map(function(){var ln=(0,I.Z)(function*(On){if(On!==J)try{yield On._remove(Re)}catch{}});return function(On){return ln.apply(this,arguments)}}())),new pe(J,f,A)):new pe(J,f,A)})()}}function ce(S){const f=S.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(_e(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Q(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ue(f))return"Blackberry";if(re(f))return"Webos";if(te(f))return"Safari";if((f.includes("chrome/")||Z(f))&&!f.includes("edge/"))return"Chrome";if(se(f))return"Android";{const A=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Q(S=(0,F.z$)()){return/firefox\//i.test(S)}function te(S=(0,F.z$)()){const f=S.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Z(S=(0,F.z$)()){return/crios\//i.test(S)}function _e(S=(0,F.z$)()){return/iemobile/i.test(S)}function se(S=(0,F.z$)()){return/android/i.test(S)}function ue(S=(0,F.z$)()){return/blackberry/i.test(S)}function re(S=(0,F.z$)()){return/webos/i.test(S)}function Te(S=(0,F.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function Ke(S=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function ot(S=(0,F.z$)()){return Te(S)||se(S)||re(S)||ue(S)||/windows phone/i.test(S)||_e(S)}function rn(S,f=[]){let y;switch(S){case"Browser":y=ce((0,F.z$)());break;case"Worker":y=`${ce((0,F.z$)())}-${S}`;break;default:y=S}const A=f.length?f.join(","):"FirebaseCore-web";return`${y}/JsCore/${M.SDK_VERSION}/${A}`}function Ae(){return(Ae=(0,I.Z)(function*(S){return(yield vn(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vt(S,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,I.Z)(function*(S,f){return vn(S,"GET","/v2/recaptchaConfig",Et(S,f))})).apply(this,arguments)}function dn(S){return void 0!==S&&void 0!==S.getResponse}function Oe(S){return void 0!==S&&void 0!==S.enterprise}class G{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function De(S){return new Promise((f,y)=>{const A=document.createElement("script");A.setAttribute("src",S),A.onload=f,A.onerror=W=>{const J=Je("internal-error");J.customData=W,y(J)},A.type="text/javascript",A.charset="UTF-8",function ne(){var S,f;return null!==(f=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==f?f:document}().appendChild(A)})}function nt(S){return`__${S}${Math.floor(1e6*Math.random())}`}const Dr="NO_RECAPTCHA";class er{constructor(f){this.type="recaptcha-enterprise",this.auth=tr(f)}verify(f="verify",y=!1){var A=this;return(0,I.Z)(function*(){function J(){return J=(0,I.Z)(function*(rt){if(!y){if(null==rt.tenantId&&null!=rt._agentRecaptchaConfig)return rt._agentRecaptchaConfig.siteKey;if(null!=rt.tenantId&&void 0!==rt._tenantRecaptchaConfigs[rt.tenantId])return rt._tenantRecaptchaConfigs[rt.tenantId].siteKey}return new Promise(function(){var Bt=(0,I.Z)(function*(ln,On){vt(rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(sr=>{if(void 0!==sr.recaptchaKey){const Ro=new G(sr);return null==rt.tenantId?rt._agentRecaptchaConfig=Ro:rt._tenantRecaptchaConfigs[rt.tenantId]=Ro,ln(Ro.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(sr=>{On(sr)})});return function(ln,On){return Bt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Re(rt,Bt,ln){const On=window.grecaptcha;Oe(On)?On.enterprise.ready(()=>{On.enterprise.execute(rt,{action:f}).then(sr=>{Bt(sr)}).catch(()=>{Bt(Dr)})}):ln(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rt,Bt)=>{(function W(rt){return J.apply(this,arguments)})(A.auth).then(ln=>{if(!y&&Oe(window.grecaptcha))Re(ln,rt,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));De("https://www.google.com/recaptcha/enterprise.js?render="+ln).then(()=>{Re(ln,rt,Bt)}).catch(On=>{Bt(On)})}}).catch(ln=>{Bt(ln)})})})()}}function _r(S,f,y){return At.apply(this,arguments)}function At(){return(At=(0,I.Z)(function*(S,f,y,A=!1){const W=new er(S);let J;try{J=yield W.verify(y)}catch{J=yield W.verify(y,!0)}const Re=Object.assign({},f);return Object.assign(Re,A?{captchaResp:J}:{captchaResponse:J}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}class xn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,y){const A=J=>new Promise((Re,rt)=>{try{Re(f(J))}catch(Bt){rt(Bt)}});A.onAbort=y,this.queue.push(A);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(f){var y=this;return(0,I.Z)(function*(){if(y.auth.currentUser===f)return;const A=[];try{for(const W of y.queue)yield W(f),W.onAbort&&A.push(W.onAbort)}catch(W){A.reverse();for(const J of A)try{J()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}class Wn{constructor(f,y,A,W){this.app=f,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=A,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ui(this),this.idTokenSubscription=new ui(this),this.beforeStateQueue=new xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(f,y){var A=this;return y&&(this._popupRedirectResolver=Tn(y)),this._initializationPromise=this.queue((0,I.Z)(function*(){var W,J;if(!A._deleted&&(A.persistenceManager=yield pe.create(A,f),!A._deleted)){if(null!==(W=A._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(J=A.currentUser)||void 0===J?void 0:J.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,I.Z)(function*(){if(f._deleted)return;const y=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||y){if(f.currentUser&&y&&f.currentUser.uid===y.uid)return f._currentUser._assign(y),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(y,!0)}})()}initializeCurrentUser(f){var y=this;return(0,I.Z)(function*(){var A;const W=yield y.assertedPersistence.getCurrentUser();let J=W,Re=!1;if(f&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const rt=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,Bt=J?._redirectEventId,ln=yield y.tryRedirectSignIn(f);(!rt||rt===Bt)&&ln?.user&&(J=ln.user,Re=!0)}if(!J)return y.directlySetCurrentUser(null);if(!J._redirectEventId){if(Re)try{yield y.beforeStateQueue.runMiddleware(J)}catch(rt){J=W,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(rt))}return J?y.reloadAndSetCurrentUserOrClear(J):y.directlySetCurrentUser(null)}return Ue(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===J._redirectEventId?y.directlySetCurrentUser(J):y.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(f){var y=this;return(0,I.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,f,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var y=this;return(0,I.Z)(function*(){try{yield ur(f)}catch(A){if("auth/network-request-failed"!==A?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var f=this;return(0,I.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var y=this;return(0,I.Z)(function*(){const A=f?(0,F.m9)(f):null;return A&&Ue(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(f,y=!1){var A=this;return(0,I.Z)(function*(){if(!A._deleted)return f&&Ue(A.tenantId===f.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(f)),A.queue((0,I.Z)(function*(){yield A.directlySetCurrentUser(f),A.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,I.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var y=this;return this.queue((0,I.Z)(function*(){yield y.assertedPersistence.setPersistence(Tn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,I.Z)(function*(){const y=yield vt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new G(y);null==f.tenantId?f._agentRecaptchaConfig=A:f._tenantRecaptchaConfigs[f.tenantId]=A,A.emailPasswordEnabled&&new er(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,y,A){return this.registerStateListener(this.authStateSubscription,f,y,A)}beforeAuthStateChanged(f,y){return this.beforeStateQueue.pushCallback(f,y)}onIdTokenChanged(f,y,A){return this.registerStateListener(this.idTokenSubscription,f,y,A)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,y){var A=this;return(0,I.Z)(function*(){const W=yield A.getOrInitRedirectPersistenceManager(y);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var y=this;return(0,I.Z)(function*(){if(!y.redirectPersistenceManager){const A=f&&Tn(f)||y._popupRedirectResolver;Ue(A,y,"argument-error"),y.redirectPersistenceManager=yield pe.create(y,[Tn(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(f){var y=this;return(0,I.Z)(function*(){var A,W;return y._isInitialized&&(yield y.queue((0,I.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===f?y._currentUser:(null===(W=y.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?y.redirectUser:null})()}_persistUserIfCurrent(f){var y=this;return(0,I.Z)(function*(){if(f===y.currentUser)return y.queue((0,I.Z)(function*(){return y.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,y,A,W){if(this._deleted)return()=>{};const J="function"==typeof y?y:y.next.bind(y),Re=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(Re,this,"internal-error"),Re.then(()=>J(this.currentUser)),"function"==typeof y?f.addObserver(y,A,W):f.addObserver(y)}directlySetCurrentUser(f){var y=this;return(0,I.Z)(function*(){y.currentUser&&y.currentUser!==f&&y._currentUser._stopProactiveRefresh(),f&&y.isProactiveRefreshEnabled&&f._startProactiveRefresh(),y.currentUser=f,f?yield y.assertedPersistence.setCurrentUser(f):yield y.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,I.Z)(function*(){var y;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(y=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();W&&(A["X-Firebase-Client"]=W);const J=yield f._getAppCheckToken();return J&&(A["X-Firebase-AppCheck"]=J),A})()}_getAppCheckToken(){var f=this;return(0,I.Z)(function*(){var y;const A=yield null===(y=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return A?.error&&function He(S,...f){at.logLevel<=fe.in.WARN&&at.warn(`Auth (${M.SDK_VERSION}): ${S}`,...f)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function tr(S){return(0,F.m9)(S)}class ui{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(y=>this.observer=y)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zn(S,f,y){const A=tr(S);Ue(A._canInitEmulator,A,"emulator-config-failed"),Ue(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const W=!!y?.disableWarnings,J=xe(f),{host:Re,port:rt}=function we(S){const f=xe(S),y=/(\/\/)?([^?#/]+)/.exec(S.substr(f.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(A);if(W){const J=W[1];return{host:J,port:ye(A.substr(J.length+1))}}{const[J,Re]=A.split(":");return{host:J,port:ye(Re)}}}(f);A.config.emulator={url:`${J}//${Re}${null===rt?"":`:${rt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Re,port:rt,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function et(){function S(){const f=document.createElement("p"),y=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function xe(S){const f=S.indexOf(":");return f<0?"":S.substr(0,f+1)}function ye(S){if(!S)return null;const f=Number(S);return isNaN(f)?null:f}class ct{constructor(f,y){this.providerId=f,this.signInMethod=y}toJSON(){return It("not implemented")}_getIdTokenResponse(f){return It("not implemented")}_linkToIdToken(f,y){return It("not implemented")}_getReauthenticationResolver(f){return It("not implemented")}}function hn(S,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:resetPassword",Et(S,f))})).apply(this,arguments)}function Mn(S,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:update",Et(S,f))})).apply(this,arguments)}function Qr(S,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithPassword",Et(S,f))})).apply(this,arguments)}function Tr(S,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:sendOobCode",Et(S,f))})).apply(this,arguments)}function po(){return(po=(0,I.Z)(function*(S,f){return Tr(S,f)})).apply(this,arguments)}function Ds(S,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,I.Z)(function*(S,f){return Tr(S,f)})).apply(this,arguments)}function pi(S,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,I.Z)(function*(S,f){return Tr(S,f)})).apply(this,arguments)}function Ei(){return(Ei=(0,I.Z)(function*(S,f){return Tr(S,f)})).apply(this,arguments)}function is(){return(is=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithEmailLink",Et(S,f))})).apply(this,arguments)}function Ki(){return(Ki=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithEmailLink",Et(S,f))})).apply(this,arguments)}class Gr extends ct{constructor(f,y,A,W=null){super("password",A),this._email=f,this._password=y,this._tenantId=W}static _fromEmailAndPassword(f,y){return new Gr(f,y,"password")}static _fromEmailAndCode(f,y,A=null){return new Gr(f,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(f){var y=this;return(0,I.Z)(function*(){var A;switch(y.signInMethod){case"password":const W={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=f._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const J=yield _r(f,W,"signInWithPassword");return Qr(f,J)}return Qr(f,W).catch(function(){var J=(0,I.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield _r(f,W,"signInWithPassword");return Qr(f,rt)}return Promise.reject(Re)});return function(Re){return J.apply(this,arguments)}}());case"emailLink":return function gi(S,f){return is.apply(this,arguments)}(f,{email:y._email,oobCode:y._password});default:Ye(f,"internal-error")}})()}_linkToIdToken(f,y){var A=this;return(0,I.Z)(function*(){switch(A.signInMethod){case"password":return Mn(f,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function ko(S,f){return Ki.apply(this,arguments)}(f,{idToken:y,email:A._email,oobCode:A._password});default:Ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Fi(S,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithIdp",Et(S,f))})).apply(this,arguments)}class pr extends ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const y=new pr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(y.idToken=f.idToken),f.accessToken&&(y.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(y.nonce=f.nonce),f.pendingToken&&(y.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(y.accessToken=f.oauthToken,y.secret=f.oauthTokenSecret):Ye("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:W}=y,J=(0,ae._T)(y,["providerId","signInMethod"]);if(!A||!W)return null;const Re=new pr(A,W);return Re.idToken=J.idToken||void 0,Re.accessToken=J.accessToken||void 0,Re.secret=J.secret,Re.nonce=J.nonce,Re.pendingToken=J.pendingToken||null,Re}_getIdTokenResponse(f){return Fi(f,this.buildRequest())}_linkToIdToken(f,y){const A=this.buildRequest();return A.idToken=y,Fi(f,A)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,Fi(f,y)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),f.postBody=(0,F.xO)(y)}return f}}function Ii(){return(Ii=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:sendVerificationCode",Et(S,f))})).apply(this,arguments)}function ta(){return(ta=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithPhoneNumber",Et(S,f))})).apply(this,arguments)}function fs(){return(fs=(0,I.Z)(function*(S,f){const y=yield Dn(S,"POST","/v1/accounts:signInWithPhoneNumber",Et(S,f));if(y.temporaryProof)throw Fn(S,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const mo={USER_NOT_FOUND:"user-not-found"};function Ko(){return(Ko=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithPhoneNumber",Et(S,Object.assign(Object.assign({},f),{operation:"REAUTH"})),mo)})).apply(this,arguments)}class Bi extends ct{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,y){return new Bi({verificationId:f,verificationCode:y})}static _fromTokenResponse(f,y){return new Bi({phoneNumber:f,temporaryProof:y})}_getIdTokenResponse(f){return function go(S,f){return ta.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,y){return function Ys(S,f){return fs.apply(this,arguments)}(f,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function yo(S,f){return Ko.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:y,verificationId:A,verificationCode:W}=this.params;return f&&y?{temporaryProof:f,phoneNumber:y}:{sessionInfo:A,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:y,verificationCode:A,phoneNumber:W,temporaryProof:J}=f;return A||y||W||J?new Bi({verificationId:y,verificationCode:A,phoneNumber:W,temporaryProof:J}):null}}class Ts{constructor(f){var y,A,W,J,Re,rt;const Bt=(0,F.zd)((0,F.pd)(f)),ln=null!==(y=Bt.apiKey)&&void 0!==y?y:null,On=null!==(A=Bt.oobCode)&&void 0!==A?A:null,sr=function bi(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Bt.mode)&&void 0!==W?W:null);Ue(ln&&On&&sr,"argument-error"),this.apiKey=ln,this.operation=sr,this.code=On,this.continueUrl=null!==(J=Bt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Re=Bt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(rt=Bt.tenantId)&&void 0!==rt?rt:null}static parseLink(f){const y=function na(S){const f=(0,F.zd)((0,F.pd)(S)).link,y=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,A=(0,F.zd)((0,F.pd)(S)).deep_link_id;return(A?(0,F.zd)((0,F.pd)(A)).link:null)||A||y||f||S}(f);try{return new Ts(y)}catch{return null}}}let qi=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(y,A){return Gr._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const W=Ts.parseLink(A);return Ue(W,"argument-error"),Gr._fromEmailAndCode(y,W.code,W.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class xi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Qs extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Vi extends Qs{static credentialFromJSON(f){const y="string"==typeof f?JSON.parse(f):f;return Ue("providerId"in y&&"signInMethod"in y,"argument-error"),pr._fromParams(y)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ue(f.idToken||f.accessToken,"argument-error"),pr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Vi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Vi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:A,oauthTokenSecret:W,pendingToken:J,nonce:Re,providerId:rt}=f;if(!A&&!W&&!y&&!J||!rt)return null;try{return new Vi(rt)._credential({idToken:y,accessToken:A,nonce:Re,pendingToken:J})}catch{return null}}}let Lo=(()=>{class S extends Qs{constructor(){super("facebook.com")}static credential(y){return pr._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return S.credentialFromTaggedObject(y)}static credentialFromError(y){return S.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return S.credential(y.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),_o=(()=>{class S extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(y,A){return pr._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:A})}static credentialFromResult(y){return S.credentialFromTaggedObject(y)}static credentialFromError(y){return S.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:A,oauthAccessToken:W}=y;if(!A&&!W)return null;try{return S.credential(A,W)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),zs=(()=>{class S extends Qs{constructor(){super("github.com")}static credential(y){return pr._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return S.credentialFromTaggedObject(y)}static credentialFromError(y){return S.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return S.credential(y.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class $i extends ct{constructor(f,y){super(f,f),this.pendingToken=y}_getIdTokenResponse(f){return Fi(f,this.buildRequest())}_linkToIdToken(f,y){const A=this.buildRequest();return A.idToken=y,Fi(f,A)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,Fi(f,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:W,pendingToken:J}=y;return A&&W&&J&&A===W?new $i(A,J):null}static _create(f,y){return new $i(f,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ss extends xi{constructor(f){Ue(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ss.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ss.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const y=$i.fromJSON(f);return Ue(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:y,providerId:A}=f;if(!y||!A)return null;try{return $i._create(A,y)}catch{return null}}}let wo=(()=>{class S extends Qs{constructor(){super("twitter.com")}static credential(y,A){return pr._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:A})}static credentialFromResult(y){return S.credentialFromTaggedObject(y)}static credentialFromError(y){return S.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:A,oauthTokenSecret:W}=y;if(!A||!W)return null;try{return S.credential(A,W)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function Cs(S,f){return As.apply(this,arguments)}function As(){return(As=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signUp",Et(S,f))})).apply(this,arguments)}class jr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,y,A,W=!1){return(0,I.Z)(function*(){const J=yield Jn._fromIdTokenResponse(f,A,W),Re=ps(A);return new jr({user:J,providerId:Re,_tokenResponse:A,operationType:y})})()}static _forOperation(f,y,A){return(0,I.Z)(function*(){yield f._updateTokensIfNecessary(A,!0);const W=ps(A);return new jr({user:f,providerId:W,_tokenResponse:A,operationType:y})})()}}function ps(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function os(S){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,I.Z)(function*(S){var f;const y=tr(S);if(yield y._initializationPromise,null!==(f=y.currentUser)&&void 0!==f&&f.isAnonymous)return new jr({user:y.currentUser,providerId:null,operationType:"signIn"});const A=yield Cs(y,{returnSecureToken:!0}),W=yield jr._fromIdTokenResponse(y,"signIn",A,!0);return yield y._updateCurrentUser(W.user),W})).apply(this,arguments)}class ji extends F.ZR{constructor(f,y,A,W){var J;super(y.code,y.message),this.operationType=A,this.user=W,Object.setPrototypeOf(this,ji.prototype),this.customData={appName:f.name,tenantId:null!==(J=f.tenantId)&&void 0!==J?J:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,y,A,W){return new ji(f,y,A,W)}}function Xs(S,f,y,A){return("reauthenticate"===f?y._getReauthenticationResolver(S):y._getIdTokenResponse(S)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?ji._fromErrorAndOperation(S,J,f,A):J})}function ei(S){return new Set(S.map(({providerId:f})=>f).filter(f=>!!f))}function Js(S,f){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,I.Z)(function*(S,f){const y=(0,F.m9)(S);yield Hs(!0,y,f);const{providerUserInfo:A}=yield function rr(S,f){return ir.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[f]}),W=ei(A||[]);return y.providerData=y.providerData.filter(J=>W.has(J.providerId)),W.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Fo.apply(this,arguments)}function lr(S,f){return ii.apply(this,arguments)}function ii(){return(ii=(0,I.Z)(function*(S,f,y=!1){const A=yield pn(S,f._linkToIdToken(S.auth,yield S.getIdToken()),y);return jr._forOperation(S,"link",A)})).apply(this,arguments)}function Hs(S,f,y){return si.apply(this,arguments)}function si(){return(si=(0,I.Z)(function*(S,f,y){yield ur(f);const W=!1===S?"provider-already-linked":"no-such-provider";Ue(ei(f.providerData).has(y)===S,f.auth,W)})).apply(this,arguments)}function Uo(S,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,I.Z)(function*(S,f,y=!1){const{auth:A}=S,W="reauthenticate";try{const J=yield pn(S,Xs(A,W,f,S),y);Ue(J.idToken,A,"internal-error");const Re=Vr(J.idToken);Ue(Re,A,"internal-error");const{sub:rt}=Re;return Ue(S.uid===rt,A,"user-mismatch"),jr._forOperation(S,W,J)}catch(J){throw"auth/user-not-found"===J?.code&&Ye(A,"user-mismatch"),J}})).apply(this,arguments)}function eo(S,f){return to.apply(this,arguments)}function to(){return(to=(0,I.Z)(function*(S,f,y=!1){const A="signIn",W=yield Xs(S,A,f),J=yield jr._fromIdTokenResponse(S,A,W);return y||(yield S._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Nn(S,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,I.Z)(function*(S,f){return eo(tr(S),f)})).apply(this,arguments)}function gs(S,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,I.Z)(function*(S,f){const y=(0,F.m9)(S);return yield Hs(!1,y,f.providerId),lr(y,f)})).apply(this,arguments)}function zi(S,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,I.Z)(function*(S,f){return Uo((0,F.m9)(S),f)})).apply(this,arguments)}function Bo(){return(Bo=(0,I.Z)(function*(S,f){return Dn(S,"POST","/v1/accounts:signInWithCustomToken",Et(S,f))})).apply(this,arguments)}function Eo(S,f){return tt.apply(this,arguments)}function tt(){return tt=(0,I.Z)(function*(S,f){const y=tr(S),A=yield function Ms(S,f){return Bo.apply(this,arguments)}(y,{token:f,returnSecureToken:!0}),W=yield jr._fromIdTokenResponse(y,"signIn",A);return yield y._updateCurrentUser(W.user),W}),tt.apply(this,arguments)}class Un{constructor(f,y){this.factorId=f,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(f,y){return"phoneInfo"in y?Ps._fromServerResponse(f,y):"totpInfo"in y?Ws._fromServerResponse(f,y):Ye(f,"internal-error")}}class Ps extends Un{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,y){return new Ps(y)}}class Ws extends Un{constructor(f){super("totp",f)}static _fromServerResponse(f,y){return new Ws(y)}}function qr(S,f,y){var A;Ue((null===(A=y.url)||void 0===A?void 0:A.length)>0,S,"invalid-continue-uri"),Ue(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),f.continueUrl=y.url,f.dynamicLinkDomain=y.dynamicLinkDomain,f.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Ue(y.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),f.iOSBundleId=y.iOS.bundleId),y.android&&(Ue(y.android.packageName.length>0,S,"missing-android-pkg-name"),f.androidInstallApp=y.android.installApp,f.androidMinimumVersionCode=y.android.minimumVersion,f.androidPackageName=y.android.packageName)}function no(S,f,y){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,I.Z)(function*(S,f,y){var A;const W=tr(S),J={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=W._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Re=yield _r(W,J,"getOobCode",!0);y&&qr(W,Re,y),yield Ds(W,Re)}else y&&qr(W,J,y),yield Ds(W,J).catch(function(){var Re=(0,I.Z)(function*(rt){if("auth/missing-recaptcha-token"!==rt.code)return Promise.reject(rt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Bt=yield _r(W,J,"getOobCode",!0);y&&qr(W,Bt,y),yield Ds(W,Bt)}});return function(rt){return Re.apply(this,arguments)}}())}),Gs.apply(this,arguments)}function Pi(S,f,y){return hi.apply(this,arguments)}function hi(){return(hi=(0,I.Z)(function*(S,f,y){yield hn((0,F.m9)(S),{oobCode:f,newPassword:y})})).apply(this,arguments)}function as(S,f){return Io.apply(this,arguments)}function Io(){return Io=(0,I.Z)(function*(S,f){yield function ni(S,f){return wr.apply(this,arguments)}((0,F.m9)(S),{oobCode:f})}),Io.apply(this,arguments)}function yi(S,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,I.Z)(function*(S,f){const y=(0,F.m9)(S),A=yield hn(y,{oobCode:f}),W=A.requestType;switch(Ue(W,y,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(A.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(A.mfaInfo,y,"internal-error");default:Ue(A.email,y,"internal-error")}let J=null;return A.mfaInfo&&(J=Un._fromServerResponse(tr(y),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:J},operation:W}})).apply(this,arguments)}function oi(S,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,I.Z)(function*(S,f){const{data:y}=yield yi((0,F.m9)(S),f);return y.email})).apply(this,arguments)}function Zi(S,f,y){return ms.apply(this,arguments)}function ms(){return ms=(0,I.Z)(function*(S,f,y){var A;const W=tr(S),J={returnSecureToken:!0,email:f,password:y,clientType:"CLIENT_TYPE_WEB"};let Re;if(null!==(A=W._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const ln=yield _r(W,J,"signUpPassword");Re=Cs(W,ln)}else Re=Cs(W,J).catch(function(){var ln=(0,I.Z)(function*(On){if("auth/missing-recaptcha-token"===On.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const sr=yield _r(W,J,"signUpPassword");return Cs(W,sr)}return Promise.reject(On)});return function(On){return ln.apply(this,arguments)}}());const rt=yield Re.catch(ln=>Promise.reject(ln)),Bt=yield jr._fromIdTokenResponse(W,"signIn",rt);return yield W._updateCurrentUser(Bt.user),Bt}),ms.apply(this,arguments)}function Yi(S,f,y){return Nn((0,F.m9)(S),qi.credential(f,y))}function ro(S,f,y){return ys.apply(this,arguments)}function ys(){return ys=(0,I.Z)(function*(S,f,y){var A;const W=tr(S),J={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Re(rt,Bt){Ue(Bt.handleCodeInApp,W,"argument-error"),Bt&&qr(W,rt,Bt)}if(null!==(A=W._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const rt=yield _r(W,J,"getOobCode",!0);Re(rt,y),yield pi(W,rt)}else Re(J,y),yield pi(W,J).catch(function(){var rt=(0,I.Z)(function*(Bt){if("auth/missing-recaptcha-token"!==Bt.code)return Promise.reject(Bt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ln=yield _r(W,J,"getOobCode",!0);Re(ln,y),yield pi(W,ln)}});return function(Bt){return rt.apply(this,arguments)}}())}),ys.apply(this,arguments)}function Ti(S,f){return"EMAIL_SIGNIN"===Ts.parseLink(f)?.operation}function fa(S,f,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S),W=qi.credentialWithLink(f,y||bt());return Ue(W._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Nn(A,W)})).apply(this,arguments)}function bo(){return(bo=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:createAuthUri",Et(S,f))})).apply(this,arguments)}function Si(S,f){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,I.Z)(function*(S,f){const A={identifier:f,continueUri:Lt()?bt():"http://localhost"},{signinMethods:W}=yield function Qi(S,f){return bo.apply(this,arguments)}((0,F.m9)(S),A);return W||[]}),Xi.apply(this,arguments)}function Sr(S,f){return Do.apply(this,arguments)}function Do(){return Do=(0,I.Z)(function*(S,f){const y=(0,F.m9)(S),W={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};f&&qr(y.auth,W,f);const{email:J}=yield function ns(S,f){return po.apply(this,arguments)}(y.auth,W);J!==S.email&&(yield S.reload())}),Do.apply(this,arguments)}function To(S,f,y){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:f};y&&qr(A.auth,J,y);const{email:Re}=yield function ha(S,f){return Ei.apply(this,arguments)}(A.auth,J);Re!==S.email&&(yield S.reload())}),Ri.apply(this,arguments)}function so(){return(so=(0,I.Z)(function*(S,f){return vn(S,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Oi(S,f){return Os.apply(this,arguments)}function Os(){return Os=(0,I.Z)(function*(S,{displayName:f,photoURL:y}){if(void 0===f&&void 0===y)return;const A=(0,F.m9)(S),J={idToken:yield A.getIdToken(),displayName:f,photoUrl:y,returnSecureToken:!0},Re=yield pn(A,function io(S,f){return so.apply(this,arguments)}(A.auth,J));A.displayName=Re.displayName||null,A.photoURL=Re.photoUrl||null;const rt=A.providerData.find(({providerId:Bt})=>"password"===Bt);rt&&(rt.displayName=A.displayName,rt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Re)}),Os.apply(this,arguments)}function So(S,f){return Br((0,F.m9)(S),f,null)}function Ur(S,f){return Br((0,F.m9)(S),null,f)}function Br(S,f,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,I.Z)(function*(S,f,y){const{auth:A}=S,J={idToken:yield S.getIdToken(),returnSecureToken:!0};f&&(J.email=f),y&&(J.password=y);const Re=yield pn(S,Mn(A,J));yield S._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class Ns{constructor(f,y,A={}){this.isNewUser=f,this.providerId=y,this.profile=A}}class oo extends Ns{constructor(f,y,A,W){super(f,y,A),this.username=W}}class pa extends Ns{constructor(f,y){super(f,"facebook.com",y)}}class qo extends oo{constructor(f,y){super(f,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class vi extends Ns{constructor(f,y){super(f,"google.com",y)}}class vs extends oo{constructor(f,y,A){super(f,"twitter.com",y,A)}}function sa(S){const{user:f,_tokenResponse:y}=S;return f.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Co(S){var f,y;if(!S)return null;const{providerId:A}=S,W=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},J=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!A&&S?.idToken){const Re=null===(y=null===(f=Vr(S.idToken))||void 0===f?void 0:f.firebase)||void 0===y?void 0:y.sign_in_provider;if(Re)return new Ns(J,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!A)return null;switch(A){case"facebook.com":return new pa(J,W);case"github.com":return new qo(J,W);case"google.com":return new vi(J,W);case"twitter.com":return new vs(J,W,S.screenName||null);case"custom":case"anonymous":return new Ns(J,null);default:return new Ns(J,A,W)}}(y)}class K{constructor(f,y,A){this.type=f,this.credential=y,this.auth=A}static _fromIdtoken(f,y){return new K("enroll",f,y)}static _fromMfaPendingCredential(f){return new K("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var y,A;if(f?.multiFactorSession){if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.pendingCredential)return K._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(A=f.multiFactorSession)&&void 0!==A&&A.idToken)return K._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ge{constructor(f,y,A){this.session=f,this.hints=y,this.signInResolver=A}static _fromError(f,y){const A=tr(f),W=y.customData._serverResponse,J=(W.mfaInfo||[]).map(rt=>Un._fromServerResponse(A,rt));Ue(W.mfaPendingCredential,A,"internal-error");const Re=K._fromMfaPendingCredential(W.mfaPendingCredential);return new ge(Re,J,function(){var rt=(0,I.Z)(function*(Bt){const ln=yield Bt._process(A,Re);delete W.mfaInfo,delete W.mfaPendingCredential;const On=Object.assign(Object.assign({},W),{idToken:ln.idToken,refreshToken:ln.refreshToken});switch(y.operationType){case"signIn":const sr=yield jr._fromIdTokenResponse(A,y.operationType,On);return yield A._updateCurrentUser(sr.user),sr;case"reauthenticate":return Ue(y.user,A,"internal-error"),jr._forOperation(y.user,y.operationType,On);default:Ye(A,"internal-error")}});return function(Bt){return rt.apply(this,arguments)}}())}resolveSignIn(f){var y=this;return(0,I.Z)(function*(){return y.signInResolver(f)})()}}function $e(S,f){var y;const A=(0,F.m9)(S),W=f;return Ue(f.customData.operationType,A,"argument-error"),Ue(null===(y=W.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,A,"argument-error"),ge._fromError(A,W)}class gr{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(A=>Un._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new gr(f)}getSession(){var f=this;return(0,I.Z)(function*(){return K._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,y){var A=this;return(0,I.Z)(function*(){const W=f,J=yield A.getSession(),Re=yield pn(A.user,W._process(A.user.auth,J,y));return yield A.user._updateTokensIfNecessary(Re),A.user.reload()})()}unenroll(f){var y=this;return(0,I.Z)(function*(){const A="string"==typeof f?f:f.uid,W=yield y.user.getIdToken();try{const J=yield pn(y.user,function Sn(S,f){return vn(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(S,f))}(y.user.auth,{idToken:W,mfaEnrollmentId:A}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Re})=>Re!==A),yield y.user._updateTokensIfNecessary(J),yield y.user.reload()}catch(J){throw J}})()}}const Dt=new WeakMap;function Ut(S){const f=(0,F.m9)(S);return Dt.has(f)||Dt.set(f,gr._fromUser(f)),Dt.get(f)}const Mr="__sak";class Pt{constructor(f,y){this.storageRetriever=f,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Mr,"1"),this.storage.removeItem(Mr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,y){return this.storage.setItem(f,JSON.stringify(y)),Promise.resolve()}_get(f){const y=this.storage.getItem(f);return Promise.resolve(y?JSON.parse(y):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ks=(()=>{class S extends Pt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ze(){const S=(0,F.z$)();return te(S)||Te(S)}()&&function gt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ot(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const W=this.storage.getItem(A),J=this.localCache[A];W!==J&&y(A,J,W)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((rt,Bt,ln)=>{this.notifyListeners(rt,ln)});const W=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rt=this.storage.getItem(W);if(y.newValue!==rt)null!==y.newValue?this.storage.setItem(W,y.newValue):this.storage.removeItem(W);else if(this.localCache[W]===y.newValue&&!A)return}const J=()=>{const rt=this.storage.getItem(W);!A&&this.localCache[W]===rt||this.notifyListeners(W,rt)},Re=this.storage.getItem(W);!function nn(){return(0,F.w1)()&&10===document.documentMode}()||Re===y.newValue||y.newValue===y.oldValue?J():setTimeout(J,10)}notifyListeners(y,A){this.localCache[y]=A;const W=this.listeners[y];if(W)for(const J of Array.from(W))J(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var W=()=>super._set,J=this;return(0,I.Z)(function*(){yield W().call(J,y,A),J.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,W=this;return(0,I.Z)(function*(){const J=yield A().call(W,y);return W.localCache[y]=JSON.stringify(J),J})()}_remove(y){var A=()=>super._remove,W=this;return(0,I.Z)(function*(){yield A().call(W,y),delete W.localCache[y]})()}}return S.type="LOCAL",S})(),Ji=(()=>{class S extends Pt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return S.type="SESSION",S})();let Va=(()=>{class S{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(J=>J.isListeningto(y));if(A)return A;const W=new S(y);return this.receivers.push(W),W}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,I.Z)(function*(){const W=y,{eventId:J,eventType:Re,data:rt}=W.data,Bt=A.handlersMap[Re];if(!Bt?.size)return;W.ports[0].postMessage({status:"ack",eventId:J,eventType:Re});const ln=Array.from(Bt).map(function(){var sr=(0,I.Z)(function*(Ro){return Ro(W.origin,rt)});return function(Ro){return sr.apply(this,arguments)}}()),On=yield function ga(S){return Promise.all(S.map(function(){var f=(0,I.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return f.apply(this,arguments)}}()))}(ln);W.ports[0].postMessage({status:"done",eventId:J,eventType:Re,response:On})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function ao(S="",f=10){let y="";for(let A=0;A<f;A++)y+=Math.floor(10*Math.random());return S+y}class En{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,y,A=50){var W=this;return(0,I.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Re,rt;return new Promise((Bt,ln)=>{const On=ao("",20);J.port1.start();const sr=setTimeout(()=>{ln(new Error("unsupported_event"))},A);rt={messageChannel:J,onMessage(Ro){const eu=Ro;if(eu.data.eventId===On)switch(eu.data.status){case"ack":clearTimeout(sr),Re=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Bt(eu.data.response);break;default:clearTimeout(sr),clearTimeout(Re),ln(new Error("invalid_response"))}}},W.handlers.add(rt),J.port1.addEventListener("message",rt.onMessage),W.target.postMessage({eventType:f,eventId:On,data:y},[J.port2])}).finally(()=>{rt&&W.removeMessageHandler(rt)})})()}}function sn(){return window}function Er(){return typeof sn().WorkerGlobalScope<"u"&&"function"==typeof sn().importScripts}function Ni(){return(Ni=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xt="firebaseLocalStorageDb",li=1,Pn="firebaseLocalStorage",_i="fbase_key";class Rr{constructor(f){this.request=f}toPromise(){return new Promise((f,y)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Rt(S,f){return S.transaction([Pn],f?"readwrite":"readonly").objectStore(Pn)}function ma(){const S=indexedDB.open(xt,li);return new Promise((f,y)=>{S.addEventListener("error",()=>{y(S.error)}),S.addEventListener("upgradeneeded",()=>{const A=S.result;try{A.createObjectStore(Pn,{keyPath:_i})}catch(W){y(W)}}),S.addEventListener("success",(0,I.Z)(function*(){const A=S.result;A.objectStoreNames.contains(Pn)?f(A):(A.close(),yield function ks(){const S=indexedDB.deleteDatabase(xt);return new Rr(S).toPromise()}(),f(yield ma()))}))})}function ya(S,f,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,I.Z)(function*(S,f,y){const A=Rt(S,!0).put({[_i]:f,value:y});return new Rr(A).toPromise()})).apply(this,arguments)}function Ta(){return(Ta=(0,I.Z)(function*(S,f){const y=Rt(S,!1).get(f),A=yield new Rr(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ki(S,f){const y=Rt(S,!0).delete(f);return new Rr(y).toPromise()}const ja=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,I.Z)(function*(){return y.db||(y.db=yield ma()),y.db})()}_withRetries(y){var A=this;return(0,I.Z)(function*(){let W=0;for(;;)try{const J=yield A._openDb();return yield y(J)}catch(J){if(W++>3)throw J;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,I.Z)(function*(){return Er()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,I.Z)(function*(){y.receiver=Va._getInstance(function Pr(){return Er()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,I.Z)(function*(W,J){return{keyProcessed:(yield y._poll()).includes(J.key)}});return function(W,J){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,I.Z)(function*(W,J){return["keyChanged"]});return function(W,J){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,I.Z)(function*(){var A,W;if(y.activeServiceWorker=yield function mn(){return Ni.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new En(y.activeServiceWorker);const J=yield y.sender._send("ping",{},800);J&&null!==(A=J[0])&&void 0!==A&&A.fulfilled&&null!==(W=J[0])&&void 0!==W&&W.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,I.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ls(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const y=yield ma();return yield ya(y,Mr,"1"),yield ki(y,Mr),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,I.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var W=this;return(0,I.Z)(function*(){return W._withPendingWrite((0,I.Z)(function*(){return yield W._withRetries(J=>ya(J,y,A)),W.localCache[y]=A,W.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,I.Z)(function*(){const W=yield A._withRetries(J=>function $a(S,f){return Ta.apply(this,arguments)}(J,y));return A.localCache[y]=W,W})()}_remove(y){var A=this;return(0,I.Z)(function*(){return A._withPendingWrite((0,I.Z)(function*(){return yield A._withRetries(W=>ki(W,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,I.Z)(function*(){const A=yield y._withRetries(Re=>{const rt=Rt(Re,!1).getAll();return new Rr(rt).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const W=[],J=new Set;for(const{fbase_key:Re,value:rt}of A)J.add(Re),JSON.stringify(y.localCache[Re])!==JSON.stringify(rt)&&(y.notifyListeners(Re,rt),W.push(Re));for(const Re of Object.keys(y.localCache))y.localCache[Re]&&!J.has(Re)&&(y.notifyListeners(Re,null),W.push(Re));return W})()}notifyListeners(y,A){this.localCache[y]=A;const W=this.listeners[y];if(W)for(const J of Array.from(W))J(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),Aa=1e12;class uo{constructor(f){this.auth=f,this.counter=Aa,this._widgets=new Map}render(f,y){const A=this.counter;return this._widgets.set(A,new Bu(f,this.auth.name,y||{})),this.counter++,A}reset(f){var y;const A=f||Aa;null===(y=this._widgets.get(A))||void 0===y||y.delete(),this._widgets.delete(A)}getResponse(f){var y;return(null===(y=this._widgets.get(f||Aa))||void 0===y?void 0:y.getResponse())||""}execute(f){var y=this;return(0,I.Z)(function*(){var A;return null===(A=y._widgets.get(f||Aa))||void 0===A||A.execute(),""})()}}class Bu{constructor(f,y,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;Ue(W,"argument-error",{appName:y}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function za(S){const f=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<S;A++)f.push(y.charAt(Math.floor(Math.random()*y.length)));return f.join("")}(50);const{callback:f,"expired-callback":y}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=nt("rcb"),fc=new it(3e4,6e4);class va{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=sn().grecaptcha)||void 0===f||!f.render)}load(f,y=""){return Ue(function Ll(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(y),f,"argument-error"),this.shouldResolveImmediately(y)&&dn(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((A,W)=>{const J=sn().setTimeout(()=>{W(Je(f,"network-request-failed"))},fc.get());sn()[oa]=()=>{sn().clearTimeout(J),delete sn()[oa];const rt=sn().grecaptcha;if(!rt||!dn(rt))return void W(Je(f,"internal-error"));const Bt=rt.render;rt.render=(ln,On)=>{const sr=Bt(ln,On);return this.counter++,sr},this.hostLanguage=y,A(rt)},De(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:oa,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(J),W(Je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var y;return!(null===(y=sn().grecaptcha)||void 0===y||!y.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fl{load(f){return(0,I.Z)(function*(){return new uo(f)})()}clearedOneInstance(){}}const Hi="recaptcha",Ci={theme:"light",type:"image"};class _a{constructor(f,y=Object.assign({},Ci),A){this.parameters=y,this.type=Hi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(A),this.isInvisible="invisible"===this.parameters.size,Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof f?document.getElementById(f):f;Ue(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fl:new va,this.validateStartingState()}verify(){var f=this;return(0,I.Z)(function*(){f.assertNotDestroyed();const y=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(y)||new Promise(J=>{const Re=rt=>{rt&&(f.tokenChangeListeners.delete(Re),J(rt))};f.tokenChangeListeners.add(Re),f.isInvisible&&A.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return y=>{if(this.tokenChangeListeners.forEach(A=>A(y)),"function"==typeof f)f(y);else if("string"==typeof f){const A=sn()[f];"function"==typeof A&&A(y)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,I.Z)(function*(){if(yield f.init(),!f.widgetId){let y=f.container;if(!f.isInvisible){const A=document.createElement("div");y.appendChild(A),y=A}f.widgetId=f.getAssertedRecaptcha().render(y,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,I.Z)(function*(){Ue(Lt()&&!Er(),f.auth,"internal-error"),yield function wa(){let S=null;return new Promise(f=>{"complete"!==document.readyState?(S=()=>f(),window.addEventListener("load",S)):f()}).catch(f=>{throw S&&window.removeEventListener("load",S),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const y=yield function Be(S){return Ae.apply(this,arguments)}(f.auth);Ue(y,f.auth,"internal-error"),f.parameters.sitekey=y})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ls{constructor(f,y){this.verificationId=f,this.onConfirmation=y}confirm(f){const y=Bi._fromVerification(this.verificationId,f);return this.onConfirmation(y)}}function ci(S,f,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,I.Z)(function*(S,f,y){const A=tr(S),W=yield Ha(A,f,(0,F.m9)(y));return new Ls(W,J=>Nn(A,J))})).apply(this,arguments)}function Ma(S,f,y){return ws.apply(this,arguments)}function ws(){return(ws=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S);yield Hs(!1,A,"phone");const W=yield Ha(A.auth,f,(0,F.m9)(y));return new Ls(W,J=>gs(A,J))})).apply(this,arguments)}function Iu(S,f,y){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S),W=yield Ha(A.auth,f,(0,F.m9)(y));return new Ls(W,J=>zi(A,J))})).apply(this,arguments)}function Ha(S,f,y){return bu.apply(this,arguments)}function bu(){return bu=(0,I.Z)(function*(S,f,y){var A;const W=yield y.verify();try{let J;if(Ue("string"==typeof W,S,"argument-error"),Ue(y.type===Hi,S,"argument-error"),J="string"==typeof f?{phoneNumber:f}:f,"session"in J){const Re=J.session;if("phoneNumber"in J)return Ue("enroll"===Re.type,S,"internal-error"),(yield function Ft(S,f){return vn(S,"POST","/v2/accounts/mfaEnrollment:start",Et(S,f))}(S,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Ue("signin"===Re.type,S,"internal-error");const rt=(null===(A=J.multiFactorHint)||void 0===A?void 0:A.uid)||J.multiFactorUid;return Ue(rt,S,"missing-multi-factor-info"),(yield function Vo(S,f){return vn(S,"POST","/v2/accounts/mfaSignIn:start",Et(S,f))}(S,{mfaPendingCredential:Re.credential,mfaEnrollmentId:rt,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield function ss(S,f){return Ii.apply(this,arguments)}(S,{phoneNumber:J.phoneNumber,recaptchaToken:W});return Re}}finally{y._reset()}}),bu.apply(this,arguments)}function lo(S,f){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,I.Z)(function*(S,f){yield lr((0,F.m9)(S),f)})).apply(this,arguments)}let D=(()=>{class S{constructor(y){this.providerId=S.PROVIDER_ID,this.auth=tr(y)}verifyPhoneNumber(y,A){return Ha(this.auth,y,(0,F.m9)(A))}static credential(y,A){return Bi._fromVerification(y,A)}static credentialFromResult(y){return S.credentialFromTaggedObject(y)}static credentialFromError(y){return S.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:A,temporaryProof:W}=y;return A&&W?Bi._fromTokenResponse(A,W):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function T(S,f){return f?Tn(f):(Ue(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class _ extends ct{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Fi(f,this._buildIdpRequest())}_linkToIdToken(f,y){return Fi(f,this._buildIdpRequest(y))}_getReauthenticationResolver(f){return Fi(f,this._buildIdpRequest())}_buildIdpRequest(f){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(y.idToken=f),y}}function R(S){return eo(S.auth,new _(S),S.bypassAuthState)}function B(S){const{auth:f,user:y}=S;return Ue(y,f,"internal-error"),Uo(y,new _(S),S.bypassAuthState)}function q(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,I.Z)(function*(S){const{auth:f,user:y}=S;return Ue(y,f,"internal-error"),lr(y,new _(S),S.bypassAuthState)})).apply(this,arguments)}class Ne{constructor(f,y,A,W,J=!1){this.auth=f,this.resolver=A,this.user=W,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var f=this;return new Promise(function(){var y=(0,I.Z)(function*(A,W){f.pendingPromise={resolve:A,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(J){f.reject(J)}});return function(A,W){return y.apply(this,arguments)}}())}onAuthEvent(f){var y=this;return(0,I.Z)(function*(){const{urlResponse:A,sessionId:W,postBody:J,tenantId:Re,error:rt,type:Bt}=f;if(rt)return void y.reject(rt);const ln={auth:y.auth,requestUri:A,sessionId:W,tenantId:Re||void 0,postBody:J||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Bt)(ln))}catch(On){y.reject(On)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return R;case"linkViaPopup":case"linkViaRedirect":return q;case"reauthViaPopup":case"reauthViaRedirect":return B;default:Ye(this.auth,"internal-error")}}resolve(f){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mt=new it(2e3,1e4);function Wt(S,f,y){return tn.apply(this,arguments)}function tn(){return(tn=(0,I.Z)(function*(S,f,y){const A=tr(S);Se(S,f,xi);const W=T(A,y);return new Qo(A,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function Nr(S,f,y){return ai.apply(this,arguments)}function ai(){return(ai=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S);Se(A.auth,f,xi);const W=T(A.auth,y);return new Qo(A.auth,"reauthViaPopup",f,W,A).executeNotNull()})).apply(this,arguments)}function aa(S,f,y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S);Se(A.auth,f,xi);const W=T(A.auth,y);return new Qo(A.auth,"linkViaPopup",f,W,A).executeNotNull()})).apply(this,arguments)}let Qo=(()=>{class S extends Ne{constructor(y,A,W,J,Re){super(y,A,J,Re),this.provider=W,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var y=this;return(0,I.Z)(function*(){const A=yield y.execute();return Ue(A,y.auth,"internal-error"),A})()}onExecution(){var y=this;return(0,I.Z)(function*(){an(1===y.filter.length,"Popup operations only handle one event");const A=ao();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],A),y.authWindow.associatedEvent=A,y.resolver._originValidation(y.auth).catch(W=>{y.reject(W)}),y.resolver._isIframeWebStorageSupported(y.auth,W=>{W||y.reject(Je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const y=()=>{var A,W;this.pollId=null!==(W=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,mt.get())};y()}}return S.currentPopupAction=null,S})();const xo="pendingRedirect",Mo=new Map;class wi extends Ne{constructor(f,y,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,y=this;return(0,I.Z)(function*(){let A=Mo.get(y.auth._key());if(!A){try{const J=(yield function Ju(S,f){return Xo.apply(this,arguments)}(y.resolver,y.auth))?yield f().call(y):null;A=()=>Promise.resolve(J)}catch(W){A=()=>Promise.reject(W)}Mo.set(y.auth._key(),A)}return y.bypassAuthState||Mo.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var y=()=>super.onAuthEvent,A=this;return(0,I.Z)(function*(){if("signInViaRedirect"===f.type)return y().call(A,f);if("unknown"!==f.type){if(f.eventId){const W=yield A.auth._redirectUserForId(f.eventId);if(W)return A.user=W,y().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Xo(){return(Xo=(0,I.Z)(function*(S,f){const y=Bl(f),A=fi(S);if(!(yield A._isAvailable()))return!1;const W="true"===(yield A._get(y));return yield A._remove(y),W})).apply(this,arguments)}function Ul(S,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,I.Z)(function*(S,f){return fi(S)._set(Bl(f),"true")})).apply(this,arguments)}function lu(){Mo.clear()}function Us(S,f){Mo.set(S._key(),f)}function fi(S){return Tn(S._redirectPersistence)}function Bl(S){return kr(xo,S.config.apiKey,S.name)}function cu(S,f,y){return function Po(S,f,y){return el.apply(this,arguments)}(S,f,y)}function el(){return(el=(0,I.Z)(function*(S,f,y){const A=tr(S);Se(S,f,xi),yield A._initializationPromise;const W=T(A,y);return yield Ul(W,A),W._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function od(S,f,y){return function cs(S,f,y){return Du.apply(this,arguments)}(S,f,y)}function Du(){return(Du=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S);Se(A.auth,f,xi),yield A.auth._initializationPromise;const W=T(A.auth,y);yield Ul(W,A.auth);const J=yield Ea(A);return W._openRedirect(A.auth,f,"reauthViaRedirect",J)})).apply(this,arguments)}function Ra(S,f,y){return function Li(S,f,y){return ua.apply(this,arguments)}(S,f,y)}function ua(){return(ua=(0,I.Z)(function*(S,f,y){const A=(0,F.m9)(S);Se(A.auth,f,xi),yield A.auth._initializationPromise;const W=T(A.auth,y);yield Hs(!1,A,f.providerId),yield Ul(W,A.auth);const J=yield Ea(A);return W._openRedirect(A.auth,f,"linkViaRedirect",J)})).apply(this,arguments)}function Vl(S,f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,I.Z)(function*(S,f){return yield tr(S)._initializationPromise,Tu(S,f,!1)})).apply(this,arguments)}function Tu(S,f){return tl.apply(this,arguments)}function tl(){return(tl=(0,I.Z)(function*(S,f,y=!1){const A=tr(S),W=T(A,f),Re=yield new wi(A,W,y).execute();return Re&&!y&&(delete Re.user._redirectEventId,yield A._persistUserIfCurrent(Re.user),yield A._setRedirectUser(null,f)),Re})).apply(this,arguments)}function Ea(S){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,I.Z)(function*(S){const f=ao(`${S.uid}:::`);return S._redirectEventId=f,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),f})).apply(this,arguments)}class Ia{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(y=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Oa(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return du(S);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=f,y=!0)),y}sendToConsumer(f,y){var A;if(f.error&&!du(f)){const W=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(Je(this.auth,W))}else y.onAuthEvent(f)}isEventForConsumer(f,y){const A=null===y.eventId||!!f.eventId&&f.eventId===y.eventId;return y.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(co(f))}saveEventToCache(f){this.cachedEventUids.add(co(f)),this.lastProcessedEventTime=Date.now()}}function co(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(f=>f).join("-")}function du({type:S,error:f}){return"unknown"===S&&"auth/no-auth-event"===f?.code}function nl(S){return Na.apply(this,arguments)}function Na(){return(Na=(0,I.Z)(function*(S,f={}){return vn(S,"GET","/v1/projects",f)})).apply(this,arguments)}const ad=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$l=/^https?/;function fu(){return(fu=(0,I.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:f}=yield nl(S);for(const y of f)try{if(Su(y))return}catch{}Ye(S,"unauthorized-domain")})).apply(this,arguments)}function Su(S){const f=bt(),{protocol:y,hostname:A}=new URL(f);if(S.startsWith("chrome-extension://")){const Re=new URL(S);return""===Re.hostname&&""===A?"chrome-extension:"===y&&S.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===y&&Re.hostname===A}if(!$l.test(y))return!1;if(ad.test(S))return A===S;const W=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(A)}const Ka=new it(3e4,6e4);function $u(){const S=sn().___jsl;if(S?.H)for(const f of Object.keys(S.H))if(S.H[f].r=S.H[f].r||[],S.H[f].L=S.H[f].L||[],S.H[f].r=[...S.H[f].L],S.CP)for(let y=0;y<S.CP.length;y++)S.CP[y]=null}let qa=null;const ud=new it(5e3,15e3),Ya="__/auth/iframe",jl="emulator/auth/iframe",ld={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Es=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pc(S){const f=S.config;Ue(f.authDomain,S,"auth-domain-config-required");const y=f.emulator?st(f,jl):`https://${S.config.authDomain}/${Ya}`,A={apiKey:f.apiKey,appName:S.name,v:M.SDK_VERSION},W=Es.get(S.config.apiHost);W&&(A.eid=W);const J=S._getFrameworks();return J.length&&(A.fw=J.join(",")),`${y}?${(0,F.xO)(A).slice(1)}`}function ba(){return ba=(0,I.Z)(function*(S){const f=yield function Za(S){return qa=qa||function $o(S){return new Promise((f,y)=>{var A,W,J;function Re(){$u(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{$u(),y(Je(S,"network-request-failed"))},timeout:Ka.get()})}if(null!==(W=null===(A=sn().gapi)||void 0===A?void 0:A.iframes)&&void 0!==W&&W.Iframe)f(gapi.iframes.getContext());else{if(null===(J=sn().gapi)||void 0===J||!J.load){const rt=nt("iframefcb");return sn()[rt]=()=>{gapi.load?Re():y(Je(S,"network-request-failed"))},De(`https://apis.google.com/js/api.js?onload=${rt}`).catch(Bt=>y(Bt))}Re()}}).catch(f=>{throw qa=null,f})}(S),qa}(S),y=sn().gapi;return Ue(y,S,"internal-error"),f.open({where:document.body,url:pc(S),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ld,dontclear:!0},A=>new Promise(function(){var W=(0,I.Z)(function*(J,Re){yield A.restyle({setHideOnLeave:!1});const rt=Je(S,"network-request-failed"),Bt=sn().setTimeout(()=>{Re(rt)},ud.get());function ln(){sn().clearTimeout(Bt),J(A)}A.ping(ln).then(ln,()=>{Re(rt)})});return function(J,Re){return W.apply(this,arguments)}}()))}),ba.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,z=600,oe="_blank",be="http://localhost";class ve{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Kt="__/auth/handler",In="emulator/auth/handler",Yn=encodeURIComponent("fac");function Gn(S,f,y,A,W,J){return qs.apply(this,arguments)}function qs(){return(qs=(0,I.Z)(function*(S,f,y,A,W,J){Ue(S.config.authDomain,S,"auth-domain-config-required"),Ue(S.config.apiKey,S,"invalid-api-key");const Re={apiKey:S.config.apiKey,appName:S.name,authType:y,redirectUrl:A,v:M.SDK_VERSION,eventId:W};if(f instanceof xi){f.setDefaultLanguage(S.languageCode),Re.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(Re.customParameters=JSON.stringify(f.getCustomParameters()));for(const[On,sr]of Object.entries(J||{}))Re[On]=sr}if(f instanceof Qs){const On=f.getScopes().filter(sr=>""!==sr);On.length>0&&(Re.scopes=On.join(","))}S.tenantId&&(Re.tid=S.tenantId);const rt=Re;for(const On of Object.keys(rt))void 0===rt[On]&&delete rt[On];const Bt=yield S._getAppCheckToken(),ln=Bt?`#${Yn}=${encodeURIComponent(Bt)}`:"";return`${function Is({config:S}){return S.emulator?st(S,In):`https://${S.authDomain}/${Kt}`}(S)}?${(0,F.xO)(rt).slice(1)}${ln}`})).apply(this,arguments)}const Qa="webStorageSupport",Cu=class zl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=Tu,this._overrideRedirectResult=Us}_openPopup(f,y,A,W){var J=this;return(0,I.Z)(function*(){var Re;an(null===(Re=J.eventManagers[f._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const rt=yield Gn(f,y,A,bt(),W);return function je(S,f,y,A=N,W=z){const J=Math.max((window.screen.availHeight-W)/2,0).toString(),Re=Math.max((window.screen.availWidth-A)/2,0).toString();let rt="";const Bt=Object.assign(Object.assign({},C),{width:A.toString(),height:W.toString(),top:J,left:Re}),ln=(0,F.z$)().toLowerCase();y&&(rt=Z(ln)?oe:y),Q(ln)&&(f=f||be,Bt.scrollbars="yes");const On=Object.entries(Bt).reduce((Ro,[eu,yc])=>`${Ro}${eu}=${yc},`,"");if(function lt(S=(0,F.z$)()){var f;return Te(S)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ln)&&"_self"!==rt)return function Xt(S,f){const y=document.createElement("a");y.href=S,y.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(f||"",rt),new ve(null);const sr=window.open(f||"",rt,On);Ue(sr,S,"popup-blocked");try{sr.focus()}catch{}return new ve(sr)}(f,rt,ao())})()}_openRedirect(f,y,A,W){var J=this;return(0,I.Z)(function*(){return yield J._originValidation(f),function Ln(S){sn().location.href=S}(yield Gn(f,y,A,bt(),W)),new Promise(()=>{})})()}_initialize(f){const y=f._key();if(this.eventManagers[y]){const{manager:W,promise:J}=this.eventManagers[y];return W?Promise.resolve(W):(an(J,"If manager is not set, promise should be"),J)}const A=this.initAndGetManager(f);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(f){var y=this;return(0,I.Z)(function*(){const A=yield function di(S){return ba.apply(this,arguments)}(f),W=new Ia(f);return A.register("authEvent",J=>(Ue(J?.authEvent,f,"invalid-auth-event"),{status:W.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[f._key()]={manager:W},y.iframes[f._key()]=A,W})()}_isIframeWebStorageSupported(f,y){this.iframes[f._key()].send(Qa,{type:Qa},W=>{var J;const Re=null===(J=W?.[0])||void 0===J?void 0:J[Qa];void 0!==Re&&y(!!Re),Ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const y=f._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function hu(S){return fu.apply(this,arguments)}(f)),this.originValidationPromises[y]}get _shouldInitProactively(){return ot()||te()||Te()}};class jo{constructor(f){this.factorId=f}_process(f,y,A){switch(y.type){case"enroll":return this._finalizeEnroll(f,y.credential,A);case"signin":return this._finalizeSignIn(f,y.credential);default:return It("unexpected MultiFactorSessionType")}}}class zo extends jo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new zo(f)}_finalizeEnroll(f,y,A){return function jt(S,f){return vn(S,"POST","/v2/accounts/mfaEnrollment:finalize",Et(S,f))}(f,{idToken:y,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,y){return function Yo(S,f){return vn(S,"POST","/v2/accounts/mfaSignIn:finalize",Et(S,f))}(f,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gc=(()=>{class S{constructor(){}static assertion(y){return zo._fromCredential(y)}}return S.FACTOR_ID="phone",S})();var il="@firebase/auth";class Xa{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var y=this;return(0,I.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const y=this.auth.onIdTokenChanged(A=>{f(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,y),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const y=this.internalListeners.get(f);y&&(this.internalListeners.delete(f),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mc=(0,F.Pz)("authIdTokenMaxAge")||300;let Ja=null;const lh=S=>function(){var f=(0,I.Z)(function*(y){const A=y&&(yield y.getIdTokenResult()),W=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(W&&W>mc)return;const J=A?.token;Ja!==J&&(Ja=J,yield fetch(S,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(y){return f.apply(this,arguments)}}();function ol(S=(0,M.getApp)()){const f=(0,M._getProvider)(S,"auth");if(f.isInitialized())return f.getImmediate();const y=function nr(S,f){const y=(0,M._getProvider)(S,"auth");if(y.isInitialized()){const W=y.getImmediate(),J=y.getOptions();if((0,F.vZ)(J,f??{}))return W;Ye(W,"already-initialized")}return y.initialize({options:f})}(S,{popupRedirectResolver:Cu,persistence:[ja,Ks,Ji]}),A=(0,F.Pz)("authTokenSyncURL");if(A){const J=lh(A);(function d(S,f,y){(0,F.m9)(S).beforeAuthStateChanged(f,y)})(y,J,()=>J(y.currentUser)),function h(S,f,y,A){(0,F.m9)(S).onIdTokenChanged(f,y,A)}(y,Re=>J(Re))}const W=(0,F.q4)("auth");return W&&Zn(y,`http://${W}`),y}!function Wl(S){(0,M._registerComponent)(new Ce.wA("auth",(f,{options:y})=>{const A=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),J=f.getProvider("app-check-internal"),{apiKey:Re,authDomain:rt}=A.options;Ue(Re&&!Re.includes(":"),"invalid-api-key",{appName:A.name}),Ue(!rt?.includes(":"),"argument-error",{appName:A.name});const Bt={apiKey:Re,authDomain:rt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rn(S)},ln=new Wn(A,W,J,Bt);return function Wr(S,f){const y=f?.persistence||[],A=(Array.isArray(y)?y:[y]).map(Tn);f?.errorMap&&S._updateErrorMap(f.errorMap),S._initializeWithPersistence(A,f?.popupRedirectResolver)}(ln,y),ln},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,y,A)=>{f.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new Ce.wA("auth-internal",f=>{const y=tr(f.getProvider("auth").getImmediate());return new Xa(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(il,"0.23.1",function sl(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,M.registerVersion)(il,"0.23.1","esm2017")}("Browser")},2810:(Jt,Me,j)=>{"use strict";j.d(Me,{u7:()=>gf,Jj:()=>Zu,IX:()=>Mv,my:()=>$s,xU:()=>dc,Lz:()=>Yu,WA:()=>ht,F8:()=>Zd,$q:()=>Rl,W:()=>Ol,EK:()=>Pr,PU:()=>fy,l7:()=>Ea,Ky:()=>Rt,Xb:()=>Rr,Cf:()=>Hr,K9:()=>Mr,Me:()=>od,yq:()=>Sn,Wi:()=>Om,ET:()=>ly,Ab:()=>i_,vr:()=>gy,Fc:()=>Ov,hJ:()=>ku,B$:()=>xv,at:()=>Qp,oe:()=>qv,AK:()=>py,TF:()=>rf,JU:()=>km,ST:()=>Rv,fH:()=>Fm,Ix:()=>Vm,Wu:()=>pf,Lx:()=>ff,qY:()=>ds,GL:()=>ih,QT:()=>Hv,kl:()=>rh,Xk:()=>Wv,PL:()=>Gv,UQ:()=>Kv,zN:()=>oy,ad:()=>Pv,nP:()=>my,b9:()=>Qn,vh:()=>Vv,Pb:()=>$m,L$:()=>jm,cf:()=>Zv,sc:()=>Yv,Xo:()=>ty,IO:()=>Bv,iE:()=>La,Eo:()=>Lu,i3:()=>n_,Bt:()=>r_,pl:()=>ay,Ub:()=>jt,qK:()=>sy,TQ:()=>id,e0:()=>$v,r7:()=>uy,Mx:()=>Bm,ar:()=>rd});var de,I=j(5861),F=j(6881),M=j(4859),ae=j(1877),fe=j(2090),Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={},ke=ke||{},ie=Ce||self;function he(){}function Ee(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Xe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wt="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function Ve(r,e,t){return r.call.apply(r.bind,arguments)}function at(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function He(r,e,t){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ve:at).apply(null,arguments)}function yt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ye(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var g=Array(arguments.length-2),x=2;x<arguments.length;x++)g[x-2]=arguments[x];return e.prototype[a].apply(s,g)}}function Je(){this.s=this.s,this.o=this.o}Je.prototype.s=!1,Je.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Qe(r){Object.prototype.hasOwnProperty.call(r,wt)&&r[wt]||(r[wt]=++Tt)}(this)},Je.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Se=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function pt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Ue(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ee(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let g=0;g<c;g++)r[a+g]=s[g]}else r.push(s)}}function It(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var an=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ie.addEventListener("test",he,e),ie.removeEventListener("test",he,e)}catch{}return r}();function bt(r){return/^[\s\xa0]*$/.test(r)}var Lt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Nt(r,e){return r<e?-1:r>e?1:0}function We(){var r=ie.navigator;return r&&(r=r.userAgent)?r:""}function Ge(r){return-1!=We().indexOf(r)}function it(r){return it[" "](r),r}function st(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}it[" "]=he;var kt,r,St=Ge("Opera"),dt=Ge("Trident")||Ge("MSIE"),Mt=Ge("Edge"),Et=Mt||dt,vn=Ge("Gecko")&&!(-1!=We().toLowerCase().indexOf("webkit")&&!Ge("Edge"))&&!(Ge("Trident")||Ge("MSIE"))&&!Ge("Edge"),Zt=-1!=We().toLowerCase().indexOf("webkit")&&!Ge("Edge");function Yt(){var r=ie.document;return r?r.documentMode:void 0}e:{var Dn="",Vn=(r=We(),vn?/rv:([^\);]+)(\)|;)/.exec(r):Mt?/Edge\/([\d\.]+)/.exec(r):dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Zt?/WebKit\/(\S+)/.exec(r):St?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Vn&&(Dn=Vn?Vn[1]:""),dt){var Hn=Yt();if(null!=Hn&&Hn>parseFloat(Dn)){kt=String(Hn);break e}}kt=Dn}var yr={},rr=ie.document&&dt&&(Yt()||parseInt(kt,10))||void 0;function ir(r,e){if(It.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(vn){e:{try{it(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Kn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ir.$.h.call(this)}}Ye(ir,It);var Kn={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var bn="closure_listenable_"+(1e6*Math.random()|0),en=0;function Bn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++en,this.fa=this.ia=!1}function ar(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function cr(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Lr(r){const e={};for(const t in r)e[t]=r[t];return e}const Vr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Vr.length;c++)t=Vr[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function pn(r){this.src=r,this.g={},this.h=0}function Gt(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=Se(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(ar(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ct(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}pn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var g=Ct(r,e,s,a);return-1<g?(e=r[g],t||(e.ia=!1)):((e=new Bn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var dr="closure_lm_"+(1e6*Math.random()|0),Ar={};function ur(r,e,t,s,a){if(s&&s.once)return hr(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)ur(r,e[c],t,s,a);return null}return t=Jn(t),r&&r[bn]?r.O(e,t,Xe(s)?!!s.capture:!!s,a):Fr(r,e,t,!1,s,a)}function Fr(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var g=Xe(a)?!!a.capture:!!a,x=yn(r);if(x||(r[dr]=x=new pn(r)),(t=x.add(e,t,s,g,c)).proxy)return t;if(s=function br(){const e=cn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)an||(a=g),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(fn(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function hr(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)hr(r,e[c],t,s,a);return null}return t=Jn(t),r&&r[bn]?r.P(e,t,Xe(s)?!!s.capture:!!s,a):Fr(r,e,t,!0,s,a)}function An(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)An(r,e[c],t,s,a);else s=Xe(s)?!!s.capture:!!s,t=Jn(t),r&&r[bn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ct(c=r.g[e],t,s,a))&&(ar(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=yn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ct(e,t,s,a)),(t=-1<r?e[r]:null)&&qn(t))}function qn(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[bn])Gt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(fn(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=yn(e))?(Gt(t,r),0==t.h&&(t.src=null,e[dr]=null)):ar(r)}}}function fn(r){return r in Ar?Ar[r]:Ar[r]="on"+r}function cn(r,e){if(r.fa)r=!0;else{e=new ir(e,this);var t=r.listener,s=r.la||r.src;r.ia&&qn(r),r=t.call(s,e)}return r}function yn(r){return(r=r[dr])instanceof pn?r:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jn(r){return"function"==typeof r?r:(r[Xn]||(r[Xn]=function(e){return r.handleEvent(e)}),r[Xn])}function $n(){Je.call(this),this.i=new pn(this),this.S=this,this.J=null}function Tn(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new It(e,r);else if(e instanceof It)e.target=e.target||r;else{var a=e;un(e=new It(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var g=e.g=t[c];a=xr(g,s,!0,e)&&a}if(a=xr(g=e.g=r,s,!0,e)&&a,a=xr(g,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=xr(g=e.g=t[c],s,!1,e)&&a}function xr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var g=e[c];if(g&&!g.fa&&g.capture==t){var x=g.listener,U=g.la||g.src;g.ia&&Gt(r.i,g),a=!1!==x.call(U,s)&&a}}return a&&!s.defaultPrevented}Ye($n,Je),$n.prototype[bn]=!0,$n.prototype.removeEventListener=function(r,e,t,s){An(this,r,e,t,s)},$n.prototype.N=function(){if($n.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)ar(t[s]);delete r.g[e],r.h--}}this.J=null},$n.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},$n.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var fr=ie.JSON.stringify;function kr(){var r=re;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var _e,ce=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Q,r=>r.reset());class Q{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function te(r){ie.setTimeout(()=>{throw r},0)}function Z(r,e){_e||function se(){var r=ie.Promise.resolve(void 0);_e=function(){r.then(Te)}}(),ue||(_e(),ue=!0),re.add(r,e)}var ue=!1,re=new class pe{constructor(){this.h=this.g=null}add(e,t){const s=ce.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Te(){for(var r;r=kr();){try{r.h.call(r.g)}catch(t){te(t)}var e=ce;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ue=!1}function Ke(r,e){$n.call(this),this.h=r||1,this.g=e||ie,this.j=He(this.qb,this),this.l=Date.now()}function lt(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function nn(r,e,t){if("function"==typeof r)t&&(r=He(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=He(r.handleEvent,r)}return 2147483647<Number(e)?-1:ie.setTimeout(r,e||0)}function ot(r){r.g=nn(()=>{r.g=null,r.i&&(r.i=!1,ot(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ye(Ke,$n),(de=Ke.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(lt(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){Ke.$.N.call(this),lt(this),delete this.g};class gt extends Je{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(r){Je.call(this),this.h=r,this.g={}}Ye(rn,Je);var Be=[];function Ae(r,e,t,s){Array.isArray(t)||(t&&(Be[0]=t.toString()),t=Be);for(var a=0;a<t.length;a++){var c=ur(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function vt(r){cr(r.g,function(e,t){this.g.hasOwnProperty(t)&&qn(e)},r),r.g={}}function Qt(){this.g=!0}function G(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function De(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var g=1;g<a.length;g++)a[g]=""}}}return fr(t)}catch{return e}}(r,t)+(s?" "+s:"")})}rn.prototype.N=function(){rn.$.N.call(this),vt(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.Ea=function(){this.g=!1},Qt.prototype.info=function(){};var nt={},$t=null;function wn(){return $t=$t||new $n}function Dr(r){It.call(this,nt.Ta,r)}function er(r){const e=wn();Tn(e,new Dr(e))}function _r(r,e){It.call(this,nt.STAT_EVENT,r),this.stat=e}function At(r){const e=wn();Tn(e,new _r(e,r))}function xn(r,e){It.call(this,nt.Ua,r),this.size=e}function Wn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){r()},e)}nt.Ta="serverreachability",Ye(Dr,It),nt.STAT_EVENT="statevent",Ye(_r,It),nt.Ua="timingevent",Ye(xn,It);var tr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ui={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nr(){}function Zn(){}nr.prototype.h=null;var et,xe={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function we(){It.call(this,"d")}function ye(){It.call(this,"c")}function ct(){}function hn(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new rn(this),this.P=Mn,this.V=new Ke(r=Et?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Rn}function Rn(){this.i=null,this.g="",this.h=!1}Ye(we,It),Ye(ye,It),Ye(ct,nr),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},et=new ct;var Mn=45e3,jn={},ni={};function wr(r,e,t){r.L=1,r.v=ss(Gr(e)),r.s=t,r.S=!0,Qr(r,null)}function Qr(r,e){r.G=Date.now(),ns(r),r.A=Gr(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),vo(t.i,"t",s),r.C=0,t=r.l.I,r.h=new Rn,r.g=Yi(r.l,t?e:null,!r.s),0<r.O&&(r.M=new gt(He(r.Pa,r,r.g),r.O)),Ae(r.U,r.g,"readystatechange",r.nb),e=r.I?Lr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),er(),function dn(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var g="",x=c.split("&"),U=0;U<x.length;U++){var H=x[U].split("=");if(1<H.length){var X=H[0];H=H[1];var me=X.split("_");g=2<=me.length&&"type"==me[1]?g+(X+"=")+H+"&":g+(X+"=redacted&")}}else g=null;else g=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Jr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Tr(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Gi(r,t),a==ni){4==e&&(r.o=4,At(14),s=!1),G(r.j,r.m,null,"[Incomplete Response]");break}if(a==jn){r.o=4,At(15),G(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}G(r.j,r.m,a,null),ri(r,a)}Jr(r)&&a!=ni&&a!=jn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,At(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),as(e),e.L=!0,At(11))):(G(r.j,r.m,t,"[Invalid Chunked Response]"),pi(r),rs(r))}function Gi(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?ni:(t=Number(e.substring(t,s)),isNaN(t)?jn:(s+=1)+t>e.length?ni:(e=e.substr(s,t),r.C=s+t,e))}function ns(r){r.Y=Date.now()+r.P,po(r,r.P)}function po(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Wn(He(r.lb,r),e)}function Ds(r){r.B&&(ie.clearTimeout(r.B),r.B=null)}function rs(r){0==r.l.H||r.J||Rs(r.l,r)}function pi(r){Ds(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,lt(r.V),vt(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function ri(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ra(t.h,r)))if(!r.K&&ra(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;yi(t),tt(t)}hi(t),At(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=Wn(He(t.ib,t),6e3));if(1>=zs(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Xr(t,11)}else if((r.K||t.g==r)&&yi(t),!bt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.J=H[1],t.oa=H[2];const X=H[3];null!=X&&(t.qa=X,t.j.info("VER="+t.qa));const me=H[4];null!=me&&(t.Ga=me,t.j.info("SVER="+t.Ga));const ze=H[5];null!=ze&&"number"==typeof ze&&0<ze&&(t.K=s=1.5*ze,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const ft=r.g;if(ft){const Vt=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vt){var c=s.h;c.g||-1==Vt.indexOf("spdy")&&-1==Vt.indexOf("quic")&&-1==Vt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&($i(c,c.h),c.h=null))}if(s.F){const on=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;on&&(s.Da=on,pr(s.G,s.F,on))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var g=r;if((s=t).wa=ms(s,s.I?s.oa:null,s.Y),g.K){ia(s.h,g);var x=g,U=s.K;U&&x.setTimeout(U),x.B&&(Ds(x),ns(x)),s.g=g}else Pi(s);0<t.i.length&&Ps(t)}else"stop"!=H[0]&&"close"!=H[0]||Xr(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Xr(t,7):Eo(t):"noop"!=H[0]&&t.l&&t.l.Aa(H),t.A=0)}er()}catch{}}function gi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ee(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ei(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ee(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ha(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ee(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(de=hn.prototype).setTimeout=function(r){this.P=r},de.nb=function(r){r=r.target;const e=this.M;e&&3==gs(r)?e.l():this.Pa(r)},de.Pa=function(r){try{if(r==this.g)e:{const X=gs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||Et||this.g&&(this.h.h||this.g.ja()||Di(this.g)))){this.J||4!=X||7==e||er(),Ds(this);var t=this.g.da();this.aa=t;t:if(Jr(this)){var s=Di(this.g);r="";var a=s.length,c=4==gs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),rs(this);var g="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function Oe(r,e,t,s,a,c,g){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+g})}(this.j,this.u,this.A,this.m,this.W,X,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(x)){var H=x;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,At(12),pi(this),rs(this);break e}G(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ri(this,t)}this.S?(Tr(this,X,g),Et&&this.i&&3==X&&(Ae(this.U,this.V,"tick",this.mb),this.V.start())):(G(this.j,this.m,g,null),ri(this,g)),4==X&&pi(this),this.i&&!this.J&&(4==X?Rs(this.l,this):(this.i=!1,ns(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),pi(this),rs(this)}}}catch{}},de.mb=function(){if(this.g){var r=gs(this.g),e=this.g.ja();this.C<e.length&&(Ds(this),Tr(this,r,e),this.i&&4!=r&&ns(this))}},de.cancel=function(){this.J=!0,pi(this)},de.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ne(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(er(),At(17)),pi(this),this.o=2,rs(this)):po(this,this.Y-r)};var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ki(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ki){this.h=void 0!==e?e:r.h,Fi(this,r.j),this.s=r.s,this.g=r.g,Ui(this,r.m),this.l=r.l,e=r.i;var t=new Bi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ea(this,t),this.o=r.o}else r&&(t=String(r).match(is))?(this.h=!!e,Fi(this,t[1]||"",!0),this.s=Ii(t[2]||""),this.g=Ii(t[3]||"",!0),Ui(this,t[4]),this.l=Ii(t[5]||"",!0),ea(this,t[6]||"",!0),this.o=Ii(t[7]||"")):(this.h=!!e,this.i=new Bi(null,this.h))}function Gr(r){return new Ki(r)}function Fi(r,e,t){r.j=t?Ii(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ui(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ea(r,e,t){e instanceof Bi?(r.i=e,function xi(r,e){e&&!r.j&&(bi(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(na(this,s),vo(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=go(e,yo)),r.i=new Bi(e,r.h))}function pr(r,e,t){r.i.set(e,t)}function ss(r){return pr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ii(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function go(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ta),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ta(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ki.prototype.toString=function(){var r=[],e=this.j;e&&r.push(go(e,Ys,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(go(e,Ys,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(go(t,"/"==t.charAt(0)?mo:fs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",go(t,Ko)),r.join("")};var Ys=/[#\/\?@]/g,fs=/[#\?:]/g,mo=/[#\?]/g,yo=/[#\?@]/g,Ko=/#/g;function Bi(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function bi(r){r.g||(r.g=new Map,r.h=0,r.i&&function ko(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function na(r,e){bi(r),e=qi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Ts(r,e){return bi(r),e=qi(r,e),r.g.has(e)}function vo(r,e,t){na(r,e),0<t.length&&(r.i=null,r.g.set(qi(r,e),pt(t)),r.h+=t.length)}function qi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Vi(r){this.l=r||Lo,r=ie.PerformanceNavigationTiming?0<(r=ie.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(de=Bi.prototype).add=function(r,e){bi(this),this.i=null,r=qi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},de.forEach=function(r,e){bi(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},de.sa=function(){bi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},de.Z=function(r){bi(this);let e=[];if("string"==typeof r)Ts(this,r)&&(e=e.concat(this.g.get(qi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},de.set=function(r,e){return bi(this),this.i=null,Ts(this,r=qi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},de.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var a=c;""!==g[s]&&(a+="="+encodeURIComponent(String(g[s]))),r.push(a)}}return this.i=r.join("&")};var Lo=10;function _o(r){return!!r.h||!!r.g&&r.g.size>=r.j}function zs(r){return r.h?1:r.g?r.g.size:0}function ra(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function $i(r,e){r.g?r.g.add(e):r.h=e}function ia(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ss(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return pt(r.i)}function wo(){}function Cs(){this.g=new wo}function As(r,e,t){const s=t||"";try{gi(r,function(a,c){let g=a;Xe(a)&&(g=fr(a)),e.push(s+c+"="+encodeURIComponent(g))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ps(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function os(r){this.l=r.fc||null,this.j=r.ob||!1}function Kr(r,e){$n.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ji,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vi.prototype.cancel=function(){if(this.i=Ss(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},wo.prototype.stringify=function(r){return ie.JSON.stringify(r,void 0)},wo.prototype.parse=function(r){return ie.JSON.parse(r,void 0)},Ye(os,nr),os.prototype.g=function(){return new Kr(this.l,this.j)},os.prototype.i=function(r){return function(){return r}}({}),Ye(Kr,$n);var ji=0;function Xs(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ei(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Js(r)}function Js(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(de=Kr.prototype).open=function(r,e){if(this.readyState!=ji)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Js(this)},de.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ei(this)),this.readyState=ji},de.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xs(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ei(this):Js(this),3==this.readyState&&Xs(this)}},de.Za=function(r){this.g&&(this.response=this.responseText=r,ei(this))},de.Ya=function(r){this.g&&(this.response=r,ei(this))},de.ka=function(){this.g&&ei(this)},de.setRequestHeader=function(r,e){this.v.append(r,e)},de.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Fo=ie.JSON.parse;function lr(r){$n.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ii,this.L=this.M=!1}Ye(lr,$n);var ii="",Hs=/^https?$/i,si=["POST","PUT"];function mi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,eo(r),Nn(r)}function eo(r){r.F||(r.F=!0,Tn(r,"complete"),Tn(r,"error"))}function to(r){if(r.h&&typeof ke<"u"&&(!r.C[1]||4!=gs(r)||2!=r.da()))if(r.v&&4==gs(r))nn(r.La,0,r);else if(Tn(r,"readystatechange"),4==gs(r)){r.h=!1;try{const x=r.da();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===x){var a=String(r.I).match(is)[1]||null;if(!a&&ie.self&&ie.self.location){var c=ie.self.location.protocol;a=c.substr(0,c.length-1)}s=!Hs.test(a?a.toLowerCase():"")}t=s}if(t)Tn(r,"complete"),Tn(r,"success");else{r.m=6;try{var g=2<gs(r)?r.g.statusText:""}catch{g=""}r.j=g+" ["+r.da()+"]",eo(r)}}finally{Nn(r)}}}function Nn(r,e){if(r.g){xs(r);const t=r.g,s=r.C[0]?he:null;r.g=null,r.C=null,e||Tn(r,"ready");try{t.onreadystatechange=s}catch{}}}function xs(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ie.clearTimeout(r.A),r.A=null)}function gs(r){return r.g?r.g.readyState:0}function Di(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case ii:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(r){let e="";return cr(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Mi(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=zi(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):pr(r,e,t))}function Ms(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Bo(r){this.Ga=0,this.i=[],this.j=new Qt,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ms("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ms("baseRetryDelayMs",5e3,r),this.hb=Ms("retryDelaySeedMs",1e4,r),this.eb=Ms("forwardChannelMaxRetries",2,r),this.xa=Ms("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new Vi(r&&r.concurrentRequestLimit),this.Ja=new Cs,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Eo(r){if(Un(r),3==r.H){var e=r.W++,t=Gr(r.G);pr(t,"SID",r.J),pr(t,"RID",e),pr(t,"TYPE","terminate"),no(r,t),(e=new hn(r,r.j,e,void 0)).L=2,e.v=ss(Gr(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon&&(t=ie.navigator.sendBeacon(e.v.toString(),"")),!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ns(e)}Zi(r)}function tt(r){r.g&&(as(r),r.g.cancel(),r.g=null)}function Un(r){tt(r),r.u&&(ie.clearTimeout(r.u),r.u=null),yi(r),r.h.cancel(),r.m&&("number"==typeof r.m&&ie.clearTimeout(r.m),r.m=null)}function Ps(r){_o(r.h)||r.m||(r.m=!0,Z(r.Na,r),r.C=0)}function qr(r,e){var t;t=e?e.m:r.W++;const s=Gr(r.G);pr(s,"SID",r.J),pr(s,"RID",t),pr(s,"AID",r.V),no(r,s),r.o&&r.s&&Mi(s,r.o,r.s),t=new hn(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Gs(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),$i(r.h,t),wr(t,s,e)}function no(r,e){r.ma&&cr(r.ma,function(t,s){pr(e,s,t)}),r.l&&gi({},function(t,s){pr(e,s,t)})}function Gs(r,e,t){t=Math.min(r.i.length,t);var s=r.l?He(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const g=["count="+t];-1==c?0<t?(c=a[0].h,g.push("ofs="+c)):c=0:g.push("ofs="+c);let x=!0;for(let U=0;U<t;U++){let H=a[U].h;const X=a[U].g;if(H-=c,0>H)c=Math.max(0,a[U].h-100),x=!1;else try{As(X,g,"req"+H+"_")}catch{s&&s(X)}}if(x){s=g.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Pi(r){r.g||r.u||(r.ba=1,Z(r.Ma,r),r.A=0)}function hi(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Wn(He(r.Ma,r),oi(r,r.A)),r.A++,0))}function as(r){null!=r.B&&(ie.clearTimeout(r.B),r.B=null)}function Io(r){r.g=new hn(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Gr(r.wa);pr(e,"RID","rpc"),pr(e,"SID",r.J),pr(e,"CI",r.M?"0":"1"),pr(e,"AID",r.V),pr(e,"TYPE","xmlhttp"),no(r,e),r.o&&r.s&&Mi(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=ss(Gr(e)),t.s=null,t.S=!0,Qr(t,r)}function yi(r){null!=r.v&&(ie.clearTimeout(r.v),r.v=null)}function Rs(r,e){var t=null;if(r.g==e){yi(r),as(r),r.g=null;var s=2}else{if(!ra(r.h,e))return;t=e.F,ia(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Tn(s=wn(),new xn(s,t)),Ps(r)}else Pi(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function Ws(r,e){return!(zs(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Wn(He(r.Na,r,e),oi(r,r.C)),r.C++,0)))}(r,e)||2==s&&hi(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Xr(r,5);break;case 4:Xr(r,10);break;case 3:Xr(r,6);break;default:Xr(r,2)}}function oi(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Xr(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=He(r.pb,r);t||(t=new Ki("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Fi(t,"https"),ss(t)),function jr(r,e){const t=new Qt;if(ie.Image){const s=new Image;s.onload=yt(ps,t,s,"TestLoadImage: loaded",!0,e),s.onerror=yt(ps,t,s,"TestLoadImage: error",!1,e),s.onabort=yt(ps,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=yt(ps,t,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else At(2);r.H=0,r.l&&r.l.za(e),Zi(r),Un(r)}function Zi(r){if(r.H=0,r.pa=[],r.l){const e=Ss(r.h);(0!=e.length||0!=r.i.length)&&(Ue(r.pa,e),Ue(r.pa,r.i),r.h.i.length=0,pt(r.i),r.i.length=0),r.l.ya()}}function ms(r,e,t){var s=t instanceof Ki?Gr(t):new Ki(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ui(s,s.m);else{var a=ie.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Ki(null,void 0);s&&Fi(c,s),e&&(c.g=e),a&&Ui(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&pr(s,t,e),pr(s,"VER",r.qa),no(r,s),s}function Yi(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lr(t&&r.Ha&&!r.va?new os({ob:!0}):r.va)).Oa(r.I),e}function ro(){}function ys(){if(dt&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function Ti(r,e){$n.call(this),this.g=new Bo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!bt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Qi(this)}function fa(r){we.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Zr(){ye.call(this),this.status=1}function Qi(r){this.g=r}function Si(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xi(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],g=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;g=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(g<<7&4294967295|g>>>25))+((g=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((c=(e=t+((g=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((a=c+((g=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(g<<21&4294967295|g>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Sr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(de=lr.prototype).Oa=function(r){this.M=r},de.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():et.g(),this.C=function Wr(r){return r.h||(r.h=r.i())}(this.u?this.u:et),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void mi(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ie.FormData&&r instanceof ie.FormData,!(0<=Se(si,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,g]of t)this.g.setRequestHeader(c,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xs(this),0<this.B&&((this.L=function Uo(r){return dt&&function Fn(){return st(yr,9,function(){let r=0;const e=Lt(String(kt)).split("."),t=Lt("9").split("."),s=Math.max(e.length,t.length);for(let g=0;0==r&&g<s;g++){var a=e[g]||"",c=t[g]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=Nt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Nt(0==a[2].length,0==c[2].length)||Nt(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=nn(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){mi(this,c)}},de.ua=function(){typeof ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},de.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Tn(this,"complete"),Tn(this,"abort"),Nn(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),lr.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?to(this):this.kb())},de.kb=function(){to(this)},de.da=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Fo(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=Bo.prototype).qa=8,de.H=1,de.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new hn(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=Lr(c),un(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Gs(this,a,e),pr(t=Gr(this.G),"RID",r),pr(t,"CVER",22),this.F&&pr(t,"X-HTTP-Session-Id",this.F),no(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(zi(c)))+"&"+e:this.o&&Mi(t,this.o,c)),$i(this.h,a),this.bb&&pr(t,"TYPE","init"),this.P?(pr(t,"$req",e),pr(t,"SID","null"),a.ba=!0,wr(a,t,null)):wr(a,t,e),this.H=2}}else 3==this.H&&(r?qr(this,r):0==this.i.length||_o(this.h)||qr(this))},de.Ma=function(){if(this.u=null,Io(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=Wn(He(this.jb,this),r)}},de.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,At(10),tt(this),Io(this))},de.ib=function(){null!=this.v&&(this.v=null,tt(this),hi(this),At(19))},de.pb=function(r){r?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))},(de=ro.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.Va=function(){},ys.prototype.g=function(r,e){return new Ti(r,e)},Ye(Ti,$n),Ti.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;At(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=ms(r,null,r.Y),Ps(r)},Ti.prototype.close=function(){Eo(this.g)},Ti.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=fr(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Ps(e)},Ti.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Ti.$.N.call(this)},Ye(fa,we),Ye(Zr,ye),Ye(Qi,ro),Qi.prototype.Ba=function(){Tn(this.g,"a")},Qi.prototype.Aa=function(r){Tn(this.g,new fa(r))},Qi.prototype.za=function(r){Tn(this.g,new Zr)},Qi.prototype.ya=function(){Tn(this.g,"b")},Ye(Si,function bo(){this.blockSize=-1}),Si.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Si.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Xi(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Xi(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Xi(this,s),a=0;break}}this.h=a,this.i+=e},Si.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Do={};function To(r){return-128<=r&&128>r?st(Do,r,function(e){return new Sr([0|e],0>e?-1:0)}):new Sr([0|r],0>r?-1:0)}function Ri(r){if(isNaN(r)||!isFinite(r))return Oi;if(0>r)return zn(Ri(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=so;return new Sr(e,0)}var so=4294967296,Oi=To(0),Os=To(1),So=To(16777216);function Ur(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Br(r){return-1==r.h}function zn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Sr(t,~r.h).add(Os)}function Co(r,e){return r.add(zn(e))}function Ns(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function oo(r,e){this.g=r,this.h=e}function pa(r,e){if(Ur(e))throw Error("division by zero");if(Ur(r))return new oo(Oi,Oi);if(Br(r))return e=pa(zn(r),e),new oo(zn(e.g),zn(e.h));if(Br(e))return e=pa(r,zn(e)),new oo(zn(e.g),e.h);if(30<r.g.length){if(Br(r)||Br(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Os,s=e;0>=s.X(r);)t=qo(t),s=qo(s);var a=vi(t,1),c=vi(s,1);for(s=vi(s,2),t=vi(t,2);!Ur(s);){var g=c.add(s);0>=g.X(r)&&(a=a.add(t),c=g),s=vi(s,1),t=vi(t,1)}return e=Co(r,a.R(e)),new oo(a,e)}for(a=Oi;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),g=(c=Ri(t)).R(e);Br(g)||0<g.X(r);)g=(c=Ri(t-=s)).R(e);Ur(c)&&(c=Os),a=a.add(c),r=Co(r,g)}return new oo(a,r)}function qo(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Sr(t,r.h)}function vi(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Sr(a,r.h)}(de=Sr.prototype).ea=function(){if(Br(this))return-zn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:so+s)*e,e*=so}return r},de.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Ur(this))return"0";if(Br(this))return"-"+zn(this).toString(r);for(var e=Ri(Math.pow(r,6)),t=this,s="";;){var a=pa(t,e).g,c=((0<(t=Co(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Ur(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},de.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},de.X=function(r){return Br(r=Co(this,r))?-1:Ur(r)?0:1},de.abs=function(){return Br(this)?zn(this):this},de.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),g=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=g>>>16,t[a]=(g&=65535)<<16|(c&=65535)}return new Sr(t,-2147483648&t[t.length-1]?-1:0)},de.R=function(r){if(Ur(this)||Ur(r))return Oi;if(Br(this))return Br(r)?zn(this).R(zn(r)):zn(zn(this).R(r));if(Br(r))return zn(this.R(zn(r)));if(0>this.X(So)&&0>r.X(So))return Ri(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,g=65535&this.D(s),x=r.D(a)>>>16,U=65535&r.D(a);t[2*s+2*a]+=g*U,Ns(t,2*s+2*a),t[2*s+2*a+1]+=c*U,Ns(t,2*s+2*a+1),t[2*s+2*a+1]+=g*x,Ns(t,2*s+2*a+1),t[2*s+2*a+2]+=c*x,Ns(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Sr(t,0)},de.gb=function(r){return pa(this,r).h},de.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Sr(t,this.h&r.h)},de.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Sr(t,this.h|r.h)},de.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Sr(t,this.h^r.h)},ys.prototype.createWebChannel=ys.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,ui.COMPLETE="complete",Zn.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",$n.prototype.listen=$n.prototype.O,lr.prototype.listenOnce=lr.prototype.P,lr.prototype.getLastError=lr.prototype.Sa,lr.prototype.getLastErrorCode=lr.prototype.Ia,lr.prototype.getStatus=lr.prototype.da,lr.prototype.getResponseJson=lr.prototype.Wa,lr.prototype.getResponseText=lr.prototype.ja,lr.prototype.send=lr.prototype.ha,lr.prototype.setWithCredentials=lr.prototype.Oa,Si.prototype.digest=Si.prototype.l,Si.prototype.reset=Si.prototype.reset,Si.prototype.update=Si.prototype.j,Sr.prototype.add=Sr.prototype.add,Sr.prototype.multiply=Sr.prototype.R,Sr.prototype.modulo=Sr.prototype.gb,Sr.prototype.compare=Sr.prototype.X,Sr.prototype.toNumber=Sr.prototype.ea,Sr.prototype.toString=Sr.prototype.toString,Sr.prototype.getBits=Sr.prototype.D,Sr.fromNumber=Ri,Sr.fromString=function io(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return zn(io(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ri(Math.pow(e,8)),s=Oi,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),g=parseInt(r.substring(a,a+c),e);8>c?(c=Ri(Math.pow(e,c)),s=s.R(c).add(Ri(g))):s=(s=s.R(t)).add(Ri(g))}return s};var vs=Ie.createWebChannelTransport=function(){return new ys},sa=Ie.getStatEventTarget=function(){return wn()},Zo=Ie.ErrorCode=tr,m=Ie.EventType=ui,h=Ie.Event=nt,d=Ie.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},w=Ie.FetchXmlHttpFactory=os,O=Ie.WebChannel=Zn,V=Ie.XhrIo=lr,v=Ie.Md5=Si,E=Ie.Integer=Sr;const L="@firebase/firestore";class K{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}K.UNAUTHENTICATED=new K(null),K.GOOGLE_CREDENTIALS=new K("google-credentials-uid"),K.FIRST_PARTY=new K("first-party-uid"),K.MOCK_USER=new K("mock-user");let ge="9.21.0";const $e=new ae.Yd("@firebase/firestore");function Ft(){return $e.logLevel}function jt(r){$e.setLogLevel(r)}function Le(r,...e){if($e.logLevel<=ae.in.DEBUG){const t=e.map(gr);$e.debug(`Firestore (${ge}): ${r}`,...t)}}function Ht(r,...e){if($e.logLevel<=ae.in.ERROR){const t=e.map(gr);$e.error(`Firestore (${ge}): ${r}`,...t)}}function Sn(r,...e){if($e.logLevel<=ae.in.WARN){const t=e.map(gr);$e.warn(`Firestore (${ge}): ${r}`,...t)}}function gr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Dt(r="Unexpected state"){const e=`FIRESTORE (${ge}) INTERNAL ASSERTION FAILED: `+r;throw Ht(e),new Error(e)}function Ut(r,e){r||Dt()}function Mr(r,e){r||Dt()}function Pt(r,e){return r}const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class us{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ks{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(K.UNAUTHENTICATED))}shutdown(){}}class Ba{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ji{constructor(e){this.t=e,this.currentUser=K.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let g=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new $r,e.enqueueRetryable(()=>c(this.currentUser))};const x=()=>{const H=g;e.enqueueRetryable((0,I.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},U=H=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(H=>U(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?U(H):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new $r)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut("string"==typeof s.accessToken),new us(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new K(e)}}class ga{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=K.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Va{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new ga(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(K.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ao{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class En{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const g=c.token!==this.T;return this.T=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.T=t.token,new ao(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ln(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Er{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ln(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function mn(r,e){return r<e?-1:r>e?1:0}function Ni(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function ls(r){return r+"\0"}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ht(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ht(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ht(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Pr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Pr(0,0))}static max(){return new xt(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class li{constructor(e,t,s){void 0===t?t=0:t>e.length&&Dt(),void 0===s?s=e.length-t:s>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),g=t.get(a);if(c<g)return-1;if(c>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pn extends li{construct(e,t,s){return new Pn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(Ze.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Pn(t)}static emptyPath(){return new Pn([])}}const _i=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends li{construct(e,t,s){return new Rr(e,t,s)}static isValidIdentifier(e){return _i.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new ht(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let g=!1;for(;a<e.length;){const x=e[a];if("\\"===x){if(a+1===e.length)throw new ht(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[a+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new ht(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,a+=2}else"`"===x?(g=!g,a++):"."!==x||g?(s+=x,a++):(c(),a++)}if(c(),g)throw new ht(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(Pn.fromString(e))}static fromName(e){return new Rt(Pn.fromString(e).popFirst(5))}static empty(){return new Rt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new Pn(e.slice()))}}class ks{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function ma(r){return r.fields.find(e=>2===e.kind)}function ya(r){return r.fields.filter(e=>2!==e.kind)}ks.UNKNOWN_ID=-1;class $a{constructor(e,t){this.fieldPath=e,this.kind=t}}class ki{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ki(0,_s.min())}}function Sa(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(1e9===s?new Pr(t+1,0):new Pr(t,s));return new _s(a,Rt.empty(),e)}function Ao(r){return new _s(r.readTime,r.key,-1)}class _s{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _s(xt.min(),Rt.empty(),-1)}static max(){return new _s(xt.max(),Rt.empty(),-1)}}function ja(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(r.documentKey,e.documentKey),0!==t?t:mn(r.largestBatchId,e.largestBatchId))}const Vo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ca(r){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,I.Z)(function*(r){if(r.code!==Ze.FAILED_PRECONDITION||r.message!==Vo)throw r;Le("LocalStore","Unexpectedly lost primary lease")}),Xu.apply(this,arguments)}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,s)=>{t(e)})}static reject(e){return new Fe((t,s)=>{s(e)})}static waitFor(e){return new Fe((t,s)=>{let a=0,c=0,g=!1;e.forEach(x=>{++a,x.next(()=>{++c,g&&c===a&&t()},U=>s(U))}),g=!0,c===a&&t()})}static or(e){let t=Fe.resolve(!1);for(const s of e)t=t.next(a=>a?Fe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Fe((s,a)=>{const c=e.length,g=new Array(c);let x=0;for(let U=0;U<c;U++){const H=U;t(e[H]).next(X=>{g[H]=X,++x,x===c&&s(g)},X=>a(X))}})}static doWhile(e,t){return new Fe((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Aa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new $r,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new za(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const a=Ll(s.target.error);this.R.reject(new za(e,a))}}static open(e,t,s,a){try{return new Aa(t,e.transaction(a,s))}catch(c){throw new za(t,c)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fc(t)}}class uo{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===uo.S((0,fe.z$)())&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),xa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,fe.hl)())return!1;if(uo.C())return!0;const e=(0,fe.z$)(),t=uo.S(e),s=0<t&&t<10,a=uo.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var t=this;return(0,I.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=g=>{s(g.target.result)},c.onblocked=()=>{a(new za(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=g=>{const x=g.target.error;a("VersionError"===x.name?new ht(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new ht(Ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new za(e,x))},c.onupgradeneeded=g=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.V.$(g.target.result,c.transaction,g.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,I.Z)(function*(){const g="readonly"===t;let x=0;for(;;){++x;try{c.db=yield c.O(e);const U=Aa.open(c.db,e,g?"readonly":"readwrite",s),H=a(U).next(X=>(U.P(),X)).catch(X=>(U.abort(X),Fe.reject(X))).toPromise();return H.catch(()=>{}),yield U.v,H}catch(U){const H=U,X="FirebaseError"!==H.name&&x<3;if(Le("SimpleDb","Transaction failed with error:",H.message,"Retrying:",X),c.close(),!X)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Bu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return xa(this.L.delete())}}class za extends ht{constructor(e,t){super(Ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oa(r){return"IndexedDbTransactionError"===r.name}class fc{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),xa(s)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),xa(this.store.add(e))}get(e){return xa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),xa(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),xa(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(g,x)=>{c.push(x)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Fe((c,g)=>{a.onerror=x=>{g(x.target.error)},a.onsuccess=x=>{c(x.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Fe((a,c)=>{s.onerror=g=>{c(g.target.error)},s.onsuccess=g=>{a(g.target.result)}})}J(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,g,x)=>x.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Fe((s,a)=>{t.onerror=c=>{const g=Ll(c.target.error);a(g)},t.onsuccess=c=>{const g=c.target.result;g?e(g.primaryKey,g.value).next(x=>{x?g.continue():s()}):s()}})}W(e,t){const s=[];return new Fe((a,c)=>{e.onerror=g=>{c(g.target.error)},e.onsuccess=g=>{const x=g.target.result;if(!x)return void a();const U=new Bu(x),H=t(x.primaryKey,x.value,U);if(H instanceof Fe){const X=H.catch(me=>(U.done(),Fe.reject(me)));s.push(X)}U.isDone?a():null===U.K?x.continue():x.continue(U.K)}}).next(()=>Fe.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xa(r){return new Fe((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=Ll(s.target.error);t(a)}})}let va=!1;function Ll(r){const e=uo.S((0,fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return va||(va=!0,setTimeout(()=>{throw s},0)),s}}return r}class Fl{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,I.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){oa(s)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ca(s)}yield t.et(6e4)}))}}class Hi{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,I.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Fe.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Le("IndexBackiller",`Processing collection: ${g}`),this.it(e,g,a).next(x=>{a-=x,s.add(g)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const g=c.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.rt(a,c)).next(x=>(Le("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>g.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const g=Ao(c);ja(g,s)>0&&(s=g)}),new _s(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ci=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function _a(r){return null==r}function wa(r){return 0===r&&1/r==-1/0}function Ls(r){return"number"==typeof r&&Number.isInteger(r)&&!wa(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function ci(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ma(e)),e=Eu(r.get(t),e);return Ma(e)}function Eu(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Ma(r){return r+"\x01\x01"}function ws(r){const e=r.length;if(Ut(e>=2),2===e)return Ut("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Pn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const g=r.indexOf("\x01",c);switch((g<0||g>t)&&Dt(),r.charAt(g+1)){case"\x01":const x=r.substring(c,g);let U;0===a.length?U=x:(a+=x,U=a,a=""),s.push(U);break;case"\x10":a+=r.substring(c,g),a+="\0";break;case"\x11":a+=r.substring(c,g+1);break;default:Dt()}c=g+2}return new Pn(s)}const Iu=["userId","batchId"];function Pa(r,e){return[r,ci(e)]}function Ha(r,e,t){return[r,ci(e),t]}const bu={},lo=["prefixPath","collectionGroup","readTime","documentId"],Wa=["prefixPath","collectionGroup","documentId"],D=["collectionGroup","readTime","prefixPath","documentId"],T=["canonicalId","targetId"],_=["targetId","path"],R=["path","targetId"],B=["collectionId","parent"],q=["indexId","uid"],ee=["uid","sequenceNumber"],Ne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mt=["indexId","uid","orderedDocumentKey"],Wt=["userId","collectionPath","documentId"],tn=["userId","collectionPath","largestBatchId"],Nr=["userId","collectionGroup","largestBatchId"],ai=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aa=[...ai,"documentOverlays"],Fs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qo=Fs,xo=[...Qo,"indexConfiguration","indexState","indexEntries"];class Mo extends Yo{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function wi(r,e){const t=Pt(r);return uo.M(t.at,e)}function Ju(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Xo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ul(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class zr{constructor(e,t){this.comparator=e,this.root=t||Us.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Us{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Us.RED,this.left=a??Us.EMPTY,this.right=c??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Us(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Us.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Us(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fi{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bl(this.data.getIterator())}getIteratorFrom(e){return new Bl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fi(this.comparator);return t.data=e,t}}class Bl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cu(r){return r.hasNext()?r.getNext():void 0}class Po{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new Po([])}unionWith(e){let t=new fi(Rr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ni(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class el extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function od(){return typeof atob<"u"}class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new el("Invalid base64 string: "+a):a}}(e);return new cs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const Du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(r){if(Ut(!!r),"string"==typeof r){let e=0;const t=Du.exec(r);if(Ut(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Li(r.seconds),nanos:Li(r.nanos)}}function Li(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ua(r){return"string"==typeof r?cs.fromBase64String(r):cs.fromUint8Array(r)}function Vl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ga(r){const e=r.mapValue.fields.__previous_value__;return Vl(e)?Ga(e):e}function Tu(r){const e=Ra(r.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}class tl{constructor(e,t,s,a,c,g,x,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=g,this.autoDetectLongPolling=x,this.useFetchStreams=U}}class Ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ea&&e.projectId===this.projectId&&e.database===this.database}}const Jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vu={nullValue:"NULL_VALUE"};function Ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vl(r)?4:Za(r)?9007199254740991:10:Dt()}function co(r,e){if(r===e)return!0;const t=Ia(r);if(t!==Ia(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tu(r).isEqual(Tu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Ra(s.timestampValue),g=Ra(a.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ua(r.bytesValue).isEqual(ua(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Li(s.geoPointValue.latitude)===Li(a.geoPointValue.latitude)&&Li(s.geoPointValue.longitude)===Li(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Li(s.integerValue)===Li(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Li(s.doubleValue),g=Li(a.doubleValue);return c===g?wa(c)===wa(g):isNaN(c)&&isNaN(g)}return!1}(r,e);case 9:return Ni(r.arrayValue.values||[],e.arrayValue.values||[],co);case 10:return function(s,a){const c=s.mapValue.fields||{},g=a.mapValue.fields||{};if(Ju(c)!==Ju(g))return!1;for(const x in c)if(c.hasOwnProperty(x)&&(void 0===g[x]||!co(c[x],g[x])))return!1;return!0}(r,e);default:return Dt()}var a}function du(r,e){return void 0!==(r.values||[]).find(t=>co(t,e))}function Oa(r,e){if(r===e)return 0;const t=Ia(r),s=Ia(e);if(t!==s)return mn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const g=Li(a.integerValue||a.doubleValue),x=Li(c.integerValue||c.doubleValue);return g<x?-1:g>x?1:g===x?0:isNaN(g)?isNaN(x)?0:-1:1}(r,e);case 3:return nl(r.timestampValue,e.timestampValue);case 4:return nl(Tu(r),Tu(e));case 5:return mn(r.stringValue,e.stringValue);case 6:return function(a,c){const g=ua(a),x=ua(c);return g.compareTo(x)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const g=a.split("/"),x=c.split("/");for(let U=0;U<g.length&&U<x.length;U++){const H=mn(g[U],x[U]);if(0!==H)return H}return mn(g.length,x.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const g=mn(Li(a.latitude),Li(c.latitude));return 0!==g?g:mn(Li(a.longitude),Li(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const g=a.values||[],x=c.values||[];for(let U=0;U<g.length&&U<x.length;++U){const H=Oa(g[U],x[U]);if(H)return H}return mn(g.length,x.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Jo.mapValue&&c===Jo.mapValue)return 0;if(a===Jo.mapValue)return 1;if(c===Jo.mapValue)return-1;const g=a.fields||{},x=Object.keys(g),U=c.fields||{},H=Object.keys(U);x.sort(),H.sort();for(let X=0;X<x.length&&X<H.length;++X){const me=mn(x[X],H[X]);if(0!==me)return me;const ze=Oa(g[x[X]],U[H[X]]);if(0!==ze)return ze}return mn(x.length,H.length)}(r.mapValue,e.mapValue);default:throw Dt()}}function nl(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return mn(r,e);const t=Ra(r),s=Ra(e),a=mn(t.seconds,s.seconds);return 0!==a?a:mn(t.nanos,s.nanos)}function Na(r){return ad(r)}function ad(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Ra(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ua(r.bytesValue).toBase64():"referenceValue"in r?Rt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const g of s.values||[])c?c=!1:a+=",",a+=ad(g);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",g=!0;for(const x of a)g?g=!1:c+=",",c+=`${x}:${ad(s.fields[x])}`;return c+"}"}(r.mapValue):Dt();var e}function hu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fu(r){return!!r&&"integerValue"in r}function Su(r){return!!r&&"arrayValue"in r}function Ka(r){return!!r&&"nullValue"in r}function $u(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $o(r){return!!r&&"mapValue"in r}function qa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=qa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Za(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ud(r){return"nullValue"in r?Vu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?hu(Ea.empty(),Rt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Dt()}function Ya(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?hu(Ea.empty(),Rt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Jo:Dt()}function jl(r,e){const t=Oa(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ld(r,e){const t=Oa(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!$o(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Rr.emptyPath(),s={},a=[];e.forEach((g,x)=>{if(!t.isImmediateParentOf(x)){const U=this.getFieldsMap(t);this.applyChanges(U,s,a),s={},a=[],t=x.popLast()}g?s[x.lastSegment()]=qa(g):a.push(x.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());$o(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];$o(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Xo(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Es(qa(this.value))}}function pc(r){const e=[];return Xo(r.fields,(t,s)=>{const a=new Rr([t]);if($o(s)){const c=pc(s.mapValue).fields;if(0===c.length)e.push(a);else for(const g of c)e.push(a.child(g))}else e.push(a)}),new Po(e)}class di{constructor(e,t,s,a,c,g,x){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=g,this.documentState=x}static newInvalidDocument(e){return new di(e,0,xt.min(),xt.min(),xt.min(),Es.empty(),0)}static newFoundDocument(e,t,s,a){return new di(e,1,t,xt.min(),s,a,0)}static newNoDocument(e,t){return new di(e,2,t,xt.min(),xt.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,xt.min(),xt.min(),Es.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ba{constructor(e,t){this.position=e,this.inclusive=t}}function C(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],g=r.position[a];if(s=c.field.isKeyField()?Rt.comparator(Rt.fromName(g.referenceValue),t.key):Oa(g,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function N(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!co(r.position[t],e.position[t]))return!1;return!0}class z{constructor(e,t="asc"){this.field=e,this.dir=t}}function oe(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class be{}class ve extends be{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new zl(e,t,s):"array-contains"===t?new gc(e,s):"in"===t?new Hl(e,s):"not-in"===t?new cd(e,s):"array-contains-any"===t?new ah(e,s):new ve(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Cu(e,s):new jo(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Oa(t,this.value)):null!==t&&Ia(this.value)===Ia(t)&&this.matchesComparison(Oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class je extends be{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new je(e,t)}matches(e){return Xt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xt(r){return"and"===r.op}function Kt(r){return"or"===r.op}function In(r){return Yn(r)&&Xt(r)}function Yn(r){for(const e of r.filters)if(e instanceof je)return!1;return!0}function Gn(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Na(r.value);if(In(r))return r.filters.map(e=>Gn(e)).join(",");{const e=r.filters.map(t=>Gn(t)).join(",");return`${r.op}(${e})`}}function qs(r,e){return r instanceof ve?(t=r,(s=e)instanceof ve&&t.op===s.op&&t.field.isEqual(s.field)&&co(t.value,s.value)):r instanceof je?function(t,s){return s instanceof je&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,g)=>a&&qs(c,s.filters[g]),!0)}(r,e):void Dt();var t,s}function Is(r,e){const t=r.filters.concat(e);return je.create(t,r.op)}function Qa(r){return r instanceof ve?`${(e=r).field.canonicalString()} ${e.op} ${Na(e.value)}`:r instanceof je?function(e){return e.op.toString()+" {"+e.getFilters().map(Qa).join(" ,")+"}"}(r):"Filter";var e}class zl extends ve{constructor(e,t,s){super(e,t,s),this.key=Rt.fromName(s.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cu extends ve{constructor(e,t){super(e,"in",t),this.keys=zo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jo extends ve{constructor(e,t){super(e,"not-in",t),this.keys=zo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zo(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Rt.fromName(s.referenceValue))}class gc extends ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Su(t)&&du(t.arrayValue,this.value)}}class Hl extends ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&du(this.value.arrayValue,t)}}class cd extends ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!du(this.value.arrayValue,t)}}class ah extends ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Su(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>du(this.value.arrayValue,s))}}class rl{constructor(e,t=null,s=[],a=[],c=null,g=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=g,this.endAt=x,this.ft=null}}function il(r,e=null,t=[],s=[],a=null,c=null,g=null){return new rl(r,e,t,s,a,c,g)}function pu(r){const e=Pt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Gn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),_a(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Na(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Na(s)).join(",")),e.ft=t}return e.ft}function Xa(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!oe(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!qs(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!N(r.startAt,e.startAt)&&N(r.endAt,e.endAt)}function sl(r){return Rt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Wl(r,e){return r.filters.filter(t=>t instanceof ve&&t.field.isEqual(e))}function uh(r,e,t){let s=Vu,a=!0;for(const c of Wl(r,e)){let g=Vu,x=!0;switch(c.op){case"<":case"<=":g=ud(c.value);break;case"==":case"in":case">=":g=c.value;break;case">":g=c.value,x=!1;break;case"!=":case"not-in":g=Vu}jl({value:s,inclusive:a},{value:g,inclusive:x})<0&&(s=g,a=x)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const g=t.position[c];jl({value:s,inclusive:a},{value:g,inclusive:t.inclusive})<0&&(s=g,a=t.inclusive);break}return{value:s,inclusive:a}}function mc(r,e,t){let s=Jo,a=!0;for(const c of Wl(r,e)){let g=Jo,x=!0;switch(c.op){case">=":case">":g=Ya(c.value),x=!1;break;case"==":case"in":case"<=":g=c.value;break;case"<":g=c.value,x=!1;break;case"!=":case"not-in":g=Jo}ld({value:s,inclusive:a},{value:g,inclusive:x})>0&&(s=g,a=x)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const g=t.position[c];ld({value:s,inclusive:a},{value:g,inclusive:t.inclusive})>0&&(s=g,a=t.inclusive);break}return{value:s,inclusive:a}}class Ja{constructor(e,t=null,s=[],a=[],c=null,g="F",x=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=g,this.startAt=x,this.endAt=U,this.dt=null,this._t=null}}function lh(r,e,t,s,a,c,g,x){return new Ja(r,e,t,s,a,c,g,x)}function ol(r){return new Ja(r)}function S(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function f(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function y(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function A(r){return null!==r.collectionGroup}function W(r){const e=Pt(r);if(null===e.dt){e.dt=[];const t=y(e),s=f(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new z(t)),e.dt.push(new z(Rr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new z(Rr.keyField(),c))}}}return e.dt}function J(r){const e=Pt(r);if(!e._t)if("F"===e.limitType)e._t=il(e.path,e.collectionGroup,W(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of W(e))t.push(new z(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new ba(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ba(e.startAt.position,e.startAt.inclusive):null;e._t=il(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Re(r,e){e.getFirstInequalityField(),y(r);const t=r.filters.concat([e]);return new Ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function rt(r,e,t){return new Ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Bt(r,e){return Xa(J(r),J(e))&&r.limitType===e.limitType}function ln(r){return`${pu(J(r))}|lt:${r.limitType}`}function On(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qa(s)).join(", ")}]`),_a(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Na(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Na(s)).join(",")),`Target(${t})`}(J(r))}; limitType=${r.limitType})`}function sr(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Rt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of W(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,g){const x=C(a,c,g);return a.inclusive?x<=0:x<0}(t.startAt,W(t),s)||t.endAt&&!function(a,c,g){const x=C(a,c,g);return a.inclusive?x>=0:x>0}(t.endAt,W(t),s)));var t,s}function Ro(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eu(r){return(e,t)=>{let s=!1;for(const a of W(r)){const c=yc(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function yc(r,e,t){const s=r.field.isKeyField()?Rt.comparator(e.key,t.key):function(a,c,g){const x=c.data.field(a),U=g.data.field(a);return null!==x&&null!==U?Oa(x,U):Dt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Dt()}}class gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ul(this.inner)}size(){return this.innerSize}}const al=new zr(Rt.comparator);function Ho(){return al}const vc=new zr(Rt.comparator);function Au(...r){let e=vc;for(const t of r)e=e.insert(t.key,t);return e}function _c(r){let e=vc;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return mu()}function Gl(){return mu()}function mu(){return new gu(r=>r.toString(),(r,e)=>r.isEqual(e))}const wc=new zr(Rt.comparator),Ec=new fi(Rt.comparator);function mr(...r){let e=Ec;for(const t of r)e=e.add(t);return e}const If=new fi(mn);function dd(){return If}function Ic(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(e)?"-0":e}}function hg(r){return{integerValue:""+r}}function bf(r,e){return Ls(e)?hg(e):Ic(r,e)}class ch{constructor(){this._=void 0}}function xy(r,e,t){return r instanceof Kl?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Vl(a)&&(a=Ga(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof xu?dh(r,e):r instanceof tu?fg(r,e):function(s,a){const c=Df(s,a),g=Py(c)+Py(s.wt);return fu(c)&&fu(s.wt)?hg(g):Ic(s.serializer,g)}(r,e)}function My(r,e,t){return r instanceof xu?dh(r,e):r instanceof tu?fg(r,e):t}function Df(r,e){return r instanceof bc?fu(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Kl extends ch{}class xu extends ch{constructor(e){super(),this.elements=e}}function dh(r,e){const t=pg(e);for(const s of r.elements)t.some(a=>co(a,s))||t.push(s);return{arrayValue:{values:t}}}class tu extends ch{constructor(e){super(),this.elements=e}}function fg(r,e){let t=pg(e);for(const s of r.elements)t=t.filter(a=>!co(a,s));return{arrayValue:{values:t}}}class bc extends ch{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Py(r){return Li(r.integerValue||r.doubleValue)}function pg(r){return Su(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ql{constructor(e,t){this.field=e,this.transform=t}}class gg{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class hd{}function Tf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ac(r.key,Ai.none()):new Sc(r.key,r.data,Ai.none());{const t=r.data,s=Es.empty();let a=new fi(Rr.comparator);for(let c of e.fields)if(!a.has(c)){let g=t.field(c);null===g&&c.length>1&&(c=c.popLast(),g=t.field(c)),null===g?s.delete(c):s.set(c,g),a=a.add(c)}return new ju(r.key,s,new Po(a.toArray()),Ai.none())}}function mg(r,e,t){r instanceof Sc?function(s,a,c){const g=s.value.clone(),x=zu(s.fieldTransforms,a,c.transformResults);g.setAll(x),a.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(r,e,t):r instanceof ju?function(s,a,c){if(!Dc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const g=zu(s.fieldTransforms,a,c.transformResults),x=a.data;x.setAll(vg(s)),x.setAll(g),a.convertToFoundDocument(c.version,x).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tc(r,e,t,s){return r instanceof Sc?function(a,c,g,x){if(!Dc(a.precondition,c))return g;const U=a.value.clone(),H=Cc(a.fieldTransforms,x,c);return U.setAll(H),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null}(r,e,t,s):r instanceof ju?function(a,c,g,x){if(!Dc(a.precondition,c))return g;const U=Cc(a.fieldTransforms,x,c),H=c.data;return H.setAll(vg(a)),H.setAll(U),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(X=>X.field))}(r,e,t,s):(g=t,Dc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g);var c,g}function Oy(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Df(s.transform,a||null);null!=c&&(null===t&&(t=Es.empty()),t.set(s.field,c))}return t||null}function yg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ni(t,s,(a,c)=>function Ry(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof xu&&s instanceof xu||t instanceof tu&&s instanceof tu?Ni(t.elements,s.elements,co):t instanceof bc&&s instanceof bc?co(t.wt,s.wt):t instanceof Kl&&s instanceof Kl);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Sc extends hd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ju extends hd{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function zu(r,e,t){const s=new Map;Ut(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],g=c.transform,x=e.data.field(c.field);s.set(c.field,My(g,x,t[a]))}return s}function Cc(r,e,t){const s=new Map;for(const a of r){const c=a.transform,g=t.data.field(a.field);s.set(a.field,xy(c,g,e))}return s}class Ac extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _g extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wg{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&mg(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Gl();return this.mutations.forEach(a=>{const c=e.get(a.key),g=c.overlayedDocument;let x=this.applyToLocalView(g,c.mutatedFields);x=t.has(a.key)?null:x;const U=Tf(g,x);null!==U&&s.set(a.key,U),g.isValidDocument()||g.convertToNoDocument(xt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mr())}isEqual(e){return this.batchId===e.batchId&&Ni(this.mutations,e.mutations,(t,s)=>yg(t,s))&&Ni(this.baseMutations,e.baseMutations,(t,s)=>yg(t,s))}}class Eg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ut(e.mutations.length===s.length);let a=wc;const c=e.mutations;for(let g=0;g<c.length;g++)a=a.insert(c[g].key,s[g].version);return new Eg(e,t,s,a)}}class Ig{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zs,Yr;function Dg(r){switch(r){default:return Dt();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}function Tg(r){if(void 0===r)return Ht("GRPC error has no .code"),Ze.UNKNOWN;switch(r){case Zs.OK:return Ze.OK;case Zs.CANCELLED:return Ze.CANCELLED;case Zs.UNKNOWN:return Ze.UNKNOWN;case Zs.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Zs.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Zs.INTERNAL:return Ze.INTERNAL;case Zs.UNAVAILABLE:return Ze.UNAVAILABLE;case Zs.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Zs.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Zs.NOT_FOUND:return Ze.NOT_FOUND;case Zs.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Zs.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Zs.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Zs.ABORTED:return Ze.ABORTED;case Zs.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Zs.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Zs.DATA_LOSS:return Ze.DATA_LOSS;default:return Dt()}}(Yr=Zs||(Zs={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";class fd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nu}static getOrCreateInstance(){return null===nu&&(nu=new fd),nu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let nu=null;function xc(){return new TextEncoder}const Sg=new E([4294967295,4294967295],0);function Sf(r){const e=xc().encode(r),t=new v;return t.update(e),new Uint8Array(t.digest())}function Cf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new E([t,s],0),new E([a,c],0)]}class Cg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new hh(`Invalid padding: ${t}`);if(s<0)throw new hh(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new hh(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new hh(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=E.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(E.fromNumber(s)));return 1===a.compare(Sg)&&(a=new E([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=Sf(e),[s,a]=Cf(t);for(let c=0;c<this.hashCount;c++){const g=this.Tt(s,a,c);if(!this.Et(g))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),g=new Cg(c,a,t);return s.forEach(x=>g.insert(x)),g}insert(e){if(0===this.yt)return;const t=Sf(e),[s,a]=Cf(t);for(let c=0;c<this.hashCount;c++){const g=this.Tt(s,a,c);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fh(xt.min(),a,new zr(mn),Ho(),mr())}}class Zl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Zl(s,t,mr(),mr(),mr())}}class Mc{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Ny{constructor(e,t){this.targetId=e,this.bt=t}}class ky{constructor(e,t,s=cs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Af{constructor(){this.Vt=0,this.St=xg(),this.Dt=cs.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=mr(),t=mr(),s=mr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Dt()}}),new Zl(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=xg()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Ly{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ho(),this.jt=Ag(),this.zt=new zr(mn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const g=c.target;if(sl(g))if(0===a){const x=new Rt(g.path);this.Jt(s,x,di.newNoDocument(x,xt.min()))}else Ut(1===a);else{const x=this.se(s);if(x!==a){const U=this.ie(e,x);0!==U&&(this.te(s),this.zt=this.zt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=fd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,X,me){var ze,ft,Vt,on,Cn,Ir;const ti={localCacheCount:X,existenceFilterCount:me.count},Or=me.unchangedNames;return Or&&(ti.bloomFilter={applied:0===H,hashCount:null!==(ze=Or?.hashCount)&&void 0!==ze?ze:0,bitmapLength:null!==(on=null===(Vt=null===(ft=Or?.bits)||void 0===ft?void 0:ft.bitmap)||void 0===Vt?void 0:Vt.length)&&void 0!==on?on:0,padding:null!==(Ir=null===(Cn=Or?.bits)||void 0===Cn?void 0:Cn.padding)&&void 0!==Ir?Ir:0}),ti}(U,x,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:g=0},hashCount:x=0}=s;let U,H;try{U=ua(c).toUint8Array()}catch(X){if(X instanceof el)return Sn("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{H=new Cg(U,g,x)}catch(X){return Sn(X instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===H.yt?1:a!==t-this.re(e.targetId,H)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const g=this.Kt.oe(),x=`projects/${g.projectId}/databases/${g.database}/documents/${c.path.canonicalString()}`;t.At(x)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,g)=>{const x=this.ne(g);if(x){if(c.current&&sl(x.target)){const U=new Rt(x.target.path);null!==this.Qt.get(U)||this.ce(g,U)||this.Jt(g,U,di.newNoDocument(U,e))}c.kt&&(t.set(g,c.Ot()),c.$t())}});let s=mr();this.jt.forEach((c,g)=>{let x=!0;g.forEachWhile(U=>{const H=this.ne(U);return!H||"TargetPurposeLimboResolution"===H.purpose||(x=!1,!1)}),x&&(s=s.add(c))}),this.Qt.forEach((c,g)=>g.setReadTime(e));const a=new fh(e,t,this.zt,this.Qt,s);return this.Qt=Ho(),this.jt=Ag(),this.zt=new zr(mn),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Af,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new fi(mn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Af),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new zr(Rt.comparator)}function xg(){return new zr(Rt.comparator)}const Fy={asc:"ASCENDING",desc:"DESCENDING"},Mg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ph={and:"AND",or:"OR"};class Uy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pd(r,e){return r.useProto3Json||_a(e)?e:{value:e}}function Pc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bs(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function By(r,e){return Pc(r,e.toTimestamp())}function Vs(r){return Ut(!!r),xt.fromTimestamp(function(e){const t=Ra(e);return new Pr(t.seconds,t.nanos)}(r))}function gh(r,e){return(t=r,new Pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xf(r){const e=Pn.fromString(r);return Ut(vh(e)),e}function gd(r,e){return gh(r.databaseId,e.path)}function Mu(r,e){const t=xf(e);if(t.get(1)!==r.databaseId.projectId)throw new ht(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ht(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Rt(Vy(t))}function Mf(r,e){return gh(r.databaseId,e)}function Pg(r){const e=xf(r);return 4===e.length?Pn.emptyPath():Vy(e)}function Rc(r){return new Pn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Vy(r){return Ut(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function $y(r,e,t){return{name:gd(r,e),fields:t.value.mapValue.fields}}function Oc(r,e,t){const s=Mu(r,e.name),a=Vs(e.updateTime),c=e.createTime?Vs(e.createTime):xt.min(),g=new Es({mapValue:{fields:e.fields}}),x=di.newFoundDocument(s,a,c,g);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function Nc(r,e){let t;if(e instanceof Sc)t={update:$y(r,e.key,e.value)};else if(e instanceof Ac)t={delete:gd(r,e.key)};else if(e instanceof ju)t={update:$y(r,e.key,e.data),updateMask:Hy(e.fieldMask)};else{if(!(e instanceof _g))return Dt();t={verify:gd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const g=c.transform;if(g instanceof Kl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bc)return{fieldPath:c.field.canonicalString(),increment:g.wt};throw Dt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:By(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Dt()),t;var a}function mh(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Ai.updateTime(Vs(a.updateTime)):void 0!==a.exists?Ai.exists(a.exists):Ai.none():Ai.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,g){let x=null;"setToServerValue"in g?(Ut("REQUEST_TIME"===g.setToServerValue),x=new Kl):"appendMissingElements"in g?x=new xu(g.appendMissingElements.values||[]):"removeAllFromArray"in g?x=new tu(g.removeAllFromArray.values||[]):"increment"in g?x=new bc(c,g.increment):Dt();const U=Rr.fromServerFormat(g.fieldPath);return new ql(U,x)}(r,a)):[];var a;if(e.update){const a=Mu(r,e.update.name),c=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Po((e.updateMask.fieldPaths||[]).map(H=>Rr.fromServerFormat(H)));return new ju(a,c,g,t,s)}return new Sc(a,c,t,s)}if(e.delete){const a=Mu(r,e.delete);return new Ac(a,t)}if(e.verify){const a=Mu(r,e.verify);return new _g(a,t)}return Dt()}function Og(r,e){return{documents:[Mf(r,e.path)]}}function yh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Mf(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mf(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(U){if(0!==U.length)return ul(je.create(U,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(U){if(0!==U.length)return U.map(H=>{return{field:Hu((X=H).field),direction:Nf(X.dir)};var X})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const g=pd(r,e.limit);var x,U;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function Rf(r){let e=Pg(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ut(1===s);const X=t.from[0];X.allDescendants?a=X.collectionId:e=e.child(X.collectionId)}let c=[];t.where&&(c=function(X){const me=jy(X);return me instanceof je&&In(me)?me.getFilters():[me]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(X=>{return new z(Yl((me=X).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let x=null;t.limit&&(x=function(X){let me;return me="object"==typeof X?X.value:X,_a(me)?null:me}(t.limit));let U=null;var X;t.startAt&&(U=new ba((X=t.startAt).values||[],!!X.before));let H=null;return t.endAt&&(H=function(X){return new ba(X.values||[],!X.before)}(t.endAt)),lh(e,a,g,c,x,"F",U,H)}function jy(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yl(e.unaryFilter.field);return ve.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Yl(e.unaryFilter.field);return ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yl(e.unaryFilter.field);return ve.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yl(e.unaryFilter.field);return ve.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(r):void 0!==r.fieldFilter?ve.create(Yl((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return je.create(e.compositeFilter.filters.map(t=>jy(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(r):Dt();var e}function Nf(r){return Fy[r]}function zy(r){return Mg[r]}function kf(r){return ph[r]}function Hu(r){return{fieldPath:r.canonicalString()}}function Yl(r){return Rr.fromServerFormat(r.fieldPath)}function ul(r){return r instanceof ve?function(e){if("=="===e.op){if($u(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NAN"}};if(Ka(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($u(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NAN"}};if(Ka(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(e.field),op:zy(e.op),value:e.value}}}(r):r instanceof je?function(e){const t=e.getFilters().map(s=>ul(s));return 1===t.length?t[0]:{compositeFilter:{op:kf(e.op),filters:t}}}(r):Dt()}function Hy(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vh(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class ru{constructor(e,t,s,a,c=xt.min(),g=xt.min(),x=cs.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=x,this.expectedCount=U}withSequenceNumber(e){return new ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ng{constructor(e){this.le=e}}function md(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:gd(a=r.le,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Pc(a,c.version.toTimestamp()),createTime:Pc(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ll(e.version)};else{if(!e.isUnknownDocument())return Dt();s.unknownDocument={path:t.path.toArray(),version:ll(e.version)}}var a,c;return s}function Pu(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ll(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(r){const e=new Pr(r.seconds,r.nanoseconds);return xt.fromTimestamp(e)}function Ql(r,e){const t=(e.baseMutations||[]).map(c=>mh(r.le,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>mh(r.le,c)),a=Pr.fromMillis(e.localWriteTimeMs);return new wg(e.batchId,a,t,s)}function yd(r){const e=Wu(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Wu(r.lastLimboFreeSnapshotVersion):xt.min();let s;var a;return void 0!==r.query.documents?(Ut(1===(a=r.query).documents.length),s=J(ol(Pg(a.documents[0])))):s=J(Rf(r.query)),new ru(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,cs.fromBase64String(r.resumeToken))}function Ff(r,e){const t=ll(e.snapshotVersion),s=ll(e.lastLimboFreeSnapshotVersion);let a;a=sl(e.target)?Og(r.le,e.target):yh(r.le,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function cl(r){const e=Rf({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?rt(e,e.limit,"L"):e}function Uf(r,e){return new Ig(e.largestBatchId,mh(r.le,e.overlayMutation))}function kg(r,e){const t=e.path.lastSegment();return[r,ci(e.path.popLast()),t]}function Lg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:ll(s.readTime),documentKey:ci(s.documentKey.path),largestBatchId:s.largestBatchId}}class Bf{getBundleMetadata(e,t){return Fg(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Wu(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Fg(e).put({bundleId:(s=t).id,createTime:ll(Vs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Vf(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:cl(a.bundledQuery),readTime:Wu(a.readTime)};var a})}saveNamedQuery(e,t){return Vf(e).put({name:(s=t).name,readTime:ll(Vs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Fg(r){return wi(r,"bundles")}function Vf(r){return wi(r,"namedQueries")}class _h{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new _h(e,t.uid||"")}getOverlay(e,t){return kc(e).get(kg(this.userId,t)).next(s=>s?Uf(this.serializer,s):null)}getOverlays(e,t){const s=la();return Fe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,g)=>{const x=new Ig(t,g);a.push(this.de(e,x))}),Fe.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(g=>a.add(ci(g.getCollectionPath())));const c=[];return a.forEach(g=>{const x=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);c.push(kc(e).J("collectionPathOverlayIndex",x))}),Fe.waitFor(c)}getOverlaysForCollection(e,t,s){const a=la(),c=ci(t),g=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return kc(e).j("collectionPathOverlayIndex",g).next(x=>{for(const U of x){const H=Uf(this.serializer,U);a.set(H.getKey(),H)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=la();let g;const x=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kc(e).X({index:"collectionGroupOverlayIndex",range:x},(U,H,X)=>{const me=Uf(this.serializer,H);c.size()<a||me.largestBatchId===g?(c.set(me.getKey(),me),g=me.largestBatchId):X.done()}).next(()=>c)}de(e,t){return kc(e).put(function(s,a,c){const[g,x,U]=kg(a,c.mutation.key);return{userId:a,collectionPath:x,documentId:U,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Nc(s.le,c.mutation)}}(this.serializer,this.userId,t))}}function kc(r){return wi(r,"documentOverlays")}class Lc{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Li(e.integerValue));else if("doubleValue"in e){const s=Li(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),wa(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ua(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Za(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Dt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),Rt.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Wy(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Fc(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Wy(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}Lc.be=new Lc;class Gy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Se(s.value),s=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.xe(s.value),s=t.next();this.Ne()}ke(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Se(s);else if(s<2048)this.Se(960|s>>>6),this.Se(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Se(480|s>>>12),this.Se(128|63&s>>>6),this.Se(128|63&s);else{const a=t.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}this.De()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.xe(s);else if(s<2048)this.xe(960|s>>>6),this.xe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.xe(480|s>>>12),this.xe(128|63&s>>>6),this.xe(128|63&s);else{const a=t.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}this.Ne()}Oe(e){const t=this.$e(e),s=Fc(t);this.Fe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Be(e){const t=this.$e(e),s=Fc(t);this.Fe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Uc{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class vd{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class _d{constructor(){this.Qe=new Gy,this.je=new Uc(this.Qe),this.ze=new vd(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class dl{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,s)}}function hl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Ug(r.arrayValue,e.arrayValue),0!==t?t:(t=Ug(r.directionalValue,e.directionalValue),0!==t?t:Rt.comparator(r.documentKey,e.documentKey)))}function Ug(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Ky{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const s=t;s.isInequality()?this.Xe=s:this.Ye.push(s)}}Ze(e){Ut(e.collectionGroup===this.collectionId);const t=ma(e);if(void 0!==t&&!this.tn(t))return!1;const s=ya(e);let a=0,c=0;for(;a<s.length&&this.tn(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Xe){const g=s[a];if(!this.en(this.Xe,g)||!this.nn(this.Je[c++],g))return!1;++a}for(;a<s.length;++a)if(c>=this.Je.length||!this.nn(this.Je[c++],s[a]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function $f(r){var e,t;if(Ut(r instanceof ve||r instanceof je),r instanceof ve){if(r instanceof Hl){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>ve.create(r.field,"==",c)))||[];return je.create(a,"or")}return r}const s=r.filters.map(a=>$f(a));return je.create(s,r.op)}function Bg(r){if(0===r.getFilters().length)return[];const e=Id($f(r));return Ut(Vg(e)),wd(e)||Ed(e)?[e]:e.getFilters()}function wd(r){return r instanceof ve}function Ed(r){return r instanceof je&&In(r)}function Vg(r){return wd(r)||Ed(r)||function(e){if(e instanceof je&&Kt(e)){for(const t of e.getFilters())if(!wd(t)&&!Ed(t))return!1;return!0}return!1}(r)}function Id(r){if(Ut(r instanceof ve||r instanceof je),r instanceof ve)return r;if(1===r.filters.length)return Id(r.filters[0]);const e=r.filters.map(s=>Id(s));let t=je.create(e,r.op);return t=wh(t),Vg(t)?t:(Ut(t instanceof je),Ut(Xt(t)),Ut(t.filters.length>1),t.filters.reduce((s,a)=>Xl(s,a)))}function Xl(r,e){let t;return Ut(r instanceof ve||r instanceof je),Ut(e instanceof ve||e instanceof je),t=r instanceof ve?e instanceof ve?je.create([r,e],"and"):$g(r,e):e instanceof ve?$g(e,r):function(s,a){if(Ut(s.filters.length>0&&a.filters.length>0),Xt(s)&&Xt(a))return Is(s,a.getFilters());const c=Kt(s)?s:a,g=Kt(s)?a:s,x=c.filters.map(U=>Xl(U,g));return je.create(x,"or")}(r,e),wh(t)}function $g(r,e){if(Xt(e))return Is(e,r.getFilters());{const t=e.filters.map(s=>Xl(r,s));return je.create(t,"or")}}function wh(r){if(Ut(r instanceof ve||r instanceof je),r instanceof ve)return r;const e=r.getFilters();if(1===e.length)return wh(e[0]);if(Yn(r))return r;const t=e.map(a=>wh(a)),s=[];return t.forEach(a=>{a instanceof ve?s.push(a):a instanceof je&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:je.create(s,r.op)}class qy{constructor(){this.sn=new jf}addToCollectionParentIndex(e,t){return this.sn.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getIndexType(e,t){return Fe.resolve(0)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,t){return Fe.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return Fe.resolve(_s.min())}updateCollectionGroup(e,t,s){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class jf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new fi(Pn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new fi(Pn.comparator)).toArray()}}const Eh=new Uint8Array(0);class Zy{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new jf,this.on=new gu(s=>pu(s),(s,a)=>Xa(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const c={collectionId:s,parent:ci(a)};return jg(e).put(c)}return Fe.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ls(t),""],!1,!0);return jg(e).j(a).next(c=>{for(const g of c){if(g.collectionId!==t)break;s.push(ws(g.parent))}return s})}addFieldIndex(e,t){const s=iu(e),a={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var g;delete a.indexId;const c=s.add(a);if(t.indexState){const g=bd(e);return c.next(x=>{g.put(Lg(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=iu(e),a=bd(e),c=Ru(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Ru(e);let a=!0;const c=new Map;return Fe.forEach(this.un(t),g=>this.cn(e,g).next(x=>{a&&(a=!!x),c.set(g,x)})).next(()=>{if(a){let g=mr();const x=[];return Fe.forEach(c,(U,H)=>{var X;Le("IndexedDbIndexManager",`Using index ${X=U,`id=${X.indexId}|cg=${X.collectionGroup}|f=${X.fields.map(Or=>`${Or.fieldPath}:${Or.kind}`).join(",")}`} to execute ${pu(t)}`);const me=function(Or,da){const js=ma(da);if(void 0===js)return null;for(const ts of Wl(Or,js.fieldPath))switch(ts.op){case"array-contains-any":return ts.value.arrayValue.values||[];case"array-contains":return[ts.value]}return null}(H,U),ze=function(Or,da){const js=new Map;for(const ts of ya(da))for(const Fa of Wl(Or,ts.fieldPath))switch(Fa.op){case"==":case"in":js.set(ts.fieldPath.canonicalString(),Fa.value);break;case"not-in":case"!=":return js.set(ts.fieldPath.canonicalString(),Fa.value),Array.from(js.values())}return null}(H,U),ft=function(Or,da){const js=[];let ts=!0;for(const Fa of ya(da)){const Fu=0===Fa.kind?uh(Or,Fa.fieldPath,Or.startAt):mc(Or,Fa.fieldPath,Or.startAt);js.push(Fu.value),ts&&(ts=Fu.inclusive)}return new ba(js,ts)}(H,U),Vt=function(Or,da){const js=[];let ts=!0;for(const Fa of ya(da)){const Fu=0===Fa.kind?mc(Or,Fa.fieldPath,Or.endAt):uh(Or,Fa.fieldPath,Or.endAt);js.push(Fu.value),ts&&(ts=Fu.inclusive)}return new ba(js,ts)}(H,U),on=this.an(U,H,ft),Cn=this.an(U,H,Vt),Ir=this.hn(U,H,ze),ti=this.ln(U.indexId,me,on,ft.inclusive,Cn,Vt.inclusive,Ir);return Fe.forEach(ti,Or=>s.H(Or,t.limit).next(da=>{da.forEach(js=>{const ts=Rt.fromSegments(js.documentKey);g.has(ts)||(g=g.add(ts),x.push(ts))})}))}).next(()=>x)}return Fe.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Bg(je.create(e.filters,"and")).map(s=>il(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,s,a,c,g,x){const U=(null!=t?t.length:1)*Math.max(s.length,c.length),H=U/(null!=t?t.length:1),X=[];for(let me=0;me<U;++me){const ze=t?this.fn(t[me/H]):Eh,ft=this.dn(e,ze,s[me%H],a),Vt=this._n(e,ze,c[me%H],g),on=x.map(Cn=>this.dn(e,ze,Cn,!0));X.push(...this.createRange(ft,Vt,on))}return X}dn(e,t,s,a){const c=new dl(e,Rt.empty(),t,s);return a?c:c.He()}_n(e,t,s,a){const c=new dl(e,Rt.empty(),t,s);return a?c.He():c}cn(e,t){const s=new Ky(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let g=null;for(const x of c)s.Ze(x)&&(!g||x.fields.length>g.fields.length)&&(g=x);return g})}getIndexType(e,t){let s=2;const a=this.un(t);return Fe.forEach(a,c=>this.cn(e,c).next(g=>{g?0!==s&&g.fields.length<function(x){let U=new fi(Rr.comparator),H=!1;for(const X of x.filters)for(const me of X.getFlattenedFilters())me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?H=!0:U=U.add(me.field));for(const X of x.orderBy)X.field.isKeyField()||(U=U.add(X.field));return U.size+(H?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}wn(e,t){const s=new _d;for(const a of ya(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const g=s.We(a.kind);Lc.be._e(c,g)}return s.Ge()}fn(e){const t=new _d;return Lc.be._e(e,t.We(0)),t.Ge()}mn(e,t){const s=new _d;return Lc.be._e(hu(this.databaseId,t),s.We(function(a){const c=ya(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Ge()}hn(e,t,s){if(null===s)return[];let a=[];a.push(new _d);let c=0;for(const g of ya(e)){const x=s[c++];for(const U of a)if(this.gn(t,g.fieldPath)&&Su(x))a=this.yn(a,g,x);else{const H=U.We(g.kind);Lc.be._e(x,H)}}return this.pn(a)}an(e,t,s){return this.hn(e,t,s.position)}pn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Ge();return t}yn(e,t,s){const a=[...e],c=[];for(const g of s.arrayValue.values||[])for(const x of a){const U=new _d;U.seed(x.Ge()),Lc.be._e(g,U.We(t.kind)),c.push(U)}return c}gn(e,t){return!!e.filters.find(s=>s instanceof ve&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=iu(e),a=bd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const g=[];return Fe.forEach(c,x=>a.get([x.indexId,this.uid]).next(U=>{g.push(function(H,X){const me=X?new ki(X.sequenceNumber,new _s(Wu(X.readTime),new Rt(ws(X.documentKey)),X.largestBatchId)):ki.empty(),ze=H.fields.map(([ft,Vt])=>new $a(Rr.fromServerFormat(ft),Vt));return new ks(H.indexId,H.collectionGroup,ze,me)}(x,U))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:mn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=iu(e),c=bd(e);return this.In(e).next(g=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>Fe.forEach(x,U=>c.put(Lg(U.indexId,this.user,g,s)))))}updateIndexEntries(e,t){const s=new Map;return Fe.forEach(t,(a,c)=>{const g=s.get(a.collectionGroup);return(g?Fe.resolve(g):this.getFieldIndexes(e,a.collectionGroup)).next(x=>(s.set(a.collectionGroup,x),Fe.forEach(x,U=>this.Tn(e,a,U).next(H=>{const X=this.En(c,U);return H.isEqual(X)?Fe.resolve():this.An(e,c,U,H,X)}))))})}Rn(e,t,s,a){return Ru(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(s,t.key),documentKey:t.key.path.toArray()})}vn(e,t,s,a){return Ru(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(s,t.key),t.key.path.toArray()])}Tn(e,t,s){const a=Ru(e);let c=new fi(hl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,t)])},(g,x)=>{c=c.add(new dl(s.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>c)}En(e,t){let s=new fi(hl);const a=this.wn(t,e);if(null==a)return s;const c=ma(t);if(null!=c){const g=e.data.field(c.fieldPath);if(Su(g))for(const x of g.arrayValue.values||[])s=s.add(new dl(t.indexId,e.key,this.fn(x),a))}else s=s.add(new dl(t.indexId,e.key,Eh,a));return s}An(e,t,s,a,c){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(x,U,H,X,me){const ze=x.getIterator(),ft=U.getIterator();let Vt=cu(ze),on=cu(ft);for(;Vt||on;){let Cn=!1,Ir=!1;if(Vt&&on){const ti=H(Vt,on);ti<0?Ir=!0:ti>0&&(Cn=!0)}else null!=Vt?Ir=!0:Cn=!0;Cn?(X(on),on=cu(ft)):Ir?(me(Vt),Vt=cu(ze)):(Vt=cu(ze),on=cu(ft))}}(a,c,hl,x=>{g.push(this.Rn(e,t,s,x))},x=>{g.push(this.vn(e,t,s,x))}),Fe.waitFor(g)}In(e){let t=1;return bd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((g,x)=>hl(g,x)).filter((g,x,U)=>!x||0!==hl(g,U[x-1]));const a=[];a.push(e);for(const g of s){const x=hl(g,e),U=hl(g,t);if(0===x)a[0]=e.He();else if(x>0&&U<0)a.push(g),a.push(g.He());else if(U>0)break}a.push(t);const c=[];for(let g=0;g<a.length;g+=2){if(this.Pn(a[g],a[g+1]))return[];c.push(IDBKeyRange.bound([a[g].indexId,this.uid,a[g].arrayValue,a[g].directionalValue,Eh,[]],[a[g+1].indexId,this.uid,a[g+1].arrayValue,a[g+1].directionalValue,Eh,[]]))}return c}Pn(e,t){return hl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zg)}getMinOffset(e,t){return Fe.mapArray(this.un(t),s=>this.cn(e,s).next(a=>a||Dt())).next(zg)}}function jg(r){return wi(r,"collectionParents")}function Ru(r){return wi(r,"indexEntries")}function iu(r){return wi(r,"indexConfiguration")}function bd(r){return wi(r,"indexState")}function zg(r){Ut(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;ja(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new _s(e.readTime,e.documentKey,t)}const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ca{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ca(e,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zf(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],g=IDBKeyRange.only(t.batchId);let x=0;const U=s.X({range:g},(X,me,ze)=>(x++,ze.delete()));c.push(U.next(()=>{Ut(1===x)}));const H=[];for(const X of t.mutations){const me=Ha(e,X.key.path,t.batchId);c.push(a.delete(me)),H.push(X.key)}return Fe.waitFor(c).next(()=>H)}function Hf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Dt();e=r.noDocument}return JSON.stringify(e).length}ca.DEFAULT_COLLECTION_PERCENTILE=10,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ca.DEFAULT=new ca(41943040,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ca.DISABLED=new ca(-1,0,0);class Dd{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.bn={}}static fe(e,t,s,a){Ut(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Dd(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fl(e).X({index:"userMutationsIndex",range:s},(a,c,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Jl(e),g=fl(e);return g.add({}).next(x=>{Ut("number"==typeof x);const U=new wg(x,t,s,a),H=function(ze,ft,Vt){const on=Vt.baseMutations.map(Ir=>Nc(ze.le,Ir)),Cn=Vt.mutations.map(Ir=>Nc(ze.le,Ir));return{userId:ft,batchId:Vt.batchId,localWriteTimeMs:Vt.localWriteTime.toMillis(),baseMutations:on,mutations:Cn}}(this.serializer,this.userId,U),X=[];let me=new fi((ze,ft)=>mn(ze.canonicalString(),ft.canonicalString()));for(const ze of a){const ft=Ha(this.userId,ze.key.path,x);me=me.add(ze.key.path.popLast()),X.push(g.put(H)),X.push(c.put(ft,bu))}return me.forEach(ze=>{X.push(this.indexManager.addToCollectionParentIndex(e,ze))}),e.addOnCommittedListener(()=>{this.bn[x]=U.keys()}),Fe.waitFor(X).next(()=>U)})}lookupMutationBatch(e,t){return fl(e).get(t).next(s=>s?(Ut(s.userId===this.userId),Ql(this.serializer,s)):null)}Vn(e,t){return this.bn[t]?Fe.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.bn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return fl(e).X({index:"userMutationsIndex",range:a},(g,x,U)=>{x.userId===this.userId&&(Ut(x.batchId>=s),c=Ql(this.serializer,x)),U.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,g)=>{s=c.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fl(e).j("userMutationsIndex",t).next(s=>s.map(a=>Ql(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Pa(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Jl(e).X({range:a},(g,x,U)=>{const[H,X,me]=g,ze=ws(X);if(H===this.userId&&t.path.isEqual(ze))return fl(e).get(me).next(ft=>{if(!ft)throw Dt();Ut(ft.userId===this.userId),c.push(Ql(this.serializer,ft))});U.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new fi(mn);const a=[];return t.forEach(c=>{const g=Pa(this.userId,c.path),x=IDBKeyRange.lowerBound(g),U=Jl(e).X({range:x},(H,X,me)=>{const[ze,ft,Vt]=H,on=ws(ft);ze===this.userId&&c.path.isEqual(on)?s=s.add(Vt):me.done()});a.push(U)}),Fe.waitFor(a).next(()=>this.Sn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=Pa(this.userId,s),g=IDBKeyRange.lowerBound(c);let x=new fi(mn);return Jl(e).X({range:g},(U,H,X)=>{const[me,ze,ft]=U,Vt=ws(ze);me===this.userId&&s.isPrefixOf(Vt)?Vt.length===a&&(x=x.add(ft)):X.done()}).next(()=>this.Sn(e,x))}Sn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(fl(e).get(c).next(g=>{if(null===g)throw Dt();Ut(g.userId===this.userId),s.push(Ql(this.serializer,g))}))}),Fe.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return zf(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Fe.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Jl(e).X({range:s},(c,g,x)=>{if(c[0]===this.userId){const U=ws(c[1]);a.push(U)}else x.done()}).next(()=>{Ut(0===a.length)})})}containsKey(e,t){return Wf(e,this.userId,t)}Cn(e){return Hg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wf(r,e,t){const s=Pa(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let g=!1;return Jl(r).X({range:c,Y:!0},(x,U,H)=>{const[X,me,ze]=x;X===e&&me===a&&(g=!0),H.done()}).next(()=>g)}function fl(r){return wi(r,"mutations")}function Jl(r){return wi(r,"documentMutations")}function Hg(r){return wi(r,"mutationQueues")}class ec{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ec(0)}static kn(){return new ec(-1)}}class yu{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const s=new ec(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>xt.fromTimestamp(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Mn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(s=>(s.targetCount+=1,this.Fn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bc(e).delete(t.targetId)).next(()=>this.Mn(e)).next(s=>(Ut(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Bc(e).X((g,x)=>{const U=yd(x);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(a++,c.push(this.removeTargetData(e,U)))}).next(()=>Fe.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Bc(e).X((s,a)=>{const c=yd(a);t(c)})}Mn(e){return Gf(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}On(e,t){return Gf(e).put("targetGlobalKey",t)}$n(e,t){return Bc(e).put(Ff(this.serializer,t))}Fn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=pu(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Bc(e).X({range:a,index:"queryTargetsIndex"},(g,x,U)=>{const H=yd(x);Xa(t,H.target)&&(c=H,U.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=pl(e);return t.forEach(g=>{const x=ci(g.path);a.push(c.put({targetId:s,path:x})),a.push(this.referenceDelegate.addReference(e,s,g))}),Fe.waitFor(a)}removeMatchingKeys(e,t,s){const a=pl(e);return Fe.forEach(t,c=>{const g=ci(c.path);return Fe.waitFor([a.delete([s,g]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=pl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=pl(e);let c=mr();return a.X({range:s,Y:!0},(g,x,U)=>{const H=ws(g[1]),X=new Rt(H);c=c.add(X)}).next(()=>c)}containsKey(e,t){const s=ci(t.path),a=IDBKeyRange.bound([s],[ls(s)],!1,!0);let c=0;return pl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([g,x],U,H)=>{0!==g&&(c++,H.done())}).next(()=>c>0)}he(e,t){return Bc(e).get(t).next(s=>s?yd(s):null)}}function Bc(r){return wi(r,"targets")}function Gf(r){return wi(r,"targetGlobal")}function pl(r){return wi(r,"targetDocuments")}function Wg([r,e],[t,s]){const a=mn(r,t);return 0===a?mn(e,s):a}class Qy{constructor(e){this.Bn=e,this.buffer=new fi(Wg),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Wg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,I.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){oa(s)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ca(s)}yield t.Gn(3e5)}))}}class Kg{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(Ci.ct);const s=new Qy(t);return this.Qn.forEachTarget(e,a=>s.Un(a.sequenceNumber)).next(()=>this.Qn.zn(e,a=>s.Un(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Qn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(Yy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let s,a,c,g,x,U,H;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(me=>(me>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${me}`),a=this.params.maximumSequenceNumbersToCollect):a=me,g=Date.now(),this.nthSequenceNumber(e,a))).next(me=>(s=me,x=Date.now(),this.removeTargets(e,s,t))).next(me=>(c=me,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(me=>(H=Date.now(),Ft()<=ae.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-X}ms\n\tDetermined least recently used ${a} in `+(x-g)+`ms\n\tRemoved ${c} targets in `+(U-x)+`ms\n\tRemoved ${me} documents in `+(H-U)+`ms\nTotal Duration: ${H-X}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:me})))}}class Xy{constructor(e,t){this.db=e,this.garbageCollector=function qg(r,e){return new Kg(r,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Hn(e){let t=0;return this.zn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(s,a)=>t(a))}addReference(e,t,s){return Ih(e,s)}removeReference(e,t,s){return Ih(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Ih(e,t)}Yn(e,t){return function(s,a){let c=!1;return Hg(s).Z(g=>Wf(s,g,a).next(x=>(x&&(c=!0),Fe.resolve(!x)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Jn(e,(g,x)=>{if(x<=t){const U=this.Yn(e,g).next(H=>{if(!H)return c++,s.getEntry(e,g).next(()=>(s.removeEntry(g,xt.min()),pl(e).delete([0,ci(g.path)])))});a.push(U)}}).next(()=>Fe.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Ih(e,t)}Jn(e,t){const s=pl(e);let a,c=Ci.ct;return s.X({index:"documentTargetsIndex"},([g,x],{path:U,sequenceNumber:H})=>{0===g?(c!==Ci.ct&&t(new Rt(ws(a)),c),c=H,a=U):c=Ci.ct}).next(()=>{c!==Ci.ct&&t(new Rt(ws(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ih(r,e){return pl(r).put((s=r.currentSequenceNumber,{targetId:0,path:ci(e.path),sequenceNumber:s}));var s}class vr{constructor(){this.changes=new gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Fe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return tc(e).put(s)}removeEntry(e,t,s){return tc(e).delete(function(a,c){const g=a.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Pu(c),g[g.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Xn(e,s)))}getEntry(e,t){let s=di.newInvalidDocument(t);return tc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(t))},(a,c)=>{s=this.Zn(t,c)}).next(()=>s)}ts(e,t){let s={size:0,document:di.newInvalidDocument(t)};return tc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(t))},(a,c)=>{s={document:this.Zn(t,c),size:Hf(c)}}).next(()=>s)}getEntries(e,t){let s=Ho();return this.es(e,t,(a,c)=>{const g=this.Zn(a,c);s=s.insert(a,g)}).next(()=>s)}ns(e,t){let s=Ho(),a=new zr(Rt.comparator);return this.es(e,t,(c,g)=>{const x=this.Zn(c,g);s=s.insert(c,x),a=a.insert(c,Hf(g))}).next(()=>({documents:s,ss:a}))}es(e,t,s){if(t.isEmpty())return Fe.resolve();let a=new fi(qf);t.forEach(U=>a=a.add(U));const c=IDBKeyRange.bound(Vc(a.first()),Vc(a.last())),g=a.getIterator();let x=g.getNext();return tc(e).X({index:"documentKeyIndex",range:c},(U,H,X)=>{const me=Rt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;x&&qf(x,me)<0;)s(x,null),x=g.getNext();x&&x.isEqual(me)&&(s(x,H),x=g.hasNext()?g.getNext():null),x?X.G(Vc(x)):X.done()}).next(()=>{for(;x;)s(x,null),x=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,g=[c.popLast().toArray(),c.lastSegment(),Pu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],x=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).j(IDBKeyRange.bound(g,x,!0)).next(U=>{let H=Ho();for(const X of U){const me=this.Zn(Rt.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);me.isFoundDocument()&&(sr(t,me)||a.has(me.key))&&(H=H.insert(me.key,me))}return H})}getAllFromCollectionGroup(e,t,s,a){let c=Ho();const g=Xg(t,s),x=Xg(t,_s.max());return tc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,x,!0)},(U,H,X)=>{const me=this.Zn(Rt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);c=c.insert(me.key,me),c.size===a&&X.done()}).next(()=>c)}newChangeBuffer(e){return new Yg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qg(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Xn(e,t){return Qg(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const s=function Lf(r,e){let t;if(e.document)t=Oc(r.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Rt.fromSegments(e.noDocument.path),a=Wu(e.noDocument.readTime);t=di.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const s=Rt.fromSegments(e.unknownDocument.path),a=Wu(e.unknownDocument.version);t=di.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Pr(s[0],s[1]);return xt.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(xt.min()))return s}return di.newInvalidDocument(e)}}function Kf(r){return new Zg(r)}class Yg extends vr{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new gu(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new fi((c,g)=>mn(c.canonicalString(),g.canonicalString()));return this.changes.forEach((c,g)=>{const x=this.os.get(c);if(t.push(this.rs.removeEntry(e,c,x.readTime)),g.isValidDocument()){const U=md(this.rs.serializer,g);a=a.add(c.path.popLast());const H=Hf(U);s+=H-x.size,t.push(this.rs.addEntry(e,c,U))}else if(s-=x.size,this.trackRemovals){const U=md(this.rs.serializer,g.convertToNoDocument(xt.min()));t.push(this.rs.addEntry(e,c,U))}}),a.forEach(c=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.rs.updateMetadata(e,s)),Fe.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(s=>(this.os.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:s,ss:a})=>(a.forEach((c,g)=>{this.os.set(c,{size:g,readTime:s.get(c).readTime})}),s))}}function Qg(r){return wi(r,"remoteDocumentGlobal")}function tc(r){return wi(r,"remoteDocumentsV14")}function Vc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xg(r,e){const t=e.documentKey.path.toArray();return[r,Pu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qf(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=mn(t[c],s[c]),a)return a;return a=mn(t.length,s.length),a||(a=mn(t[t.length-2],s[s.length-2]),a||mn(t[t.length-1],s[s.length-1]))}class Jy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jg{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Tc(s.mutation,a,Po.empty(),Pr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,mr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=mr()){const a=la();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let g=Au();return c.forEach((x,U)=>{g=g.insert(x,U.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,mr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((g,x)=>{t.set(g,x)})})}computeViews(e,t,s,a){let c=Ho();const g=mu(),x=mu();return t.forEach((U,H)=>{const X=s.get(H.key);a.has(H.key)&&(void 0===X||X.mutation instanceof ju)?c=c.insert(H.key,H):void 0!==X?(g.set(H.key,X.mutation.getFieldMask()),Tc(X.mutation,H,X.mutation.getFieldMask(),Pr.now())):g.set(H.key,Po.empty())}),this.recalculateAndSaveOverlays(e,c).next(U=>(U.forEach((H,X)=>g.set(H,X)),t.forEach((H,X)=>{var me;return x.set(H,new Jy(X,null!==(me=g.get(H))&&void 0!==me?me:null))}),x))}recalculateAndSaveOverlays(e,t){const s=mu();let a=new zr((g,x)=>g-x),c=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const x of g)x.keys().forEach(U=>{const H=t.get(U);if(null===H)return;let X=s.get(U)||Po.empty();X=x.applyToLocalView(H,X),s.set(U,X);const me=(a.get(x.batchId)||mr()).add(U);a=a.insert(x.batchId,me)})}).next(()=>{const g=[],x=a.getReverseIterator();for(;x.hasNext();){const U=x.getNext(),H=U.key,X=U.value,me=Gl();X.forEach(ze=>{if(!c.has(ze)){const ft=Tf(t.get(ze),s.get(ze));null!==ft&&me.set(ze,ft),c=c.add(ze)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,me))}return Fe.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Rt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):A(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const g=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Fe.resolve(la());let x=-1,U=c;return g.next(H=>Fe.forEach(H,(X,me)=>(x<me.largestBatchId&&(x=me.largestBatchId),c.get(X)?Fe.resolve():this.remoteDocumentCache.getEntry(e,X).next(ze=>{U=U.insert(X,ze)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,U,H,mr())).next(X=>({batchId:x,changes:_c(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(s=>{let a=Au();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,a).next(g=>Fe.forEach(g,x=>{const U=(H=t,X=x.child(a),new Ja(X,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,X;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(H=>{H.forEach((X,me)=>{c=c.insert(X,me)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((x,U)=>{const H=U.getKey();null===c.get(H)&&(c=c.insert(H,di.newInvalidDocument(H)))});let g=Au();return c.forEach((x,U)=>{const H=a.get(x);void 0!==H&&Tc(H.mutation,U,Po.empty(),Pr.now()),sr(t,U)&&(g=g.insert(x,U))}),g})}}class B_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Fe.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:Vs(s.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:cl(s.bundledQuery),readTime:Vs(s.readTime)}),Fe.resolve();var s}}class em{constructor(){this.overlays=new zr(Rt.comparator),this.hs=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return Fe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Fe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Fe.resolve()}getOverlaysForCollection(e,t,s){const a=la(),c=t.length+1,g=new Rt(t.child("")),x=this.overlays.getIteratorFrom(g);for(;x.hasNext();){const U=x.getNext().value,H=U.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&U.largestBatchId>s&&a.set(U.getKey(),U)}return Fe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new zr((H,X)=>H-X);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let X=c.get(H.largestBatchId);null===X&&(X=la(),c=c.insert(H.largestBatchId,X)),X.set(H.getKey(),H)}}const x=la(),U=c.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((H,X)=>x.set(H,X)),!(x.size()>=a)););return Fe.resolve(x)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const g=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new Ig(t,s));let c=this.hs.get(t);void 0===c&&(c=mr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class bh{constructor(){this.ls=new fi(es.fs),this.ds=new fi(es._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new es(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new es(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new Rt(new Pn([])),s=new es(t,e),a=new es(t,e+1),c=[];return this.ds.forEachInRange([s,a],g=>{this.gs(g),c.push(g.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Rt(new Pn([])),s=new es(t,e),a=new es(t,e+1);let c=mr();return this.ds.forEachInRange([s,a],g=>{c=c.add(g.key)}),c}containsKey(e){const t=new es(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class es{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Rt.comparator(e.key,t.key)||mn(e.Es,t.Es)}static _s(e,t){return mn(e.Es,t.Es)||Rt.comparator(e.key,t.key)}}class ev{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new fi(es.fs)}checkEmpty(e){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const g=new wg(c,t,s,a);this.mutationQueue.push(g);for(const x of a)this.Rs=this.Rs.add(new es(x.key,c)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Fe.resolve(g)}lookupMutationBatch(e,t){return Fe.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Fe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new es(t,0),a=new es(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],g=>{const x=this.vs(g.Es);c.push(x)}),Fe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new fi(mn);return t.forEach(a=>{const c=new es(a,0),g=new es(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,g],x=>{s=s.add(x.Es)})}),Fe.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Rt.isDocumentKey(c)||(c=c.child(""));const g=new es(new Rt(c),0);let x=new fi(mn);return this.Rs.forEachWhile(U=>{const H=U.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(x=x.add(U.Es)),!0)},g),Fe.resolve(this.bs(x))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ut(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Fe.forEach(t.mutations,a=>{const c=new es(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new es(t,0),a=this.Rs.firstAfterOrEqual(s);return Fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Fe.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zf{constructor(e){this.Ss=e,this.docs=new zr(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,g=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:g}),this.size+=g-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Fe.resolve(s?s.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let s=Ho();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():di.newInvalidDocument(a))}),Fe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ho();const g=t.path,x=new Rt(g.child("")),U=this.docs.getIteratorFrom(x);for(;U.hasNext();){const{key:H,value:{document:X}}=U.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||ja(Ao(X),s)<=0||(a.has(X.key)||sr(t,X))&&(c=c.insert(X.key,X.mutableCopy()))}return Fe.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Dt()}Ds(e,t){return Fe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Yf(this)}getSize(e){return Fe.resolve(this.size)}}class Yf extends vr{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Fe.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class tv{constructor(e){this.persistence=e,this.Cs=new gu(t=>pu(t),Xa),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new bh,this.targetCount=0,this.ks=ec.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Fe.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new ec(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.$n(t),Fe.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((g,x)=>{x.sequenceNumber<=t&&null===s.get(x.targetId)&&(this.Cs.delete(g),c.push(this.removeMatchingKeysForTargetId(e,x.targetId)),a++)}),Fe.waitFor(c).next(()=>a)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Fe.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Fe.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(g=>{c.push(a.markPotentiallyOrphaned(e,g))}),Fe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Fe.resolve(s)}containsKey(e,t){return Fe.resolve(this.Ns.containsKey(t))}}class tm{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Ci(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new tv(this),this.indexManager=new qy,this.remoteDocumentCache=new Zf(s=>this.referenceDelegate.Bs(s)),this.serializer=new Ng(t),this.Ls=new B_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new ev(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Le("MemoryPersistence","Starting transaction:",e);const a=new V_(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Fe.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class V_ extends Yo{constructor(e){super(),this.currentSequenceNumber=e}}class Qf{constructor(e){this.persistence=e,this.Gs=new bh,this.Qs=null}static js(e){return new Qf(e)}get zs(){if(this.Qs)return this.Qs;throw Dt()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Fe.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.zs,s=>{const a=Rt.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,xt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Fe.or([()=>Fe.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class nm{constructor(e){this.serializer=e}$(e,t,s,a){const c=new Aa("createOrUpgrade",t);var x;s<1&&a>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iu,{unique:!0}),x.createObjectStore("documentMutations"),nv(e),function(x){x.createObjectStore("remoteDocuments")}(e));let g=Fe.resolve();return s<3&&a>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),nv(e)),g=g.next(()=>function(x){const U=x.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",H)}(c))),s<4&&a>=4&&(0!==s&&(g=g.next(()=>function(x,U){return U.store("mutations").j().next(H=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iu,{unique:!0});const X=U.store("mutations"),me=H.map(ze=>X.put(ze));return Fe.waitFor(me)})}(e,c))),g=g.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(g=g.next(()=>this.Js(c))),s<6&&a>=6&&(g=g.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(c)))),s<7&&a>=7&&(g=g.next(()=>this.Xs(c))),s<8&&a>=8&&(g=g.next(()=>this.Zs(e,c))),s<9&&a>=9&&(g=g.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(g=g.next(()=>this.ti(c))),s<11&&a>=11&&(g=g.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(g=g.next(()=>{!function(x){const U=x.createObjectStore("documentOverlays",{keyPath:Wt});U.createIndex("collectionPathOverlayIndex",tn,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Nr,{unique:!1})}(e)})),s<13&&a>=13&&(g=g.next(()=>function(x){const U=x.createObjectStore("remoteDocumentsV14",{keyPath:lo});U.createIndex("documentKeyIndex",Wa),U.createIndex("collectionGroupIndex",D)}(e)).next(()=>this.ei(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(g=g.next(()=>this.ni(e,c))),s<15&&a>=15&&(g=g.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:q}).createIndex("sequenceNumberIndex",ee,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Ne}).createIndex("documentKeyIndex",mt,{unique:!1})}(e))),g}Ys(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Hf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Js(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Fe.forEach(a,c=>{const g=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",g).next(x=>Fe.forEach(x,U=>{Ut(U.userId===c.userId);const H=Ql(this.serializer,U);return zf(e,c.userId,H).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((g,x)=>{const U=new Pn(g),H=[0,ci(U)];c.push(t.get(H).next(X=>X?Fe.resolve():t.put({targetId:0,path:ci(U),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(c))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:B});const s=t.store("collectionParents"),a=new jf,c=g=>{if(a.add(g)){const x=g.lastSegment(),U=g.popLast();return s.put({collectionId:x,parent:ci(U)})}};return t.store("remoteDocuments").X({Y:!0},(g,x)=>{const U=new Pn(g);return c(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([g,x,U],H)=>{const X=ws(x);return c(X.popLast())}))}ti(e){const t=e.store("targets");return t.X((s,a)=>{const c=yd(a),g=Ff(this.serializer,c);return t.put(g)})}ei(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,g)=>{const x=t.store("remoteDocumentsV14"),U=(H=g,H.document?new Rt(Pn.fromString(H.document.name).popFirst(5)):H.noDocument?Rt.fromSegments(H.noDocument.path):H.unknownDocument?Rt.fromSegments(H.unknownDocument.path):Dt()).path.toArray();var H;const X={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};a.push(x.put(X))}).next(()=>Fe.waitFor(a))}ni(e,t){const s=t.store("mutations"),a=Kf(this.serializer),c=new tm(Qf.js,this.serializer.le);return s.j().next(g=>{const x=new Map;return g.forEach(U=>{var H;let X=null!==(H=x.get(U.userId))&&void 0!==H?H:mr();Ql(this.serializer,U).keys().forEach(me=>X=X.add(me)),x.set(U.userId,X)}),Fe.forEach(x,(U,H)=>{const X=new K(H),me=_h.fe(this.serializer,X),ze=c.getIndexManager(X),ft=Dd.fe(X,this.serializer,ze,c.referenceDelegate);return new Jg(a,ft,me,ze).recalculateAndSaveOverlaysForDocumentKeys(new Mo(t,Ci.ct),U).next()})})}}function nv(r){r.createObjectStore("targetDocuments",{keyPath:_}).createIndex("documentTargetsIndex",R,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",T,{unique:!0}),r.createObjectStore("targetGlobal")}const Xf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gl{constructor(e,t,s,a,c,g,x,U,H,X,me=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.si=c,this.window=g,this.document=x,this.ii=H,this.ri=X,this.oi=me,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=ze=>Promise.resolve(),!gl.D())throw new ht(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xy(this,a),this.fi=t+"main",this.serializer=new Ng(U),this.di=new uo(this.fi,this.oi,new nm(this.serializer)),this.Fs=new yu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kf(this.serializer),this.Ls=new Bf,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===X&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ht(Ze.FAILED_PRECONDITION,Xf);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ci(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var s=(0,I.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,I.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,I.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(oa(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Td(e).get("owner").next(t=>Fe.resolve(this.Ri(t)))}vi(e){return Sd(e).delete(this.clientId)}Pi(){var e=this;return(0,I.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=wi(s,"clientMetadata");return a.j().next(c=>{const g=e.Vi(c,18e5),x=c.filter(U=>-1===g.indexOf(U));return Fe.forEach(x,U=>a.delete(U.clientId)).next(()=>x)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Si(s.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Fe.resolve(!0):Td(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ht(Ze.FAILED_PRECONDITION,Xf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sd(e).j().next(s=>void 0===this.Vi(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,I.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Mo(t,Ci.ct);return e.Ei(s).next(()=>e.vi(s))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(s=>this.bi(s.updateTimeMs,t)&&!this.Di(s.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>Sd(e).j().next(t=>this.Vi(t,18e5).map(s=>s.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Dd.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zy(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return _h.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,s){Le("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(g=this.oi)?xo:14===g?Qo:13===g?Fs:12===g?aa:11===g?ai:void Dt();var g;let x;return this.di.runTransaction(e,a,c,U=>(x=new Mo(U,this.Os?this.Os.next():Ci.ct),"readwrite-primary"===t?this.Ii(x).next(H=>!!H||this.Ti(x)).next(H=>{if(!H)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new ht(Ze.FAILED_PRECONDITION,Vo);return s(x)}).next(H=>this.Ai(x).next(()=>H)):this.Oi(x).next(()=>s(x)))).then(U=>(x.raiseOnCommittedEvent(),U))}Oi(e){return Td(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ht(Ze.FAILED_PRECONDITION,Xf)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Td(e).put("owner",t)}static D(){return uo.D()}Ei(e){const t=Td(e);return t.get("owner").next(s=>this.Ri(s)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fe.resolve())}bi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ht(`Detected an update time that is in the future: ${e} > ${s}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,fe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Le("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ht("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Td(r){return wi(r,"owner")}function Sd(r){return wi(r,"clientMetadata")}function $c(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Jf{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=mr(),a=mr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Jf(e,t.fromCache,s,a)}}class ep{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(S(t))return Fe.resolve(null);let s=J(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=rt(t,null,"F"),s=J(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const g=mr(...c);return this.qi.getDocuments(e,g).next(x=>this.indexManager.getMinOffset(e,s).next(U=>{const H=this.Qi(t,x);return this.ji(t,H,g,U.readTime)?this.Ui(e,rt(t,null,"F")):this.zi(e,H,t,U)}))})))}Ki(e,t,s,a){return S(t)||a.isEqual(xt.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const g=this.Qi(t,c);return this.ji(t,g,s,a)?this.Gi(e,t):(Ft()<=ae.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),On(t)),this.zi(e,g,t,Sa(a,-1)))})}Qi(e,t){let s=new fi(eu(e));return t.forEach((a,c)=>{sr(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return Ft()<=ae.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",On(t)),this.qi.getDocumentsMatchingQuery(e,t,_s.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(g=>{c=c.insert(g.key,g)}),c))}}class rv{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new zr(mn),this.Ji=new gu(c=>pu(c),Xa),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jg(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function rm(r,e,t,s){return new rv(r,e,t,s)}function im(r,e){return tp.apply(this,arguments)}function tp(){return tp=(0,I.Z)(function*(r,e){const t=Pt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const g=[],x=[];let U=mr();for(const H of a){g.push(H.batchId);for(const X of H.mutations)U=U.add(X.key)}for(const H of c){x.push(H.batchId);for(const X of H.mutations)U=U.add(X.key)}return t.localDocuments.getDocuments(s,U).next(H=>({tr:H,removedBatchIds:g,addedBatchIds:x}))})})}),tp.apply(this,arguments)}function np(r){const e=Pt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function rp(r,e,t){let s=mr(),a=mr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let g=Ho();return t.forEach((x,U)=>{const H=c.get(x);U.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(x)),U.isNoDocument()&&U.version.isEqual(xt.min())?(e.removeEntry(x,U.readTime),g=g.insert(x,U)):!H.isValidDocument()||U.version.compareTo(H.version)>0||0===U.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(U),g=g.insert(x,U)):Le("LocalStore","Ignoring outdated watch update for ",x,". Current version:",H.version," Watch version:",U.version)}),{er:g,nr:a}})}function sm(r,e){const t=Pt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ml(r,e){const t=Pt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Fe.resolve(a)):t.Fs.allocateTargetId(s).next(g=>(a=new ru(e,g,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}function Cd(r,e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,I.Z)(function*(r,e,t){const s=Pt(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,g=>s.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!oa(g))throw g;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),Ad.apply(this,arguments)}function Th(r,e,t){const s=Pt(r);let a=xt.min(),c=mr();return s.persistence.runTransaction("Execute query","readonly",g=>function(x,U,H){const X=Pt(x),me=X.Ji.get(H);return void 0!==me?Fe.resolve(X.Hi.get(me)):X.Fs.getTargetData(U,H)}(s,g,J(e)).next(x=>{if(x)return a=x.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(g,x.targetId).next(U=>{c=U})}).next(()=>s.Wi.getDocumentsMatchingQuery(g,e,t?a:xt.min(),t?c:mr())).next(x=>(ip(s,Ro(e),x),{documents:x,sr:c})))}function ov(r,e){const t=Pt(r),s=Pt(t.Fs),a=t.Hi.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.he(c,e).next(g=>g?g.target:null))}function nc(r,e){const t=Pt(r),s=t.Yi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Xi.getAllFromCollectionGroup(a,e,Sa(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(ip(t,e,a),a))}function ip(r,e,t){let s=r.Yi.get(e)||xt.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}function Sh(){return Sh=(0,I.Z)(function*(r,e,t,s){const a=Pt(r);let c=mr(),g=Ho();for(const H of t){const X=e.ir(H.metadata.name);H.document&&(c=c.add(X));const me=e.rr(H);me.setReadTime(e.ur(H.metadata.readTime)),g=g.insert(X,me)}const x=a.Xi.newChangeBuffer({trackRemovals:!0}),U=yield ml(a,(H=s,J(ol(Pn.fromString(`__bundle__/docs/${H}`)))));var H;return a.persistence.runTransaction("Apply bundle documents","readwrite",H=>rp(H,x,g).next(X=>(x.apply(H),X)).next(X=>a.Fs.removeMatchingKeysForTargetId(H,U.targetId).next(()=>a.Fs.addMatchingKeys(H,c,U.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(H,X.er,X.nr)).next(()=>X.er)))}),Sh.apply(this,arguments)}function uv(r,e){return sp.apply(this,arguments)}function sp(){return sp=(0,I.Z)(function*(r,e,t=mr()){const s=yield ml(r,J(cl(e.bundledQuery))),a=Pt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const g=Vs(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return a.Ls.saveNamedQuery(c,e);const x=s.withResumeToken(cs.EMPTY_BYTE_STRING,g);return a.Hi=a.Hi.insert(x.targetId,x),a.Fs.updateTargetData(c,x).next(()=>a.Fs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Fs.addMatchingKeys(c,t,s.targetId)).next(()=>a.Ls.saveNamedQuery(c,e))})}),sp.apply(this,arguments)}function xd(r,e){return`firestore_clients_${r}_${e}`}function rc(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Md(r,e){return`firestore_targets_${r}_${e}`}class yl{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static cr(e,t,s){const a=JSON.parse(s);let c,g="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(c=new ht(a.error.code,a.error.message))),g?new yl(e,t,a.state,c):(Ht("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ic{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static cr(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new ht(s.error.code,s.error.message))),c?new ic(e,s.state,a):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=dd();for(let g=0;a&&g<s.activeTargetIds.length;++g)a=Ls(s.activeTargetIds[g]),c=c.add(s.activeTargetIds[g]);return a?new sc(e,c):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ch{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ch(t.clientId,t.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Pd{constructor(){this.activeTargetIds=dd()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rd{constructor(e,t,s,a,c){this.window=e,this.si=t,this.persistenceKey=s,this.dr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new zr(mn),this.started=!1,this.gr=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.yr=xd(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new Pd),this.Ir=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,I.Z)(function*(){const t=yield e.syncEngine.Mi();for(const a of t){if(a===e.dr)continue;const c=e.getItem(xd(e.persistenceKey,a));if(c){const g=sc.cr(a,c);g&&(e.mr=e.mr.insert(g.clientId,g))}}e.vr();const s=e.storage.getItem(e.Ar);if(s){const a=e.Pr(s);a&&e.br(a)}for(const a of e.gr)e.wr(a);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,s){this.Sr(e,t,s),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Md(this.persistenceKey,e));if(s){const a=ic.cr(e,s);a&&(t=a.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Md(this.persistenceKey,e))}updateQueryState(e,t,s){this.Nr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Dr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Le("SharedClientState","EVENT",s.key,s.newValue),s.key===this.yr)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,I.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ir.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.$r(a,null)}{const a=t.Fr(s.key,s.newValue);if(a)return t.$r(a.clientId,a)}}else if(t.Tr.test(s.key)){if(null!==s.newValue){const a=t.Br(s.key,s.newValue);if(a)return t.Lr(a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.qr(s.key,s.newValue);if(a)return t.Ur(a)}}else if(s.key===t.Ar){if(null!==s.newValue){const a=t.Pr(s.newValue);if(a)return t.br(a)}}else if(s.key===t.pr){const a=function(c){let g=Ci.ct;if(null!=c)try{const x=JSON.parse(c);Ut("number"==typeof x),g=x}catch(x){Ht("SharedClientState","Failed to read sequence number from WebStorage",x)}return g}(s.newValue);a!==Ci.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Kr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Gr(c)))}}else t.gr.push(s)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,s){const a=new yl(this.currentUser,e,t,s),c=rc(this.persistenceKey,this.currentUser,e);this.setItem(c,a.ar())}Dr(e){const t=rc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,s){const a=Md(this.persistenceKey,e),c=new ic(e,t,s);this.setItem(a,c.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const s=this.Or(e);return sc.cr(s,t)}Br(e,t){const s=this.Tr.exec(e),a=Number(s[1]);return yl.cr(new K(void 0!==s[2]?s[2]:null),a,t)}qr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return ic.cr(a,t)}Pr(e){return Ch.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,I.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const s=t?this.mr.insert(e,t):this.mr.remove(e),a=this.Vr(this.mr),c=this.Vr(s),g=[],x=[];return c.forEach(U=>{a.has(U)||g.push(U)}),a.forEach(U=>{c.has(U)||x.push(U)}),this.syncEngine.zr(g,x).then(()=>{this.mr=s})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=dd();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Ah{constructor(){this.Wr=new Pd,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Pd,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class om{Jr(e){}shutdown(){}}class xh{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mh=null;function op(){return null===Mh?Mh=268435456+Math.round(2147483648*Math.random()):Mh++,"0x"+Mh.toString(16)}const am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lv{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Wo="WebChannelConnection";class um extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const g=op(),x=this.Io(e,t);Le("RestConnection",`Sending RPC '${e}' ${g}:`,x,s);const U={};return this.To(U,a,c),this.Eo(e,x,U,s).then(H=>(Le("RestConnection",`Received RPC '${e}' ${g}: `,H),H),H=>{throw Sn("RestConnection",`RPC '${e}' ${g} failed with error: `,H,"url: ",x,"request:",s),H})}Ao(e,t,s,a,c,g){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ge,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${am[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=op();return new Promise((g,x)=>{const U=new V;U.setWithCredentials(!0),U.listenOnce(m.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Zo.NO_ERROR:const X=U.getResponseJson();Le(Wo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),g(X);break;case Zo.TIMEOUT:Le(Wo,`RPC '${e}' ${c} timed out`),x(new ht(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case Zo.HTTP_ERROR:const me=U.getStatus();if(Le(Wo,`RPC '${e}' ${c} failed with status:`,me,"response text:",U.getResponseText()),me>0){let ze=U.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const ft=ze?.error;if(ft&&ft.status&&ft.message){const Vt=function(on){const Cn=on.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(Cn)>=0?Cn:Ze.UNKNOWN}(ft.status);x(new ht(Vt,ft.message))}else x(new ht(Ze.UNKNOWN,"Server responded with status "+U.getStatus()))}else x(new ht(Ze.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Le(Wo,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);Le(Wo,`RPC '${e}' ${c} sending request:`,a),U.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=op(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=vs(),x=sa(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new w({})),this.To(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const H=c.join("");Le(Wo,`Creating RPC '${e}' stream ${a}: ${H}`,U);const X=g.createWebChannel(H,U);let me=!1,ze=!1;const ft=new lv({io:on=>{ze?Le(Wo,`Not sending because RPC '${e}' stream ${a} is closed:`,on):(me||(Le(Wo,`Opening RPC '${e}' stream ${a} transport.`),X.open(),me=!0),Le(Wo,`RPC '${e}' stream ${a} sending:`,on),X.send(on))},ro:()=>X.close()}),Vt=(on,Cn,Ir)=>{on.listen(Cn,ti=>{try{Ir(ti)}catch(Or){setTimeout(()=>{throw Or},0)}})};return Vt(X,O.EventType.OPEN,()=>{ze||Le(Wo,`RPC '${e}' stream ${a} transport opened.`)}),Vt(X,O.EventType.CLOSE,()=>{ze||(ze=!0,Le(Wo,`RPC '${e}' stream ${a} transport closed`),ft.fo())}),Vt(X,O.EventType.ERROR,on=>{ze||(ze=!0,Sn(Wo,`RPC '${e}' stream ${a} transport errored:`,on),ft.fo(new ht(Ze.UNAVAILABLE,"The operation could not be completed")))}),Vt(X,O.EventType.MESSAGE,on=>{var Cn;if(!ze){const Ir=on.data[0];Ut(!!Ir);const Or=Ir.error||(null===(Cn=Ir[0])||void 0===Cn?void 0:Cn.error);if(Or){Le(Wo,`RPC '${e}' stream ${a} received error:`,Or);const da=Or.status;let js=function(Fa){const Fu=Zs[Fa];if(void 0!==Fu)return Tg(Fu)}(da),ts=Or.message;void 0===js&&(js=Ze.INTERNAL,ts="Unknown error status: "+da+" with message "+Or.message),ze=!0,ft.fo(new ht(js,ts)),X.close()}else Le(Wo,`RPC '${e}' stream ${a} received:`,Ir),ft._o(Ir)}}),Vt(x,h.STAT_EVENT,on=>{on.stat===d.PROXY?Le(Wo,`RPC '${e}' stream ${a} detected buffering proxy`):on.stat===d.NOPROXY&&Le(Wo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{ft.lo()},0),ft}}function lm(){return typeof window<"u"?window:null}function Ph(){return typeof document<"u"?document:null}function Go(r){return new Uy(r,!0)}class ap{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class cm{constructor(e,t,s,a,c,g,x,U){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=x,this.listener=U,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ap(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,I.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,I.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,I.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===Ze.RESOURCE_EXHAUSTED?(Ht(t.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===Ze.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new ht(Ze.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,I.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $_ extends cm{constructor(e,t,s,a,c,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,g),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Rg(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:Dt(),a=e.targetChange.targetIds||[],c=function(U,H){return U.useProto3Json?(Ut(void 0===H||"string"==typeof H),cs.fromBase64String(H||"")):(Ut(void 0===H||H instanceof Uint8Array),cs.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),g=e.targetChange.cause,x=g&&function(U){const H=void 0===U.code?Ze.UNKNOWN:Tg(U.code);return new ht(H,U.message||"")}(g);t=new ky(s,a,c,x||null)}else if("documentChange"in e){const s=e.documentChange,a=Mu(r,s.document.name),c=Vs(s.document.updateTime),g=s.document.createTime?Vs(s.document.createTime):xt.min(),x=new Es({mapValue:{fields:s.document.fields}}),U=di.newFoundDocument(a,c,g,x);t=new Mc(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,a=Mu(r,s.document),c=s.readTime?Vs(s.readTime):xt.min(),g=di.newNoDocument(a,c);t=new Mc([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,a=Mu(r,s.document);t=new Mc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Dt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,g=new bg(a,c);t=new Ny(s.targetId,g)}}var U;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return xt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Vs(c.readTime):xt.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=Rc(this.serializer),t.addTarget=function(a,c){let g;const x=c.target;if(g=sl(x)?{documents:Og(a,x)}:{query:yh(a,x)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){g.resumeToken=Bs(a,c.resumeToken);const U=pd(a,c.expectedCount);null!==U&&(g.expectedCount=U)}else if(c.snapshotVersion.compareTo(xt.min())>0){g.readTime=Pc(a,c.snapshotVersion.toTimestamp());const U=pd(a,c.expectedCount);null!==U&&(g.expectedCount=U)}return g}(this.serializer,e);const s=function Of(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=Rc(this.serializer),t.removeTarget=e,this.zo(t)}}class up extends cm{constructor(e,t,s,a,c,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,g),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function U_(r,e){return r&&r.length>0?(Ut(void 0!==e),r.map(t=>function(s,a){let c=Vs(s.updateTime?s.updateTime:a);return c.isEqual(xt.min())&&(c=Vs(a)),new gg(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Vs(e.commitTime);return this.listener.uu(s,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Rc(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Nc(this.serializer,s))};this.zo(t)}}class dm extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new ht(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ht(Ze.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.connection.Ao(e,t,s,c,g,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Ze.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class dv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Ht(t),this.wu=!1):Le("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hm{constructor(e,t,s,a,c){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(x=>{s.enqueueAndForget((0,I.Z)(function*(){var U;_l(g)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,I.Z)(function*(H){const X=Pt(H);X.Au.add(4),yield vl(X),X.Pu.set("Unknown"),X.Au.delete(4),yield Od(X)}),function(H){return U.apply(this,arguments)})(g))}))}),this.Pu=new dv(s,a)}}function Od(r){return cp.apply(this,arguments)}function cp(){return cp=(0,I.Z)(function*(r){if(_l(r))for(const e of r.Ru)yield e(!0)}),cp.apply(this,arguments)}function vl(r){return dp.apply(this,arguments)}function dp(){return dp=(0,I.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),dp.apply(this,arguments)}function Rh(r,e){const t=Pt(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),kd(t)?su(t):Ou(t).Uo()&&hp(t,e))}function Nd(r,e){const t=Pt(r),s=Ou(t);t.Eu.delete(e),s.Uo()&&fm(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():_l(t)&&t.Pu.set("Unknown"))}function hp(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ou(r).nu(e)}function fm(r,e){r.bu.Lt(e),Ou(r).su(e)}function su(r){r.bu=new Ly({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Ou(r).start(),r.Pu.mu()}function kd(r){return _l(r)&&!Ou(r).qo()&&r.Eu.size>0}function _l(r){return 0===Pt(r).Au.size}function pm(r){r.bu=void 0}function gm(r){return fp.apply(this,arguments)}function fp(){return fp=(0,I.Z)(function*(r){r.Eu.forEach((e,t)=>{hp(r,e)})}),fp.apply(this,arguments)}function hv(r,e){return pp.apply(this,arguments)}function pp(){return pp=(0,I.Z)(function*(r,e){pm(r),kd(r)?(r.Pu.pu(e),su(r)):r.Pu.set("Unknown")}),pp.apply(this,arguments)}function gp(r,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,I.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof ky&&2===e.state&&e.cause)try{yield(s=(0,I.Z)(function*(a,c){const g=c.cause;for(const x of c.targetIds)a.Eu.has(x)&&(yield a.remoteSyncer.rejectListen(x,g),a.Eu.delete(x),a.bu.removeTarget(x))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Oh(r,s)}else if(e instanceof Mc?r.bu.Wt(e):e instanceof Ny?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(xt.min()))try{const s=yield np(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const g=a.bu.ue(c);return g.targetChanges.forEach((x,U)=>{if(x.resumeToken.approximateByteSize()>0){const H=a.Eu.get(U);H&&a.Eu.set(U,H.withResumeToken(x.resumeToken,c))}}),g.targetMismatches.forEach((x,U)=>{const H=a.Eu.get(x);if(!H)return;a.Eu.set(x,H.withResumeToken(cs.EMPTY_BYTE_STRING,H.snapshotVersion)),fm(a,x);const X=new ru(H.target,x,U,H.sequenceNumber);hp(a,X)}),a.remoteSyncer.applyRemoteEvent(g)}(r,t))}catch(s){Le("RemoteStore","Failed to raise snapshot:",s),yield Oh(r,s)}var s}),mp.apply(this,arguments)}function Oh(r,e,t){return jc.apply(this,arguments)}function jc(){return jc=(0,I.Z)(function*(r,e,t){if(!oa(e))throw e;r.Au.add(1),yield vl(r),r.Pu.set("Offline"),t||(t=()=>np(r.localStore)),r.asyncQueue.enqueueRetryable((0,I.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield Od(r)}))}),jc.apply(this,arguments)}function Ld(r,e){return e().catch(t=>Oh(r,t,e))}function Gu(r){return mm.apply(this,arguments)}function mm(){return mm=(0,I.Z)(function*(r){const e=Pt(r),t=wl(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;yp(e);)try{const a=yield sm(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,j_(e,a)}catch(a){yield Oh(e,a)}vp(e)&&_p(e)}),mm.apply(this,arguments)}function yp(r){return _l(r)&&r.Tu.length<10}function j_(r,e){r.Tu.push(e);const t=wl(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function vp(r){return _l(r)&&!wl(r).qo()&&r.Tu.length>0}function _p(r){wl(r).start()}function ym(r){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,I.Z)(function*(r){wl(r).au()}),Nh.apply(this,arguments)}function wp(r){return vu.apply(this,arguments)}function vu(){return vu=(0,I.Z)(function*(r){const e=wl(r);for(const t of r.Tu)e.ou(t.mutations)}),vu.apply(this,arguments)}function kh(r,e,t){return zc.apply(this,arguments)}function zc(){return zc=(0,I.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Eg.from(s,e,t);yield Ld(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Gu(r)}),zc.apply(this,arguments)}function Fd(r,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,I.Z)(function*(r,e){var t;e&&wl(r).ru&&(yield(t=(0,I.Z)(function*(s,a){if(Dg(c=a.code)&&c!==Ze.ABORTED){const g=s.Tu.shift();wl(s).Go(),yield Ld(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield Gu(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),vp(r)&&_p(r)}),Ep.apply(this,arguments)}function Ip(r,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,I.Z)(function*(r,e){const t=Pt(r);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const s=_l(t);t.Au.add(3),yield vl(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Od(t)}),Lh.apply(this,arguments)}function bp(r,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,I.Z)(function*(r,e){const t=Pt(r);e?(t.Au.delete(2),yield Od(t)):e||(t.Au.add(2),yield vl(t),t.Pu.set("Unknown"))}),Dp.apply(this,arguments)}function Ou(r){return r.Vu||(r.Vu=function(e,t,s){const a=Pt(e);return a.lu(),new $_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:gm.bind(null,r),co:hv.bind(null,r),eu:gp.bind(null,r)}),r.Ru.push(function(){var e=(0,I.Z)(function*(t){t?(r.Vu.Go(),kd(r)?su(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),pm(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function wl(r){return r.Su||(r.Su=function(e,t,s){const a=Pt(e);return a.lu(),new up(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:ym.bind(null,r),co:Fd.bind(null,r),cu:wp.bind(null,r),uu:kh.bind(null,r)}),r.Ru.push(function(){var e=(0,I.Z)(function*(t){t?(r.Su.Go(),yield Gu(r)):(yield r.Su.stop(),r.Tu.length>0&&(Le("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class vm{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,s,a,c){const g=Date.now()+s,x=new vm(e,t,g,a,c);return x.start(s),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ht(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hc(r,e){if(Ht("AsyncQueue",`${e}: ${r}`),oa(r))return new ht(Ze.UNAVAILABLE,`${e}: ${r}`);throw r}class Wc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Rt.comparator(t.key,s.key):(t,s)=>Rt.comparator(t.key,s.key),this.keyedMap=Au(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new Wc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Wc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _m{constructor(){this.Du=new zr(Rt.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Dt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class Gc{constructor(e,t,s,a,c,g,x,U,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=g,this.syncStateChanged=x,this.excludesMetadataChanges=U,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const g=[];return t.forEach(x=>{g.push({type:0,doc:x})}),new Gc(e,t,Wc.emptySet(t),g,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class fv{constructor(){this.xu=void 0,this.listeners=[]}}class pv{constructor(){this.queries=new gu(e=>ln(e),Bt),this.onlineState="Unknown",this.Nu=new Set}}function Tp(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,I.Z)(function*(r,e){const t=Pt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new fv),a)try{c.xu=yield t.onListen(s)}catch(g){const x=Hc(g,`Initialization of query '${On(e.query)}' failed`);return void e.onError(x)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&Ap(t)}),Fh.apply(this,arguments)}function Ud(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,I.Z)(function*(r,e){const t=Pt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const g=c.listeners.indexOf(e);g>=0&&(c.listeners.splice(g,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Sp.apply(this,arguments)}function Cp(r,e){const t=Pt(r);let s=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const x of g.listeners)x.Mu(a)&&(s=!0);g.xu=a}}s&&Ap(t)}function gv(r,e,t){const s=Pt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ap(r){r.Nu.forEach(e=>{e.next()})}class xp{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Gc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class mv{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class wm{constructor(e){this.serializer=e}ir(e){return Mu(this.serializer,e)}rr(e){return e.metadata.exists?Oc(this.serializer,e.document,!1):di.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Vs(e)}}class yv{constructor(e,t,s){this.Qu=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Em(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const s=Pn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,s=new wm(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.ir(a.metadata.name);for(const g of a.metadata.queries){const x=(t.get(g)||mr()).add(c);t.set(g,x)}}return t}complete(){var e=this;return(0,I.Z)(function*(){const t=yield function av(r,e,t,s){return Sh.apply(this,arguments)}(e.localStore,new wm(e.serializer),e.documents,e.Qu.id),s=e.zu(e.documents);for(const a of e.queries)yield uv(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function Em(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Mp{constructor(e){this.key=e}}class Pp{constructor(e){this.key=e}}class Im{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=mr(),this.mutatedKeys=mr(),this.Zu=eu(e),this.tc=new Wc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new _m,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,g=a,x=!1;const U="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((X,me)=>{const ze=a.get(X),ft=sr(this.query,me)?me:null,Vt=!!ze&&this.mutatedKeys.has(ze.key),on=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let Cn=!1;ze&&ft?ze.data.isEqual(ft.data)?Vt!==on&&(s.track({type:3,doc:ft}),Cn=!0):this.ic(ze,ft)||(s.track({type:2,doc:ft}),Cn=!0,(U&&this.Zu(ft,U)>0||H&&this.Zu(ft,H)<0)&&(x=!0)):!ze&&ft?(s.track({type:0,doc:ft}),Cn=!0):ze&&!ft&&(s.track({type:1,doc:ze}),Cn=!0,(U||H)&&(x=!0)),Cn&&(ft?(g=g.add(ft),c=on?c.add(X):c.delete(X)):(g=g.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const X="F"===this.query.limitType?g.last():g.first();g=g.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{tc:g,sc:s,ji:x,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((H,X)=>function(me,ze){const ft=Vt=>{switch(Vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return ft(me)-ft(ze)}(H.type,X.type)||this.Zu(H.doc,X.doc)),this.rc(s);const g=t?this.oc():[],x=0===this.Xu.size&&this.current?1:0,U=x!==this.Yu;return this.Yu=x,0!==c.length||U?{snapshot:new Gc(this.query,e.tc,a,c,e.mutatedKeys,0===x,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:g}:{uc:g}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new _m,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=mr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new Pp(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Mp(s))}),t}ac(e){this.Ju=e.sr,this.Xu=mr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Gc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class z_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bm{constructor(e){this.key=e,this.lc=!1}}class H_{constructor(e,t,s,a,c,g){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=g,this.fc={},this.dc=new gu(x=>ln(x),Bt),this._c=new Map,this.wc=new Set,this.mc=new zr(Rt.comparator),this.gc=new Map,this.yc=new bh,this.Ic={},this.Tc=new Map,this.Ec=ec.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Uh(r,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,I.Z)(function*(r,e){const t=Wh(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const g=yield ml(t.localStore,J(e)),x=t.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,a=yield Op(t,e,s,"current"===x,g.resumeToken),t.isPrimaryClient&&Rh(t.remoteStore,g)}return a}),Rp.apply(this,arguments)}function Op(r,e,t,s,a){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,I.Z)(function*(r,e,t,s,a){r.Rc=(me,ze,ft)=>{return(Vt=(0,I.Z)(function*(on,Cn,Ir,ti){let Or=Cn.view.nc(Ir);Or.ji&&(Or=yield Th(on.localStore,Cn.query,!1).then(({documents:ts})=>Cn.view.nc(ts,Or)));const da=ti&&ti.targetChanges.get(Cn.targetId),js=Cn.view.applyChanges(Or,on.isPrimaryClient,da);return Bh(on,Cn.targetId,js.uc),js.snapshot}),function(on,Cn,Ir,ti){return Vt.apply(this,arguments)})(r,me,ze,ft);var Vt};const c=yield Th(r.localStore,e,!0),g=new Im(e,c.sr),x=g.nc(c.documents),U=Zl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=g.applyChanges(x,r.isPrimaryClient,U);Bh(r,t,H.uc);const X=new z_(e,t,g);return r.dc.set(e,X),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),Bd.apply(this,arguments)}function vv(r,e){return ou.apply(this,arguments)}function ou(){return ou=(0,I.Z)(function*(r,e){const t=Pt(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Bt(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Cd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Nd(t.remoteStore,s.targetId),oc(t,s.targetId)}).catch(Ca))):(oc(t,s.targetId),yield Cd(t.localStore,s.targetId,!0))}),ou.apply(this,arguments)}function Oo(){return Oo=(0,I.Z)(function*(r,e,t){const s=Gh(r);try{const a=yield function(c,g){const x=Pt(c),U=Pr.now(),H=g.reduce((ze,ft)=>ze.add(ft.key),mr());let X,me;return x.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let ft=Ho(),Vt=mr();return x.Xi.getEntries(ze,H).next(on=>{ft=on,ft.forEach((Cn,Ir)=>{Ir.isValidDocument()||(Vt=Vt.add(Cn))})}).next(()=>x.localDocuments.getOverlayedDocuments(ze,ft)).next(on=>{X=on;const Cn=[];for(const Ir of g){const ti=Oy(Ir,X.get(Ir.key).overlayedDocument);null!=ti&&Cn.push(new ju(Ir.key,ti,pc(ti.value.mapValue),Ai.exists(!0)))}return x.mutationQueue.addMutationBatch(ze,U,Cn,g)}).next(on=>{me=on;const Cn=on.applyToLocalDocumentSet(X,Vt);return x.documentOverlayCache.saveOverlays(ze,on.batchId,Cn)})}).then(()=>({batchId:me.batchId,changes:_c(X)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,g,x){let U=c.Ic[c.currentUser.toKey()];U||(U=new zr(mn)),U=U.insert(g,x),c.Ic[c.currentUser.toKey()]=U}(s,a.batchId,t),yield Nu(s,a.changes),yield Gu(s.remoteStore)}catch(a){const c=Hc(a,"Failed to persist write");t.reject(c)}}),Oo.apply(this,arguments)}function El(r,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,I.Z)(function*(r,e){const t=Pt(r);try{const s=yield function sv(r,e){const t=Pt(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const g=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const x=[];e.targetChanges.forEach((X,me)=>{const ze=a.get(me);if(!ze)return;x.push(t.Fs.removeMatchingKeys(c,X.removedDocuments,me).next(()=>t.Fs.addMatchingKeys(c,X.addedDocuments,me)));let ft=ze.withSequenceNumber(c.currentSequenceNumber);var Vt,on,Cn;null!==e.targetMismatches.get(me)?ft=ft.withResumeToken(cs.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):X.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(X.resumeToken,s)),a=a.insert(me,ft),on=ft,Cn=X,(0===(Vt=ze).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-Vt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&x.push(t.Fs.updateTargetData(c,ft))});let U=Ho(),H=mr();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(c,X))}),x.push(rp(c,g,e.documentUpdates).next(X=>{U=X.er,H=X.nr})),!s.isEqual(xt.min())){const X=t.Fs.getLastRemoteSnapshotVersion(c).next(me=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));x.push(X)}return Fe.waitFor(x).next(()=>g.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,U,H)).next(()=>U)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const g=t.gc.get(c);g&&(Ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.lc=!0:a.modifiedDocuments.size>0?Ut(g.lc):a.removedDocuments.size>0&&(Ut(g.lc),g.lc=!1))}),yield Nu(t,s,e)}catch(s){yield Ca(s)}}),Kc.apply(this,arguments)}function ka(r,e,t){const s=Pt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,g)=>{const x=g.view.ku(e);x.snapshot&&a.push(x.snapshot)}),function(c,g){const x=Pt(c);x.onlineState=g;let U=!1;x.queries.forEach((H,X)=>{for(const me of X.listeners)me.ku(g)&&(U=!0)}),U&&Ap(x)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Np(r,e,t){return Il.apply(this,arguments)}function Il(){return Il=(0,I.Z)(function*(r,e,t){const s=Pt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let g=new zr(Rt.comparator);g=g.insert(c,di.newNoDocument(c,xt.min()));const x=mr().add(c),U=new fh(xt.min(),new Map,new zr(mn),g,x);yield El(s,U),s.mc=s.mc.remove(c),s.gc.delete(e),Vh(s)}else yield Cd(s.localStore,e,!1).then(()=>oc(s,e,t)).catch(Ca)}),Il.apply(this,arguments)}function qc(r,e){return bl.apply(this,arguments)}function bl(){return bl=(0,I.Z)(function*(r,e){const t=Pt(r),s=e.batch.batchId;try{const a=yield function iv(r,e){const t=Pt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(g,x,U,H){const X=U.batch,me=X.keys();let ze=Fe.resolve();return me.forEach(ft=>{ze=ze.next(()=>H.getEntry(x,ft)).next(Vt=>{const on=U.docVersions.get(ft);Ut(null!==on),Vt.version.compareTo(on)<0&&(X.applyToRemoteDocument(Vt,U),Vt.isValidDocument()&&(Vt.setReadTime(U.commitVersion),H.addEntry(Vt)))})}),ze.next(()=>g.mutationQueue.removeMutationBatch(x,X))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let x=mr();for(let U=0;U<g.mutationResults.length;++U)g.mutationResults[U].transformResults.length>0&&(x=x.add(g.batch.mutations[U].key));return x}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Cl(t,s,null),Sl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Nu(t,a)}catch(a){yield Ca(a)}}),bl.apply(this,arguments)}function Zc(r,e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,I.Z)(function*(r,e,t){const s=Pt(r);try{const a=yield function(c,g){const x=Pt(c);return x.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let H;return x.mutationQueue.lookupMutationBatch(U,g).next(X=>(Ut(null!==X),H=X.keys(),x.mutationQueue.removeMutationBatch(U,X))).next(()=>x.mutationQueue.performConsistencyCheck(U)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(U,H,g)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,H)).next(()=>x.localDocuments.getDocuments(U,H))})}(s.localStore,e);Cl(s,e,t),Sl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Nu(s,a)}catch(a){yield Ca(a)}}),Dl.apply(this,arguments)}function Tl(){return Tl=(0,I.Z)(function*(r,e){const t=Pt(r);_l(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const g=Pt(c);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>g.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Tc.get(s)||[];a.push(e),t.Tc.set(s,a)}catch(s){const a=Hc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Tl.apply(this,arguments)}function Sl(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function Cl(r,e,t){const s=Pt(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function oc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||kp(r,s)})}function kp(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(Nd(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Vh(r))}function Bh(r,e,t){for(const s of t)s instanceof Mp?(r.yc.addReference(s.key,e),Dm(r,s)):s instanceof Pp?(Le("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||kp(r,s.key)):Dt()}function Dm(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Le("SyncEngine","New document in limbo: "+t),r.wc.add(s),Vh(r))}function Vh(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new Rt(Pn.fromString(e)),s=r.Ec.next();r.gc.set(s,new bm(t)),r.mc=r.mc.insert(t,s),Rh(r.remoteStore,new ru(J(ol(t.path)),s,"TargetPurposeLimboResolution",Ci.ct))}}function Nu(r,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,I.Z)(function*(r,e,t){const s=Pt(r),a=[],c=[],g=[];var x;s.dc.isEmpty()||(s.dc.forEach((x,U)=>{g.push(s.Rc(U,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const X=Jf.Bi(U.targetId,H);c.push(X)}}))}),yield Promise.all(g),s.fc.eu(a),yield(x=(0,I.Z)(function*(U,H){const X=Pt(U);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",me=>Fe.forEach(H,ze=>Fe.forEach(ze.$i,ft=>X.persistence.referenceDelegate.addReference(me,ze.targetId,ft)).next(()=>Fe.forEach(ze.Fi,ft=>X.persistence.referenceDelegate.removeReference(me,ze.targetId,ft)))))}catch(me){if(!oa(me))throw me;Le("LocalStore","Failed to update sequence numbers: "+me)}for(const me of H){const ze=me.targetId;if(!me.fromCache){const ft=X.Hi.get(ze),on=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);X.Hi=X.Hi.insert(ze,on)}}}),function(U,H){return x.apply(this,arguments)})(s.localStore,c))}),$h.apply(this,arguments)}function Tm(r,e){return jh.apply(this,arguments)}function jh(){return jh=(0,I.Z)(function*(r,e){const t=Pt(r);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const s=yield im(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(g=>{g.forEach(x=>{x.reject(new ht(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Nu(t,s.tr)}var a}),jh.apply(this,arguments)}function _v(r,e){const t=Pt(r),s=t.gc.get(e);if(s&&s.lc)return mr().add(s.key);{let a=mr();const c=t._c.get(e);if(!c)return a;for(const g of c){const x=t.dc.get(g);a=a.unionWith(x.view.ec)}return a}}function wv(r,e){return zh.apply(this,arguments)}function zh(){return zh=(0,I.Z)(function*(r,e){const t=Pt(r),s=yield Th(t.localStore,e.query,!0),a=e.view.ac(s);return t.isPrimaryClient&&Bh(t,e.targetId,a.uc),a}),zh.apply(this,arguments)}function Ev(r,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,I.Z)(function*(r,e){const t=Pt(r);return nc(t.localStore,e).then(s=>Nu(t,s))}),Lp.apply(this,arguments)}function Fp(r,e,t,s){return $d.apply(this,arguments)}function $d(){return $d=(0,I.Z)(function*(r,e,t,s){const a=Pt(r),c=yield function(g,x){const U=Pt(g),H=Pt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",X=>H.Vn(X,x).next(me=>me?U.localDocuments.getDocuments(X,me):Fe.resolve(null)))}(a.localStore,e);var x;null!==c?("pending"===t?yield Gu(a.remoteStore):"acknowledged"===t||"rejected"===t?(Cl(a,e,s||null),Sl(a,e),x=e,Pt(Pt(a.localStore).mutationQueue).Dn(x)):Dt(),yield Nu(a,c)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),$d.apply(this,arguments)}function Qc(){return Qc=(0,I.Z)(function*(r,e){const t=Pt(r);if(Wh(t),Gh(t),!0===e&&!0!==t.Ac){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield jd(t,s.toArray());t.Ac=!0,yield bp(t.remoteStore,!0);for(const c of a)Rh(t.remoteStore,c)}else if(!1===e&&!1!==t.Ac){const s=[];let a=Promise.resolve();t._c.forEach((c,g)=>{t.sharedClientState.isLocalQueryTarget(g)?s.push(g):a=a.then(()=>(oc(t,g),Cd(t.localStore,g,!0))),Nd(t.remoteStore,g)}),yield a,yield jd(t,s),function(c){const g=Pt(c);g.gc.forEach((x,U)=>{Nd(g.remoteStore,U)}),g.yc.Is(),g.gc=new Map,g.mc=new zr(Rt.comparator)}(t),t.Ac=!1,yield bp(t.remoteStore,!1)}}),Qc.apply(this,arguments)}function jd(r,e,t){return zd.apply(this,arguments)}function zd(){return zd=(0,I.Z)(function*(r,e,t){const s=Pt(r),a=[],c=[];for(const g of e){let x;const U=s._c.get(g);if(U&&0!==U.length){x=yield ml(s.localStore,J(U[0]));for(const H of U){const X=s.dc.get(H),me=yield wv(s,X);me.snapshot&&c.push(me.snapshot)}}else{const H=yield ov(s.localStore,g);x=yield ml(s.localStore,H),yield Op(s,Sm(H),g,!1,x.resumeToken)}a.push(x)}return s.fc.eu(c),a}),zd.apply(this,arguments)}function Sm(r){return lh(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Up(r){const e=Pt(r);return Pt(Pt(e.localStore).persistence).Mi()}function Bp(r,e,t,s){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,I.Z)(function*(r,e,t,s){const a=Pt(r);if(a.Ac)return void Le("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const g=yield nc(a.localStore,Ro(c[0])),x=fh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,cs.EMPTY_BYTE_STRING);yield Nu(a,g,x);break}case"rejected":yield Cd(a.localStore,e,!0),oc(a,e,s);break;default:Dt()}}),Hh.apply(this,arguments)}function Cm(r,e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,I.Z)(function*(r,e,t){const s=Wh(r);if(s.Ac){for(const a of e){if(s._c.has(a)){Le("SyncEngine","Adding an already active target "+a);continue}const c=yield ov(s.localStore,a),g=yield ml(s.localStore,c);yield Op(s,Sm(c),g.targetId,!1,g.resumeToken),Rh(s.remoteStore,g)}for(const a of t)s._c.has(a)&&(yield Cd(s.localStore,a,!1).then(()=>{Nd(s.remoteStore,a),oc(s,a)}).catch(Ca))}}),Hd.apply(this,arguments)}function Wh(r){const e=Pt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=El.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_v.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Np.bind(null,e),e.fc.eu=Cp.bind(null,e.eventManager),e.fc.vc=gv.bind(null,e.eventManager),e}function Gh(r){const e=Pt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zc.bind(null,e),e}class Xc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,I.Z)(function*(){t.serializer=Go(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rm(this.persistence,new ep,e.initialUser,this.serializer)}createPersistence(e){return new tm(Qf.js,this.serializer)}createSharedClientState(e){return new Ah}terminate(){var e=this;return(0,I.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kh extends Xc{constructor(e,t,s){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,I.Z)(function*(){yield t().call(s,e),yield s.bc.initialize(s,e),yield Gh(s.bc.syncEngine),yield Gu(s.bc.remoteStore),yield s.persistence.pi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return rm(this.persistence,new ep,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Gg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new Hi(t,this.persistence);return new Fl(e.asyncQueue,s)}createPersistence(e){const t=$c(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new gl(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,lm(),Ph(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ah}}class $p extends Kh{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,I.Z)(function*(){yield t().call(s,e);const a=s.bc.syncEngine;s.sharedClientState instanceof Rd&&(s.sharedClientState.syncEngine={Qr:Fp.bind(null,a),jr:Bp.bind(null,a),zr:Cm.bind(null,a),Mi:Up.bind(null,a),Gr:Ev.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.pi(function(){var c=(0,I.Z)(function*(g){yield function Iv(r,e){return Qc.apply(this,arguments)}(s.bc.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=lm();if(!Rd.D(t))throw new ht(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=$c(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class ac{initialize(e,t){var s=this;return(0,I.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>ka(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Tm.bind(null,s.syncEngine),yield bp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pv}createDatastore(e){const t=Go(e.databaseInfo.databaseId),s=new um(e.databaseInfo);return new dm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=x=>ka(this.syncEngine,x,0),g=xh.D()?new xh:new om,new hm(t,s,a,c,g);var t,s,a,c,g}createSyncEngine(e,t){return function(s,a,c,g,x,U,H){const X=new H_(s,a,c,g,x,U);return H&&(X.Ac=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,I.Z)(function*(t){const s=Pt(t);Le("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield vl(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jp(r,e=10240){let t=0;return{read:()=>(0,I.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,I.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dv{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new $r,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(s=>{s&&s.Gu()?this.metadata.resolve(s.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Ku)}`))},s=>this.metadata.reject(s))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,I.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,I.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,I.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const s=e.Cc.decode(t),a=Number(s);isNaN(a)&&e.kc(`length string (${s}) is not valid number`);const c=yield e.Mc(a);return new mv(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,I.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Mc(e){var t=this;return(0,I.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const s=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,I.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Tv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,I.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ht(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,I.Z)(function*(c,g){const x=Pt(c),U=Rc(x.serializer)+"/documents",H={documents:g.map(ft=>gd(x.serializer,ft))},X=yield x.Ao("BatchGetDocuments",U,H,g.length),me=new Map;X.forEach(ft=>{const Vt=function Pf(r,e){return"found"in e?function(t,s){Ut(!!s.found);const a=Mu(t,s.found.name),c=Vs(s.found.updateTime),g=s.found.createTime?Vs(s.found.createTime):xt.min(),x=new Es({mapValue:{fields:s.found.fields}});return di.newFoundDocument(a,c,g,x)}(r,e):"missing"in e?function(t,s){Ut(!!s.missing),Ut(!!s.readTime);const a=Mu(t,s.missing),c=Vs(s.readTime);return di.newNoDocument(a,c)}(r,e):Dt()}(x.serializer,ft);me.set(Vt.key.toString(),Vt)});const ze=[];return g.forEach(ft=>{const Vt=me.get(ft.toString());Ut(!!Vt),ze.push(Vt)}),ze}),function(c,g){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ac(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,I.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Rt.fromPath(a);e.mutations.push(new _g(c,e.precondition(c)))}),yield(s=(0,I.Z)(function*(a,c){const g=Pt(a),x=Rc(g.serializer)+"/documents",U={writes:c.map(H=>Nc(g.serializer,H))};yield g.po("Commit",x,U)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dt();t=xt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ht(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?Ai.exists(!1):Ai.updateTime(t):Ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new ht(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(t)}return Ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Am{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Fc=s.maxAttempts,this.Lo=new ap(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,I.Z)(function*(){const t=new Tv(e.datastore),s=e.Lc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.qc(c)}))}).catch(a=>{e.qc(a)})}))}Lc(e){try{const t=this.updateFunction(e);return!_a(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Dg(t)}return!1}}class zp{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=K.UNAUTHENTICATED,this.clientId=Er.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,I.Z)(function*(x){Le("FirestoreClient","Received user=",x.uid),yield c.authCredentialListener(x),c.user=x});return function(x){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Le("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,I.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ht(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Hc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Wd(r,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,I.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,I.Z)(function*(c){s.isEqual(c)||(yield im(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Zh.apply(this,arguments)}function Yh(r,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,I.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Xh(r);Le("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Ip(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Ip(e.remoteStore,c)),r._onlineComponents=e}),Qh.apply(this,arguments)}function Hp(r){return"FirebaseError"===r.name?r.code===Ze.FAILED_PRECONDITION||r.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Xh(r){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,I.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Hp(t))throw t;Sn("Error using user provided cache. Falling back to memory cache: "+t),yield Wd(r,new Xc)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield Wd(r,new Xc);return r._offlineComponents}),Jh.apply(this,arguments)}function Gd(r){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,I.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yh(r,r._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield Yh(r,new ac))),r._onlineComponents}),Jc.apply(this,arguments)}function Ku(r){return Xh(r).then(e=>e.persistence)}function ef(r){return Xh(r).then(e=>e.localStore)}function xm(r){return Gd(r).then(e=>e.remoteStore)}function Kd(r){return Gd(r).then(e=>e.syncEngine)}function xl(r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,I.Z)(function*(r){const e=yield Gd(r),t=e.eventManager;return t.onListen=Uh.bind(null,e.syncEngine),t.onUnlisten=vv.bind(null,e.syncEngine),t}),Wp.apply(this,arguments)}function Mm(r,e,t={}){const s=new $r;return r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(a,c,g,x,U){const H=new qh({next:me=>{c.enqueueAndForget(()=>Ud(a,X));const ze=me.docs.has(g);!ze&&me.fromCache?U.reject(new ht(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):ze&&me.fromCache&&x&&"server"===x.source?U.reject(new ht(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(me)},error:me=>U.reject(me)}),X=new xp(ol(g.path),H,{includeMetadataChanges:!0,Uu:!0});return Tp(a,X)}(yield xl(r),r.asyncQueue,e,t,s)})),s.promise}function Kp(r,e,t={}){const s=new $r;return r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(a,c,g,x,U){const H=new qh({next:me=>{c.enqueueAndForget(()=>Ud(a,X)),me.fromCache&&"server"===x.source?U.reject(new ht(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(me)},error:me=>U.reject(me)}),X=new xp(g,H,{includeMetadataChanges:!0,Uu:!0});return Tp(a,X)}(yield xl(r),r.asyncQueue,e,t,s)})),s.promise}const Rm=new Map;function tf(r,e,t){if(!t)throw new ht(Ze.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Om(r,e,t,s){if(!0===e&&!0===s)throw new ht(Ze.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function qp(r){if(!Rt.isDocumentKey(r))throw new ht(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zp(r){if(Rt.isDocumentKey(r))throw new ht(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qu(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Dt()}function Hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qu(r);throw new ht(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Nm(r,e){if(e<=0)throw new ht(Ze.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Yp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ht(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ht(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Om("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ht(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ht(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ks;switch(t.type){case"firstParty":return new Va(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ht(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rm.get(e);t&&(Le("ComponentProvider","Removing Datastore"),Rm.delete(e),t.terminate())}(this),Promise.resolve()}}function Qp(r,e,t,s={}){var a;const c=(r=Hr(r,qd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Sn("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let g,x;if("string"==typeof s.mockUserToken)g=s.mockUserToken,x=K.MOCK_USER;else{g=(0,fe.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new ht(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new K(U)}r._authCredentials=new Ba(new us(g,x))}}class $s{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $s(this.firestore,e,this._key)}}class No{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class au extends No{constructor(e,t,s){super(e,t,ol(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $s(this.firestore,null,new Rt(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function ku(r,e,...t){if(r=(0,fe.m9)(r),tf("collection","path",e),r instanceof qd){const s=Pn.fromString(e,...t);return Zp(s),new au(r,null,s)}{if(!(r instanceof $s||r instanceof au))throw new ht(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pn.fromString(e,...t));return Zp(s),new au(r.firestore,null,s)}}function xv(r,e){if(r=Hr(r,qd),tf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ht(Ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new No(r,null,(t=e,new Ja(Pn.emptyPath(),t)));var t}function km(r,e,...t){if(r=(0,fe.m9)(r),1===arguments.length&&(e=Er.A()),tf("doc","path",e),r instanceof qd){const s=Pn.fromString(e,...t);return qp(s),new $s(r,null,new Rt(s))}{if(!(r instanceof $s||r instanceof au))throw new ht(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pn.fromString(e,...t));return qp(s),new $s(r.firestore,r instanceof au?r.converter:null,new Rt(s))}}function Lu(r,e){return r=(0,fe.m9)(r),e=(0,fe.m9)(e),(r instanceof $s||r instanceof au)&&(e instanceof $s||e instanceof au)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function La(r,e){return r=(0,fe.m9)(r),e=(0,fe.m9)(e),r instanceof No&&e instanceof No&&r.firestore===e.firestore&&Bt(r._query,e._query)&&r.converter===e.converter}class _u{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ap(this,"async_queue_retry"),this.Yc=()=>{const t=Ph();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new $r;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,I.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!oa(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),g}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=vm.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&Dt()}verifyOperationInProgress(){}na(){var e=this;return(0,I.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function nf(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new $r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Mv=-1;class Wi extends qd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new _u,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ed(this),this._firestoreClient.terminate()}}function Pv(r,e){const t="object"==typeof r?r:(0,F.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,F._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,fe.P0)("firestore");c&&Qp(a,...c)}return a}function ds(r){return r._firestoreClient||ed(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ed(r){var e,t,s;const a=r._freezeSettings(),c=(x=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new tl(r._databaseId,x,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,H.useFetchStreams));var x,H;r._firestoreClient=new zp(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Rv(r,e){Xp(r=Hr(r,Wi));const t=ds(r);if(t._uninitializedComponentsProvider)throw new ht(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");Sn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new ac;return Um(t,a,new Kh(a,s.cacheSizeBytes,e?.forceOwnership))}function Fm(r){Xp(r=Hr(r,Wi));const e=ds(r);if(e._uninitializedComponentsProvider)throw new ht(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");Sn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new ac;return Um(e,s,new $p(s,t.cacheSizeBytes))}function Um(r,e,t){const s=new $r;return r.asyncQueue.enqueue((0,I.Z)(function*(){try{yield Wd(r,t),yield Yh(r,e),s.resolve()}catch(a){const c=a;if(!Hp(c))throw c;Sn("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Ov(r){if(r._initialized&&!r._terminated)throw new ht(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $r;return r._queue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{yield(t=(0,I.Z)(function*(s){if(!uo.D())return Promise.resolve();const a=s+"main";yield uo.delete(a)}),function(s){return t.apply(this,arguments)})($c(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Bm(r){return function(e){const t=new $r;return e.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function Yc(r,e){return Tl.apply(this,arguments)}(yield Kd(e),t)})),t.promise}(ds(r=Hr(r,Wi)))}function Vm(r){return function Gp(r){return r.asyncQueue.enqueue((0,I.Z)(function*(){const e=yield Ku(r),t=yield xm(r);return e.setNetworkEnabled(!0),function(s){const a=Pt(s);return a.Au.delete(0),Od(a)}(t)}))}(ds(r=Hr(r,Wi)))}function rf(r){return function W_(r){return r.asyncQueue.enqueue((0,I.Z)(function*(){const e=yield Ku(r),t=yield xm(r);return e.setNetworkEnabled(!1),(s=(0,I.Z)(function*(a){const c=Pt(a);c.Au.add(0),yield vl(c),c.Pu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(ds(r=Hr(r,Wi)))}function $m(r,e){const t=ds(r=Hr(r,Wi)),s=new Lm;return function ho(r,e,t,s){const a=function(c,g){let x;return x="string"==typeof c?xc().encode(c):c,U=function(U,H){if(U instanceof Uint8Array)return jp(U,H);if(U instanceof ArrayBuffer)return jp(new Uint8Array(U),H);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new Dv(U,g);var U}(t,Go(e));r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){!function Vp(r,e,t){const s=Pt(r);var a;(a=(0,I.Z)(function*(c,g,x){try{const U=yield g.getMetadata();if(yield function(ze,ft){const Vt=Pt(ze),on=Vs(ft.createTime);return Vt.persistence.runTransaction("hasNewerBundle","readonly",Cn=>Vt.Ls.getBundleMetadata(Cn,ft.id)).then(Cn=>!!Cn&&Cn.createTime.compareTo(on)>=0)}(c.localStore,U))return yield g.close(),x._completeWith({taskState:"Success",documentsLoaded:(ze=U).totalDocuments,bytesLoaded:ze.totalBytes,totalDocuments:ze.totalDocuments,totalBytes:ze.totalBytes}),Promise.resolve(new Set);x._updateProgress(Em(U));const H=new yv(U,c.localStore,g.serializer);let X=yield g.Pc();for(;X;){const ze=yield H.ju(X);ze&&x._updateProgress(ze),X=yield g.Pc()}const me=yield H.complete();return yield Nu(c,me.Hu,void 0),yield function(ze,ft){const Vt=Pt(ze);return Vt.persistence.runTransaction("Save bundle","readwrite",on=>Vt.Ls.saveBundleMetadata(on,ft))}(c.localStore,U),x._completeWith(me.progress),Promise.resolve(me.Wu)}catch(U){return Sn("SyncEngine",`Loading bundle failed with ${U}`),x._failWith(U),Promise.resolve(new Set)}var ze}),function(c,g,x){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Kd(r),a,s)}))}(t,r._databaseId,e,s),s}function jm(r,e){return function Pm(r,e){return r.asyncQueue.enqueue((0,I.Z)(function*(){return function(t,s){const a=Pt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ls.getNamedQuery(c,s))}(yield ef(r),e)}))}(ds(r=Hr(r,Wi)),e).then(t=>t?new No(r,null,t.query):null)}function Xp(r){if(r._initialized||r._terminated)throw new ht(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(cs.fromBase64String(e))}catch(t){throw new ht(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ht(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._methodName=e}}class Zd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ht(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ht(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const Hm=/^__.*__$/;class Wm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class Gm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Km(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class sf{constructor(e,t,s,a,c,g){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Xd(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Km(this.ua)&&Hm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Go(e)}ga(e,t,s,a=!1){return new sf({ua:e,methodName:t,ma:s,path:Rr.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uc(r){const e=r._freezeSettings(),t=Go(r._databaseId);return new kv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function af(r,e,t,s,a,c={}){const g=r.ga(c.merge||c.mergeFields?2:0,e,t,a);uf("Data must be an object, but it was:",g,s);const x=Ym(s,g);let U,H;if(c.merge)U=new Po(g.fieldMask),H=g.fieldTransforms;else if(c.mergeFields){const X=[];for(const me of c.mergeFields){const ze=td(e,me,t);if(!g.contains(ze))throw new ht(Ze.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);ng(X,ze)||X.push(ze)}U=new Po(X),H=g.fieldTransforms.filter(me=>U.covers(me.field))}else U=null,H=g.fieldTransforms;return new Wm(new Es(x),U,H)}class Yd extends Pl{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function qm(r,e,t){return new sf({ua:3,ma:e.settings.ma,methodName:r._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jp extends Pl{_toFieldTransform(e){return new ql(e.path,new Kl)}isEqual(e){return e instanceof Jp}}class Lv extends Pl{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=qm(this,e,!0),s=this.ya.map(c=>lc(c,t)),a=new xu(s);return new ql(e.path,a)}isEqual(e){return this===e}}class Fv extends Pl{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=qm(this,e,!0),s=this.ya.map(c=>lc(c,t)),a=new tu(s);return new ql(e.path,a)}isEqual(e){return this===e}}class Uv extends Pl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new bc(e.serializer,bf(e.serializer,this.pa));return new ql(e.path,t)}isEqual(e){return this===e}}function eg(r,e,t,s){const a=r.ga(1,e,t);uf("Data must be an object, but it was:",a,s);const c=[],g=Es.empty();Xo(s,(U,H)=>{const X=Qd(e,U,t);H=(0,fe.m9)(H);const me=a.fa(X);if(H instanceof Yd)c.push(X);else{const ze=lc(H,me);null!=ze&&(c.push(X),g.set(X,ze))}});const x=new Po(c);return new Gm(g,x,a.fieldTransforms)}function tg(r,e,t,s,a,c){const g=r.ga(1,e,t),x=[td(e,s,t)],U=[a];if(c.length%2!=0)throw new ht(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<c.length;ze+=2)x.push(td(e,c[ze])),U.push(c[ze+1]);const H=[],X=Es.empty();for(let ze=x.length-1;ze>=0;--ze)if(!ng(H,x[ze])){const ft=x[ze];let Vt=U[ze];Vt=(0,fe.m9)(Vt);const on=g.fa(ft);if(Vt instanceof Yd)H.push(ft);else{const Cn=lc(Vt,on);null!=Cn&&(H.push(ft),X.set(ft,Cn))}}const me=new Po(H);return new Gm(X,me,g.fieldTransforms)}function Zm(r,e,t,s=!1){return lc(t,r.ga(s?4:3,e))}function lc(r,e){if(Qm(r=(0,fe.m9)(r)))return uf("Unsupported field value:",e,r),Ym(r,e);if(r instanceof Pl)return function(t,s){if(!Km(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const g of t){let x=lc(g,s.da(c));null==x&&(x={nullValue:"NULL_VALUE"}),a.push(x),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bf(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Pr.fromDate(t);return{timestampValue:Pc(s.serializer,a)}}if(t instanceof Pr){const a=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pc(s.serializer,a)}}if(t instanceof Zd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zu)return{bytesValue:Bs(s.serializer,t._byteString)};if(t instanceof $s){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${qu(t)}`)}(r,e)}function Ym(r,e){const t={};return Ul(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(r,(s,a)=>{const c=lc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Qm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Pr||r instanceof Zd||r instanceof Zu||r instanceof $s||r instanceof Pl)}function uf(r,e,t){if(!Qm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=qu(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function td(r,e,t){if((e=(0,fe.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return Qd(r,e);throw Xd("Field path arguments must be of type string or ",r,!1,void 0,t)}const Xm=new RegExp("[~\\*/\\[\\]]");function Qd(r,e,t){if(e.search(Xm)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Xd(r,e,t,s,a){const c=s&&!s.isEmpty(),g=void 0!==a;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let U="";return(c||g)&&(U+=" (found",c&&(U+=` in field ${s}`),g&&(U+=` in document ${a}`),U+=")"),new ht(Ze.INVALID_ARGUMENT,x+r+U)}function ng(r,e){return r.some(t=>t.isEqual(e))}class nd{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $s(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jm extends nd{data(){return super.data()}}function Jd(r,e){return"string"==typeof e?Qd(r,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}function rg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new ht(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lf{}class wu extends lf{}function Bv(r,e,...t){let s=[];e instanceof lf&&s.push(e),s=s.concat(t),function(a){const c=a.filter(x=>x instanceof th).length,g=a.filter(x=>x instanceof eh).length;if(c>1||c>0&&g>0)throw new ht(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class eh extends wu{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new eh(e,t,s)}_apply(e){const t=this._parse(e);return og(e._query,t),new No(e.firestore,e.converter,Re(e._query,t))}_parse(e){const t=uc(e.firestore);return function(a,c,g,x,U,H,X){let me;if(U.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new ht(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){sg(X,H);const ze=[];for(const ft of X)ze.push(jv(x,a,ft));me={arrayValue:{values:ze}}}else me=jv(x,a,X)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||sg(X,H),me=Zm(g,"where",X,"in"===H||"not-in"===H);return ve.create(U,H,me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function rd(r,e,t){const s=e,a=Jd("where",r);return eh._create(a,s,t)}class th extends lf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new th(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:je.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const g=a.getFlattenedFilters();for(const x of g)og(c,x),c=Re(c,x)}(e._query,t),new No(e.firestore,e.converter,Re(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cf extends wu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cf(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new ht(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ht(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new z(a,c);return function(x,U){if(null===f(x)){const H=y(x);null!==H&&ny(0,H,U.field)}}(s,g),g}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Ja(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function ty(r,e="asc"){const t=e,s=Jd("orderBy",r);return cf._create(s,t)}class ig extends wu{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new ig(e,t,s)}_apply(e){return new No(e.firestore,e.converter,rt(e._query,this._limit,this._limitType))}}function Qn(r){return Nm("limit",r),ig._create("limit",r,"F")}function Vv(r){return Nm("limitToLast",r),ig._create("limitToLast",r,"L")}class df extends wu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new df(e,t,s)}_apply(e){const t=hs(e,this.type,this._docOrFields,this._inclusive);return new No(e.firestore,e.converter,(a=t,new Ja((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function $v(...r){return df._create("startAt",r,!0)}function id(...r){return df._create("startAfter",r,!1)}class hf extends wu{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new hf(e,t,s)}_apply(e){const t=hs(e,this.type,this._docOrFields,this._inclusive);return new No(e.firestore,e.converter,(a=t,new Ja((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function ff(...r){return hf._create("endBefore",r,!1)}function pf(...r){return hf._create("endAt",r,!0)}function hs(r,e,t,s){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof nd)return function(a,c,g,x,U){if(!x)throw new ht(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const H=[];for(const X of W(a))if(X.field.isKeyField())H.push(hu(c,x.key));else{const me=x.data.field(X.field);if(Vl(me))throw new ht(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+X.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===me){const ze=X.field.canonicalString();throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ze}' (used as the orderBy) does not exist.`)}H.push(me)}return new ba(H,U)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=uc(r.firestore);return function(c,g,x,U,H,X){const me=c.explicitOrderBy;if(H.length>me.length)throw new ht(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ze=[];for(let ft=0;ft<H.length;ft++){const Vt=H[ft];if(me[ft].field.isKeyField()){if("string"!=typeof Vt)throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Vt}`);if(!A(c)&&-1!==Vt.indexOf("/"))throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Vt}' contains a slash.`);const on=c.path.child(Pn.fromString(Vt));if(!Rt.isDocumentKey(on))throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${on}' is not because it contains an odd number of segments.`);const Cn=new Rt(on);ze.push(hu(g,Cn))}else{const on=Zm(x,U,Vt);ze.push(on)}}return new ba(ze,X)}(r._query,r.firestore._databaseId,a,e,t,s)}}function jv(r,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new ht(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A(e)&&-1!==t.indexOf("/"))throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Pn.fromString(t));if(!Rt.isDocumentKey(s))throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hu(r,new Rt(s))}if(t instanceof $s)return hu(r,t._key);throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qu(t)}.`)}function sg(r,e){if(!Array.isArray(r)||0===r.length)throw new ht(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function og(r,e){if(e.isInequality()){const s=y(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=f(r);null!==c&&ny(0,a,c)}const t=function(s,a){for(const c of s)for(const g of c.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ht(Ze.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ny(r,e,t){if(!t.isEqual(e))throw new ht(Ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gf{convertValue(e,t="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Xo(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Zd(Li(e.latitude),Li(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ga(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=Ra(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Pn.fromString(e);Ut(vh(s));const a=new Ea(s.get(1),s.get(3)),c=new Rt(s.popFirst(5));return a.isEqual(t)||Ht(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function nh(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class ry extends gf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,t)}}class cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dc extends nd{constructor(e,t,s,a,c,g){super(e,t,s,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Jd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rl extends dc{data(e={}){return super.data(e)}}class Ol{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new cc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rl(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ht(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Rl(s._firestore,s._userDataWriter,g.doc.key,g.doc,new cc(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const x=new Rl(s._firestore,s._userDataWriter,g.doc.key,g.doc,new cc(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,H=-1;return 0!==g.type&&(U=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),1!==g.type&&(c=c.add(g.doc),H=c.indexOf(g.doc.key)),{type:iy(g.type),doc:x,oldIndex:U,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function sy(r,e){return r instanceof dc&&e instanceof dc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ol&&e instanceof Ol&&r._firestore===e._firestore&&La(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Hv(r){r=Hr(r,$s);const e=Hr(r.firestore,Wi);return Mm(ds(e),r._key).then(t=>cy(e,r,t))}class uu extends gf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,t)}}function rh(r){r=Hr(r,$s);const e=Hr(r.firestore,Wi),t=ds(e),s=new uu(e);return function G_(r,e){const t=new $r;return r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(s=(0,I.Z)(function*(a,c,g){try{const x=yield function(U,H){const X=Pt(U);return X.persistence.runTransaction("read document","readonly",me=>X.localDocuments.getDocument(me,H))}(a,c);x.isFoundDocument()?g.resolve(x):x.isNoDocument()?g.resolve(null):g.reject(new ht(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const U=Hc(x,`Failed to get document '${c} from cache`);g.reject(U)}}),function(a,c,g){return s.apply(this,arguments)})(yield ef(r),e,t);var s})),t.promise}(t,r._key).then(a=>new dc(e,s,r._key,a,new cc(null!==a&&a.hasLocalMutations,!0),r.converter))}function Wv(r){r=Hr(r,$s);const e=Hr(r.firestore,Wi);return Mm(ds(e),r._key,{source:"server"}).then(t=>cy(e,r,t))}function Gv(r){r=Hr(r,No);const e=Hr(r.firestore,Wi),t=ds(e),s=new uu(e);return rg(r._query),Kp(t,r._query).then(a=>new Ol(e,s,r,a))}function Kv(r){r=Hr(r,No);const e=Hr(r.firestore,Wi),t=ds(e),s=new uu(e);return function Sv(r,e){const t=new $r;return r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(s=(0,I.Z)(function*(a,c,g){try{const x=yield Th(a,c,!0),U=new Im(c,x.sr),H=U.nc(x.documents),X=U.applyChanges(H,!1);g.resolve(X.snapshot)}catch(x){const U=Hc(x,`Failed to execute query '${c} against cache`);g.reject(U)}}),function(a,c,g){return s.apply(this,arguments)})(yield ef(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Ol(e,s,r,a))}function oy(r){r=Hr(r,No);const e=Hr(r.firestore,Wi),t=ds(e),s=new uu(e);return Kp(t,r._query,{source:"server"}).then(a=>new Ol(e,s,r,a))}function ay(r,e,t){r=Hr(r,$s);const s=Hr(r.firestore,Wi),a=nh(r.converter,e,t);return ih(s,[af(uc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Ai.none())])}function uy(r,e,t,...s){r=Hr(r,$s);const a=Hr(r.firestore,Wi),c=uc(a);let g;return g="string"==typeof(e=(0,fe.m9)(e))||e instanceof Yu?tg(c,"updateDoc",r._key,e,t,s):eg(c,"updateDoc",r._key,e),ih(a,[g.toMutation(r._key,Ai.exists(!0))])}function qv(r){return ih(Hr(r.firestore,Wi),[new Ac(r._key,Ai.none())])}function ly(r,e){const t=Hr(r.firestore,Wi),s=km(r),a=nh(r.converter,e);return ih(t,[af(uc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,Ai.exists(!1))]).then(()=>s)}function Zv(r,...e){var t,s,a;r=(0,fe.m9)(r);let c={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||nf(e[g])||(c=e[g],g++);const x={includeMetadataChanges:c.includeMetadataChanges};if(nf(e[g])){const me=e[g];e[g]=null===(t=me.next)||void 0===t?void 0:t.bind(me),e[g+1]=null===(s=me.error)||void 0===s?void 0:s.bind(me),e[g+2]=null===(a=me.complete)||void 0===a?void 0:a.bind(me)}let U,H,X;if(r instanceof $s)H=Hr(r.firestore,Wi),X=ol(r._key.path),U={next:me=>{e[g]&&e[g](cy(H,r,me))},error:e[g+1],complete:e[g+2]};else{const me=Hr(r,No);H=Hr(me.firestore,Wi),X=me._query;const ze=new uu(H);U={next:ft=>{e[g]&&e[g](new Ol(H,ze,me,ft))},error:e[g+1],complete:e[g+2]},rg(r._query)}return function(me,ze,ft,Vt){const on=new qh(Vt),Cn=new xp(ze,on,ft);return me.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return Tp(yield xl(me),Cn)})),()=>{on.Sc(),me.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return Ud(yield xl(me),Cn)}))}}(ds(H),X,x,U)}function Yv(r,e){return function Cv(r,e){const t=new qh(e);return r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return s=yield xl(r),a=t,Pt(s).Nu.add(a),void a.next();var s,a})),()=>{t.Sc(),r.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return s=yield xl(r),a=t,void Pt(s).Nu.delete(a);var s,a}))}}(ds(r=Hr(r,Wi)),nf(e)?e:{next:e})}function ih(r,e){return function(t,s){const a=new $r;return t.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function Vd(r,e,t){return Oo.apply(this,arguments)}(yield Kd(t),s,a)})),a.promise}(ds(r),e)}function cy(r,e,t){const s=t.docs.get(e._key),a=new uu(r);return new dc(r,a,e._key,s,new cc(t.hasPendingWrites,t.fromCache),e.converter)}const hy={maxAttempts:5};class fy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=uc(e)}set(e,t,s){this._verifyNotCommitted();const a=Nl(e,this._firestore),c=nh(a.converter,t,s),g=af(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(g.toMutation(a._key,Ai.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Nl(e,this._firestore);let g;return g="string"==typeof(t=(0,fe.m9)(t))||t instanceof Yu?tg(this._dataReader,"WriteBatch.update",c._key,t,s,a):eg(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(g.toMutation(c._key,Ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nl(e,this._firestore);return this._mutations=this._mutations.concat(new Ac(t._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nl(r,e){if((r=(0,fe.m9)(r)).firestore!==e)throw new ht(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class sh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=uc(e)}get(e){const t=Nl(e,this._firestore),s=new ry(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Dt();const c=a[0];if(c.isFoundDocument())return new nd(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new nd(this._firestore,s,t._key,null,t.converter);throw Dt()})}set(e,t,s){const a=Nl(e,this._firestore),c=nh(a.converter,t,s),g=af(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,g),this}update(e,t,s,...a){const c=Nl(e,this._firestore);let g;return g="string"==typeof(t=(0,fe.m9)(t))||t instanceof Yu?tg(this._dataReader,"Transaction.update",c._key,t,s,a):eg(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,g),this}delete(e){const t=Nl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nl(e,this._firestore),s=new uu(this._firestore);return super.get(e).then(a=>new dc(this._firestore,s,t._key,a._document,new cc(!1,!1),t.converter))}}function n_(r,e,t){r=Hr(r,Wi);const s=Object.assign(Object.assign({},hy),t);return function(a){if(a.maxAttempts<1)throw new ht(Ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,g){const x=new $r;return a.asyncQueue.enqueueAndForget((0,I.Z)(function*(){const U=yield function Al(r){return Gd(r).then(e=>e.datastore)}(a);new Am(a.asyncQueue,U,g,c,x).run()})),x.promise}(ds(r),a=>e(new sh(r,a)),s)}function py(){return new Yd("deleteField")}function r_(){return new Jp("serverTimestamp")}function gy(...r){return new Lv("arrayUnion",r)}function i_(...r){return new Fv("arrayRemove",r)}function my(r){return new Uv("increment",r)}!function(r,e=!0){ge=F.SDK_VERSION,(0,F._registerComponent)(new M.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),g=new Wi(new Ji(t.getProvider("auth-internal")),new En(t.getProvider("app-check-internal")),function(x,U){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new ht(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ea(x.options.projectId,U)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(L,"3.11.0",r),(0,F.registerVersion)(L,"3.11.0","esm2017")}()},2090:(Jt,Me,j)=>{"use strict";j.d(Me,{$s:()=>Tn,BH:()=>ut,G6:()=>st,L:()=>ke,LL:()=>Zt,P0:()=>yt,Pz:()=>Je,Sg:()=>Se,UG:()=>It,US:()=>Ce,ZB:()=>Ee,ZR:()=>vn,aH:()=>Ye,b$:()=>Lt,eu:()=>dt,hl:()=>St,jU:()=>an,m9:()=>kr,ne:()=>pn,pd:()=>Vr,q4:()=>He,r3:()=>rr,ru:()=>bt,tV:()=>ie,uI:()=>Ue,vZ:()=>en,w1:()=>We,xO:()=>cr,xb:()=>Kn,z$:()=>pt,zI:()=>Mt,zd:()=>Lr});const ae=function(pe){const ce=[];let Q=0;for(let te=0;te<pe.length;te++){let Z=pe.charCodeAt(te);Z<128?ce[Q++]=Z:Z<2048?(ce[Q++]=Z>>6|192,ce[Q++]=63&Z|128):55296==(64512&Z)&&te+1<pe.length&&56320==(64512&pe.charCodeAt(te+1))?(Z=65536+((1023&Z)<<10)+(1023&pe.charCodeAt(++te)),ce[Q++]=Z>>18|240,ce[Q++]=Z>>12&63|128,ce[Q++]=Z>>6&63|128,ce[Q++]=63&Z|128):(ce[Q++]=Z>>12|224,ce[Q++]=Z>>6&63|128,ce[Q++]=63&Z|128)}return ce},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ce){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let Z=0;Z<pe.length;Z+=3){const _e=pe[Z],se=Z+1<pe.length,ue=se?pe[Z+1]:0,re=Z+2<pe.length,Te=re?pe[Z+2]:0;let nn=(15&ue)<<2|Te>>6,ot=63&Te;re||(ot=64,se||(nn=64)),te.push(Q[_e>>2],Q[(3&_e)<<4|ue>>4],Q[nn],Q[ot])}return te.join("")},encodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(pe):this.encodeByteArray(ae(pe),ce)},decodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(pe):function(pe){const ce=[];let Q=0,te=0;for(;Q<pe.length;){const Z=pe[Q++];if(Z<128)ce[te++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const _e=pe[Q++];ce[te++]=String.fromCharCode((31&Z)<<6|63&_e)}else if(Z>239&&Z<365){const re=((7&Z)<<18|(63&pe[Q++])<<12|(63&pe[Q++])<<6|63&pe[Q++])-65536;ce[te++]=String.fromCharCode(55296+(re>>10)),ce[te++]=String.fromCharCode(56320+(1023&re))}else{const _e=pe[Q++],se=pe[Q++];ce[te++]=String.fromCharCode((15&Z)<<12|(63&_e)<<6|63&se)}}return ce.join("")}(this.decodeStringToByteArray(pe,ce))},decodeStringToByteArray(pe,ce){this.init_();const Q=ce?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let Z=0;Z<pe.length;){const _e=Q[pe.charAt(Z++)],ue=Z<pe.length?Q[pe.charAt(Z)]:0;++Z;const Te=Z<pe.length?Q[pe.charAt(Z)]:64;++Z;const lt=Z<pe.length?Q[pe.charAt(Z)]:64;if(++Z,null==_e||null==ue||null==Te||null==lt)throw new Ie;te.push(_e<<2|ue>>4),64!==Te&&(te.push(ue<<4&240|Te>>2),64!==lt&&te.push(Te<<6&192|lt))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(pe){return function(pe){const ce=ae(pe);return Ce.encodeByteArray(ce,!0)}(pe).replace(/\./g,"")},ie=function(pe){try{return Ce.decodeString(pe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function Ee(pe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ce}for(const Q in ce)!ce.hasOwnProperty(Q)||!Xe(Q)||(pe[Q]=Ee(pe[Q],ce[Q]));return pe}function Xe(pe){return"__proto__"!==pe}const at=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=pe&&ie(pe[1]);return ce&&JSON.parse(ce)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},He=pe=>{var ce,Q;return null===(Q=null===(ce=at())||void 0===ce?void 0:ce.emulatorHosts)||void 0===Q?void 0:Q[pe]},yt=pe=>{const ce=He(pe);if(!ce)return;const Q=ce.lastIndexOf(":");if(Q<=0||Q+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const te=parseInt(ce.substring(Q+1),10);return"["===ce[0]?[ce.substring(1,Q-1),te]:[ce.substring(0,Q),te]},Ye=()=>{var pe;return null===(pe=at())||void 0===pe?void 0:pe.config},Je=pe=>{var ce;return null===(ce=at())||void 0===ce?void 0:ce[`_${pe}`]};class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Q)=>{this.resolve=ce,this.reject=Q})}wrapCallback(ce){return(Q,te)=>{Q?this.reject(Q):this.resolve(te),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Q):ce(Q,te))}}}function Se(pe,ce){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=ce||"demo-project",Z=pe.iat||0,_e=pe.sub||pe.user_id;if(!_e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:Z,exp:Z+3600,auth_time:Z,sub:_e,user_id:_e,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(se)),""].join(".")}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function It(){var pe;const ce=null===(pe=at())||void 0===pe?void 0:pe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function an(){return"object"==typeof self&&self.self===self}function bt(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const pe=pt();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function st(){return!It()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function St(){try{return"object"==typeof indexedDB}catch{return!1}}function dt(){return new Promise((pe,ce)=>{try{let Q=!0;const te="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(te);Z.onsuccess=()=>{Z.result.close(),Q||self.indexedDB.deleteDatabase(te),pe(!0)},Z.onupgradeneeded=()=>{Q=!1},Z.onerror=()=>{var _e;ce((null===(_e=Z.error)||void 0===_e?void 0:_e.message)||"")}}catch(Q){ce(Q)}})}function Mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vn extends Error{constructor(ce,Q,te){super(Q),this.code=ce,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(ce,Q,te){this.service=ce,this.serviceName=Q,this.errors=te}create(ce,...Q){const te=Q[0]||{},Z=`${this.service}/${ce}`,_e=this.errors[ce],se=_e?function Yt(pe,ce){return pe.replace(kt,(Q,te)=>{const Z=ce[te];return null!=Z?String(Z):`<${te}?>`})}(_e,te):"Error";return new vn(Z,`${this.serviceName}: ${se} (${Z}).`,te)}}const kt=/\{\$([^}]+)}/g;function rr(pe,ce){return Object.prototype.hasOwnProperty.call(pe,ce)}function Kn(pe){for(const ce in pe)if(Object.prototype.hasOwnProperty.call(pe,ce))return!1;return!0}function en(pe,ce){if(pe===ce)return!0;const Q=Object.keys(pe),te=Object.keys(ce);for(const Z of Q){if(!te.includes(Z))return!1;const _e=pe[Z],se=ce[Z];if(Bn(_e)&&Bn(se)){if(!en(_e,se))return!1}else if(_e!==se)return!1}for(const Z of te)if(!Q.includes(Z))return!1;return!0}function Bn(pe){return null!==pe&&"object"==typeof pe}function cr(pe){const ce=[];for(const[Q,te]of Object.entries(pe))Array.isArray(te)?te.forEach(Z=>{ce.push(encodeURIComponent(Q)+"="+encodeURIComponent(Z))}):ce.push(encodeURIComponent(Q)+"="+encodeURIComponent(te));return ce.length?"&"+ce.join("&"):""}function Lr(pe){const ce={};return pe.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[Z,_e]=te.split("=");ce[decodeURIComponent(Z)]=decodeURIComponent(_e)}}),ce}function Vr(pe){const ce=pe.indexOf("?");if(!ce)return"";const Q=pe.indexOf("#",ce);return pe.substring(ce,Q>0?Q:void 0)}function pn(pe,ce){const Q=new Gt(pe,ce);return Q.subscribe.bind(Q)}class Gt{constructor(ce,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{ce(this)}).catch(te=>{this.error(te)})}next(ce){this.forEachObserver(Q=>{Q.next(ce)})}error(ce){this.forEachObserver(Q=>{Q.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Q,te){let Z;if(void 0===ce&&void 0===Q&&void 0===te)throw new Error("Missing Observer.");Z=function dr(pe,ce){if("object"!=typeof pe||null===pe)return!1;for(const Q of ce)if(Q in pe&&"function"==typeof pe[Q])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Q,complete:te},void 0===Z.next&&(Z.next=Ar),void 0===Z.error&&(Z.error=Ar),void 0===Z.complete&&(Z.complete=Ar);const _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),_e}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,ce)}sendOne(ce,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Q(this.observers[ce])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ar(){}const yn=1e3,Xn=2,Jn=144e5,$n=.5;function Tn(pe,ce=yn,Q=Xn){const te=ce*Math.pow(Q,pe),Z=Math.round($n*te*(Math.random()-.5)*2);return Math.min(Jn,te+Z)}function kr(pe){return pe&&pe._delegate?pe._delegate:pe}},1225:(Jt,Me,j)=>{"use strict";j.d(Me,{X:()=>dn});var I=j(4322),F=j(5226),M=j.n(F),ae=j(4650),fe=j(4986),Ce=j(9751),Ie=j(8996),de=j(9646),ke=j(4976),ie=j(8675),he=j(4482),Ee=j(5403);function Xe(){return(0,he.e)((Oe,G)=>{let ne,De=!1;Oe.subscribe((0,Ee.x)(G,nt=>{const $t=ne;ne=nt,De&&G.next([$t,nt]),De=!0}))})}var Qe=j(4004),wt=j(5026),Tt=j(4671);function at(Oe,G){return Oe===G}var He=j(9300),yt=j(2011),Ye=j(6895),ut=(j(9568),j(3942)),Se=j(2810),pt=j(2090),Ue=j(4859);function bt(Oe,G){if(void 0===G)return{merge:!1};if(void 0!==G.mergeFields&&void 0!==G.merge)throw new Se.WA("invalid-argument",`Invalid options passed to function ${Oe}(): You cannot specify both "merge" and "mergeFields".`);return G}function Lt(){if(typeof Uint8Array>"u")throw new Se.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Nt(){if(!(0,Se.Me)())throw new Se.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class We{constructor(G){this._delegate=G}static fromBase64String(G){return Nt(),new We(Se.Jj.fromBase64String(G))}static fromUint8Array(G){return Lt(),new We(Se.Jj.fromUint8Array(G))}toBase64(){return Nt(),this._delegate.toBase64()}toUint8Array(){return Lt(),this._delegate.toUint8Array()}isEqual(G){return this._delegate.isEqual(G._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ge(Oe){return function it(Oe,G){if("object"!=typeof Oe||null===Oe)return!1;const ne=Oe;for(const De of G)if(De in ne&&"function"==typeof ne[De])return!0;return!1}(Oe,["next","error","complete"])}class st{enableIndexedDbPersistence(G,ne){return(0,Se.ST)(G._delegate,{forceOwnership:ne})}enableMultiTabIndexedDbPersistence(G){return(0,Se.fH)(G._delegate)}clearIndexedDbPersistence(G){return(0,Se.Fc)(G._delegate)}}class St{constructor(G,ne,De){this._delegate=ne,this._persistenceProvider=De,this.INTERNAL={delete:()=>this.terminate()},G instanceof Se.l7||(this._appCompat=G)}get _databaseId(){return this._delegate._databaseId}settings(G){const ne=this._delegate._getSettings();!G.merge&&ne.host!==G.host&&(0,Se.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),G.merge&&delete(G=Object.assign(Object.assign({},ne),G)).merge,this._delegate._setSettings(G)}useEmulator(G,ne,De={}){(0,Se.at)(this._delegate,G,ne,De)}enableNetwork(){return(0,Se.Ix)(this._delegate)}disableNetwork(){return(0,Se.TF)(this._delegate)}enablePersistence(G){let ne=!1,De=!1;return G&&(ne=!!G.synchronizeTabs,De=!!G.experimentalForceOwningTab,(0,Se.Wi)("synchronizeTabs",ne,"experimentalForceOwningTab",De)),ne?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,De)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Se.Mx)(this._delegate)}onSnapshotsInSync(G){return(0,Se.sc)(this._delegate,G)}get app(){if(!this._appCompat)throw new Se.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(G){try{return new rr(this,(0,Se.hJ)(this._delegate,G))}catch(ne){throw kt(ne,"collection()","Firestore.collection()")}}doc(G){try{return new Yt(this,(0,Se.JU)(this._delegate,G))}catch(ne){throw kt(ne,"doc()","Firestore.doc()")}}collectionGroup(G){try{return new Fn(this,(0,Se.B$)(this._delegate,G))}catch(ne){throw kt(ne,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(G){return(0,Se.i3)(this._delegate,ne=>G(new Et(this,ne)))}batch(){return(0,Se.qY)(this._delegate),new vn(new Se.PU(this._delegate,G=>(0,Se.GL)(this._delegate,G)))}loadBundle(G){return(0,Se.Pb)(this._delegate,G)}namedQuery(G){return(0,Se.L$)(this._delegate,G).then(ne=>ne?new Fn(this,ne):null)}}class dt extends Se.u7{constructor(G){super(),this.firestore=G}convertBytes(G){return new We(new Se.Jj(G))}convertReference(G){const ne=this.convertDocumentKey(G,this.firestore._databaseId);return Yt.forKey(ne,this.firestore,null)}}class Et{constructor(G,ne){this._firestore=G,this._delegate=ne,this._userDataWriter=new dt(G)}get(G){const ne=ir(G);return this._delegate.get(ne).then(De=>new Hn(this._firestore,new Se.xU(this._firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,ne.converter)))}set(G,ne,De){const nt=ir(G);return De?(bt("Transaction.set",De),this._delegate.set(nt,ne,De)):this._delegate.set(nt,ne),this}update(G,ne,De,...nt){const $t=ir(G);return 2===arguments.length?this._delegate.update($t,ne):this._delegate.update($t,ne,De,...nt),this}delete(G){const ne=ir(G);return this._delegate.delete(ne),this}}class vn{constructor(G){this._delegate=G}set(G,ne,De){const nt=ir(G);return De?(bt("WriteBatch.set",De),this._delegate.set(nt,ne,De)):this._delegate.set(nt,ne),this}update(G,ne,De,...nt){const $t=ir(G);return 2===arguments.length?this._delegate.update($t,ne):this._delegate.update($t,ne,De,...nt),this}delete(G){const ne=ir(G);return this._delegate.delete(ne),this}commit(){return this._delegate.commit()}}class Zt{constructor(G,ne,De){this._firestore=G,this._userDataWriter=ne,this._delegate=De}fromFirestore(G,ne){const De=new Se.$q(this._firestore._delegate,this._userDataWriter,G._key,G._document,G.metadata,null);return this._delegate.fromFirestore(new yr(this._firestore,De),ne??{})}toFirestore(G,ne){return ne?this._delegate.toFirestore(G,ne):this._delegate.toFirestore(G)}static getInstance(G,ne){const De=Zt.INSTANCES;let nt=De.get(G);nt||(nt=new WeakMap,De.set(G,nt));let $t=nt.get(ne);return $t||($t=new Zt(G,new dt(G),ne),nt.set(ne,$t)),$t}}Zt.INSTANCES=new WeakMap;class Yt{constructor(G,ne){this.firestore=G,this._delegate=ne,this._userDataWriter=new dt(G)}static forPath(G,ne,De){if(G.length%2!=0)throw new Se.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${G.canonicalString()} has ${G.length}`);return new Yt(ne,new Se.my(ne._delegate,De,new Se.Ky(G)))}static forKey(G,ne,De){return new Yt(ne,new Se.my(ne._delegate,De,G))}get id(){return this._delegate.id}get parent(){return new rr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(G){try{return new rr(this.firestore,(0,Se.hJ)(this._delegate,G))}catch(ne){throw kt(ne,"collection()","DocumentReference.collection()")}}isEqual(G){return(G=(0,pt.m9)(G))instanceof Se.my&&(0,Se.Eo)(this._delegate,G)}set(G,ne){ne=bt("DocumentReference.set",ne);try{return ne?(0,Se.pl)(this._delegate,G,ne):(0,Se.pl)(this._delegate,G)}catch(De){throw kt(De,"setDoc()","DocumentReference.set()")}}update(G,ne,...De){try{return 1===arguments.length?(0,Se.r7)(this._delegate,G):(0,Se.r7)(this._delegate,G,ne,...De)}catch(nt){throw kt(nt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Se.oe)(this._delegate)}onSnapshot(...G){const ne=Dn(G),De=Vn(G,nt=>new Hn(this.firestore,new Se.xU(this.firestore._delegate,this._userDataWriter,nt._key,nt._document,nt.metadata,this._delegate.converter)));return(0,Se.cf)(this._delegate,ne,De)}get(G){let ne;return ne="cache"===G?.source?(0,Se.kl)(this._delegate):"server"===G?.source?(0,Se.Xk)(this._delegate):(0,Se.QT)(this._delegate),ne.then(De=>new Hn(this.firestore,new Se.xU(this.firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,this._delegate.converter)))}withConverter(G){return new Yt(this.firestore,this._delegate.withConverter(G?Zt.getInstance(this.firestore,G):null))}}function kt(Oe,G,ne){return Oe.message=Oe.message.replace(G,ne),Oe}function Dn(Oe){for(const G of Oe)if("object"==typeof G&&!Ge(G))return G;return{}}function Vn(Oe,G){var ne,De;let nt;return nt=Ge(Oe[0])?Oe[0]:Ge(Oe[1])?Oe[1]:"function"==typeof Oe[0]?{next:Oe[0],error:Oe[1],complete:Oe[2]}:{next:Oe[1],error:Oe[2],complete:Oe[3]},{next:$t=>{nt.next&&nt.next(G($t))},error:null===(ne=nt.error)||void 0===ne?void 0:ne.bind(nt),complete:null===(De=nt.complete)||void 0===De?void 0:De.bind(nt)}}class Hn{constructor(G,ne){this._firestore=G,this._delegate=ne}get ref(){return new Yt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(G){return this._delegate.data(G)}get(G,ne){return this._delegate.get(G,ne)}isEqual(G){return(0,Se.qK)(this._delegate,G._delegate)}}class yr extends Hn{data(G){const ne=this._delegate.data(G);return(0,Se.K9)(void 0!==ne,"Document in a QueryDocumentSnapshot should exist"),ne}}class Fn{constructor(G,ne){this.firestore=G,this._delegate=ne,this._userDataWriter=new dt(G)}where(G,ne,De){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.ar)(G,ne,De)))}catch(nt){throw kt(nt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(G,ne){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.Xo)(G,ne)))}catch(De){throw kt(De,/(orderBy|where)\(\)/,"Query.$1()")}}limit(G){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.b9)(G)))}catch(ne){throw kt(ne,"limit()","Query.limit()")}}limitToLast(G){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.vh)(G)))}catch(ne){throw kt(ne,"limitToLast()","Query.limitToLast()")}}startAt(...G){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.e0)(...G)))}catch(ne){throw kt(ne,"startAt()","Query.startAt()")}}startAfter(...G){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.TQ)(...G)))}catch(ne){throw kt(ne,"startAfter()","Query.startAfter()")}}endBefore(...G){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.Lx)(...G)))}catch(ne){throw kt(ne,"endBefore()","Query.endBefore()")}}endAt(...G){try{return new Fn(this.firestore,(0,Se.IO)(this._delegate,(0,Se.Wu)(...G)))}catch(ne){throw kt(ne,"endAt()","Query.endAt()")}}isEqual(G){return(0,Se.iE)(this._delegate,G._delegate)}get(G){let ne;return ne="cache"===G?.source?(0,Se.UQ)(this._delegate):"server"===G?.source?(0,Se.zN)(this._delegate):(0,Se.PL)(this._delegate),ne.then(De=>new zt(this.firestore,new Se.W(this.firestore._delegate,this._userDataWriter,this._delegate,De._snapshot)))}onSnapshot(...G){const ne=Dn(G),De=Vn(G,nt=>new zt(this.firestore,new Se.W(this.firestore._delegate,this._userDataWriter,this._delegate,nt._snapshot)));return(0,Se.cf)(this._delegate,ne,De)}withConverter(G){return new Fn(this.firestore,this._delegate.withConverter(G?Zt.getInstance(this.firestore,G):null))}}class _n{constructor(G,ne){this._firestore=G,this._delegate=ne}get type(){return this._delegate.type}get doc(){return new yr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zt{constructor(G,ne){this._firestore=G,this._delegate=ne}get query(){return new Fn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(G=>new yr(this._firestore,G))}docChanges(G){return this._delegate.docChanges(G).map(ne=>new _n(this._firestore,ne))}forEach(G,ne){this._delegate.forEach(De=>{G.call(ne,new yr(this._firestore,De))})}isEqual(G){return(0,Se.qK)(this._delegate,G._delegate)}}class rr extends Fn{constructor(G,ne){super(G,ne),this.firestore=G,this._delegate=ne}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const G=this._delegate.parent;return G?new Yt(this.firestore,G):null}doc(G){try{return new Yt(this.firestore,void 0===G?(0,Se.JU)(this._delegate):(0,Se.JU)(this._delegate,G))}catch(ne){throw kt(ne,"doc()","CollectionReference.doc()")}}add(G){return(0,Se.ET)(this._delegate,G).then(ne=>new Yt(this.firestore,ne))}isEqual(G){return(0,Se.Eo)(this._delegate,G._delegate)}withConverter(G){return new rr(this.firestore,this._delegate.withConverter(G?Zt.getInstance(this.firestore,G):null))}}function ir(Oe){return(0,Se.Cf)(Oe,Se.my)}class Kn{constructor(...G){this._delegate=new Se.Lz(...G)}static documentId(){return new Kn(Se.Xb.keyField().canonicalString())}isEqual(G){return(G=(0,pt.m9)(G))instanceof Se.Lz&&this._delegate._internalPath.isEqual(G._internalPath)}}class bn{constructor(G){this._delegate=G}static serverTimestamp(){const G=(0,Se.Bt)();return G._methodName="FieldValue.serverTimestamp",new bn(G)}static delete(){const G=(0,Se.AK)();return G._methodName="FieldValue.delete",new bn(G)}static arrayUnion(...G){const ne=(0,Se.vr)(...G);return ne._methodName="FieldValue.arrayUnion",new bn(ne)}static arrayRemove(...G){const ne=(0,Se.Ab)(...G);return ne._methodName="FieldValue.arrayRemove",new bn(ne)}static increment(G){const ne=(0,Se.nP)(G);return ne._methodName="FieldValue.increment",new bn(ne)}isEqual(G){return this._delegate.isEqual(G._delegate)}}const en={Firestore:St,GeoPoint:Se.F8,Timestamp:Se.EK,Blob:We,Transaction:Et,WriteBatch:vn,DocumentReference:Yt,DocumentSnapshot:Hn,Query:Fn,QueryDocumentSnapshot:yr,QuerySnapshot:zt,CollectionReference:rr,FieldPath:Kn,FieldValue:bn,setLogLevel:function Mt(Oe){(0,Se.Ub)(Oe)},CACHE_SIZE_UNLIMITED:Se.IX};!function ar(Oe){(function Bn(Oe,G){Oe.INTERNAL.registerComponent(new Ue.wA("firestore-compat",ne=>{const De=ne.getProvider("app-compat").getImmediate(),nt=ne.getProvider("firestore").getImmediate();return G(De,nt)},"PUBLIC").setServiceProps(Object.assign({},en)))})(Oe,(G,ne)=>new St(G,ne,new st)),Oe.registerVersion("@firebase/firestore-compat","0.3.8")}(ut.Z);var cr=j(7579),Lr=j(6451),Vr=j(5363),un=j(3900),pn=j(6063);class Gt extends cr.x{constructor(G=1/0,ne=1/0,De=pn.l){super(),this._bufferSize=G,this._windowTime=ne,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ne===1/0,this._bufferSize=Math.max(1,G),this._windowTime=Math.max(1,ne)}next(G){const{isStopped:ne,_buffer:De,_infiniteTimeWindow:nt,_timestampProvider:$t,_windowTime:wn}=this;ne||(De.push(G),!nt&&De.push($t.now()+wn)),this._trimBuffer(),super.next(G)}_subscribe(G){this._throwIfClosed(),this._trimBuffer();const ne=this._innerSubscribe(G),{_infiniteTimeWindow:De,_buffer:nt}=this,$t=nt.slice();for(let wn=0;wn<$t.length&&!G.closed;wn+=De?1:2)G.next($t[wn]);return this._checkFinalizedStatuses(G),ne}_trimBuffer(){const{_bufferSize:G,_timestampProvider:ne,_buffer:De,_infiniteTimeWindow:nt}=this,$t=(nt?1:2)*G;if(G<1/0&&$t<De.length&&De.splice(0,De.length-$t),!nt){const wn=ne.now();let Dr=0;for(let er=1;er<De.length&&De[er]<=wn;er+=2)Dr=er;Dr&&De.splice(0,Dr+1)}}}var Ct=j(3099);function dr(Oe,G,ne){let De,nt=!1;return Oe&&"object"==typeof Oe?({bufferSize:De=1/0,windowTime:G=1/0,refCount:nt=!1,scheduler:ne}=Oe):De=Oe??1/0,(0,Ct.B)({connector:()=>new Gt(De,G,ne),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:nt})}var Ar=j(590),ur=j(576);function Fr(Oe,G){return(0,ur.m)(G)?(0,un.w)(()=>Oe,G):(0,un.w)(()=>Oe)}var br=j(9468),hr=j(2313);j(9260);const fn=new ae.OlP("angularfire2.auth.use-emulator"),cn=new ae.OlP("angularfire2.auth.settings"),yn=new ae.OlP("angularfire2.auth.tenant-id"),Xn=new ae.OlP("angularfire2.auth.langugage-code"),Jn=new ae.OlP("angularfire2.auth.use-device-language"),$n=new ae.OlP("angularfire.auth.persistence"),Tn=(Oe,G,ne,De,nt,$t,wn,Dr)=>(0,yt.cc)(`${Oe.name}.auth`,"AngularFireAuth",Oe.name,()=>{const er=G.runOutsideAngular(()=>Oe.auth());if(ne&&er.useEmulator(...ne),De&&(er.tenantId=De),er.languageCode=nt,$t&&er.useDeviceLanguage(),wn)for(const[_r,At]of Object.entries(wn))er.settings[_r]=At;return Dr&&er.setPersistence(Dr),er},[ne,De,nt,$t,wn,Dr]);let xr=(()=>{class Oe{constructor(ne,De,nt,$t,wn,Dr,er,_r,At,xn,Wn,tr){const ui=new cr.x,nr=(0,de.of)(void 0).pipe((0,Vr.Q)(wn.outsideAngular),(0,un.w)(()=>$t.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,Qe.U)(()=>(0,yt.on)(ne,$t,De)),(0,Qe.U)(Wr=>Tn(Wr,$t,Dr,_r,At,xn,er,Wn)),dr({bufferSize:1,refCount:!1}));if((0,Ye.PM)(nt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,de.of)(null);else{nr.pipe((0,Ar.P)()).subscribe();const Zn=nr.pipe((0,un.w)(ye=>ye.getRedirectResult().then(et=>et,()=>null)),ke.iC,dr({bufferSize:1,refCount:!1})),xe=nr.pipe((0,un.w)(ye=>new Ce.y(et=>({unsubscribe:$t.runOutsideAngular(()=>ye.onAuthStateChanged(ct=>et.next(ct),ct=>et.error(ct),()=>et.complete()))})))),we=nr.pipe((0,un.w)(ye=>new Ce.y(et=>({unsubscribe:$t.runOutsideAngular(()=>ye.onIdTokenChanged(ct=>et.next(ct),ct=>et.error(ct),()=>et.complete()))}))));this.authState=Zn.pipe(Fr(xe),(0,br.R)(wn.outsideAngular),(0,Vr.Q)(wn.insideAngular)),this.user=Zn.pipe(Fr(we),(0,br.R)(wn.outsideAngular),(0,Vr.Q)(wn.insideAngular)),this.idToken=this.user.pipe((0,un.w)(ye=>ye?(0,Ie.D)(ye.getIdToken()):(0,de.of)(null))),this.idTokenResult=this.user.pipe((0,un.w)(ye=>ye?(0,Ie.D)(ye.getIdTokenResult()):(0,de.of)(null))),this.credential=(0,Lr.T)(Zn,ui,this.authState.pipe((0,He.h)(ye=>!ye))).pipe((0,Qe.U)(ye=>ye?.user?ye:null),(0,br.R)(wn.outsideAngular),(0,Vr.Q)(wn.insideAngular))}return(0,yt.pX)(this,nr,$t,{spy:{apply:(Wr,Zn,xe)=>{(Wr.startsWith("signIn")||Wr.startsWith("createUser"))&&xe.then(we=>ui.next(we))}}})}}return Oe.\u0275fac=function(ne){return new(ne||Oe)(ae.LFG(yt.Dh),ae.LFG(yt.xv,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(ke.HU),ae.LFG(fn,8),ae.LFG(cn,8),ae.LFG(yn,8),ae.LFG(Xn,8),ae.LFG(Jn,8),ae.LFG($n,8),ae.LFG(hr.nm,8))},Oe.\u0275prov=ae.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"any"}),Oe})();function pe(Oe,G){return function kr(Oe,G=fe.z){return new Ce.y(ne=>{let De;return null!=G?G.schedule(()=>{De=Oe.onSnapshot({includeMetadataChanges:!0},ne)}):De=Oe.onSnapshot({includeMetadataChanges:!0},ne),()=>{De?.()}})}(Oe,G)}function Q(Oe,G){return pe(Oe,G).pipe((0,Qe.U)(ne=>({payload:ne,type:"query"})))}function te(Oe,G){return Q(Oe,G).pipe((0,ie.O)(void 0),Xe(),(0,Qe.U)(([ne,De])=>{const nt=De.payload.docChanges(),$t=nt.map(wn=>({type:wn.type,payload:wn}));return ne&&JSON.stringify(ne.payload.metadata)!==JSON.stringify(De.payload.metadata)&&De.payload.docs.forEach((wn,Dr)=>{const er=nt.find(At=>At.doc.ref.isEqual(wn.ref)),_r=ne?.payload.docs.find(At=>At.ref.isEqual(wn.ref));er&&JSON.stringify(er.doc.metadata)===JSON.stringify(wn.metadata)||!er&&_r&&JSON.stringify(_r.metadata)===JSON.stringify(wn.metadata)||$t.push({type:"modified",payload:{oldIndex:Dr,newIndex:Dr,type:"modified",doc:wn}})}),$t}))}function Z(Oe,G,ne){return te(Oe,ne).pipe((0,wt.R)((De,nt)=>function _e(Oe,G,ne){return G.forEach(De=>{ne.indexOf(De.type)>-1&&(Oe=function ue(Oe,G){switch(G.type){case"added":if(!Oe[G.newIndex]||!Oe[G.newIndex].doc.ref.isEqual(G.doc.ref))return se(Oe,G.newIndex,0,G);break;case"modified":if(null==Oe[G.oldIndex]||Oe[G.oldIndex].doc.ref.isEqual(G.doc.ref)){if(G.oldIndex!==G.newIndex){const ne=Oe.slice();return ne.splice(G.oldIndex,1),ne.splice(G.newIndex,0,G),ne}return se(Oe,G.newIndex,1,G)}break;case"removed":if(Oe[G.oldIndex]&&Oe[G.oldIndex].doc.ref.isEqual(G.doc.ref))return se(Oe,G.oldIndex,1)}return Oe}(Oe,De))}),Oe}(De,nt.map($t=>$t.payload),G),[]),function Ve(Oe,G=Tt.y){return Oe=Oe??at,(0,he.e)((ne,De)=>{let nt,$t=!0;ne.subscribe((0,Ee.x)(De,wn=>{const Dr=G(wn);($t||!Oe(nt,Dr))&&($t=!1,nt=Dr,De.next(wn))}))})}(),(0,Qe.U)(De=>De.map(nt=>({type:nt.type,payload:nt}))))}function se(Oe,G,ne,...De){const nt=Oe.slice();return nt.splice(G,ne,...De),nt}function re(Oe){return(!Oe||0===Oe.length)&&(Oe=["added","removed","modified"]),Oe}class Te{constructor(G,ne,De){this.ref=G,this.query=ne,this.afs=De}stateChanges(G){let ne=te(this.query,this.afs.schedulers.outsideAngular);return G&&G.length>0&&(ne=ne.pipe((0,Qe.U)(De=>De.filter(nt=>G.indexOf(nt.type)>-1)))),ne.pipe((0,ie.O)(void 0),Xe(),(0,He.h)(([De,nt])=>nt.length>0||!De),(0,Qe.U)(([De,nt])=>nt),ke.iC)}auditTrail(G){return this.stateChanges(G).pipe((0,wt.R)((ne,De)=>[...ne,...De],[]))}snapshotChanges(G){const ne=re(G);return Z(this.query,ne,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(G={}){return Q(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(ne=>ne.payload.docs.map(De=>G.idField?Object.assign(Object.assign({},De.data()),{[G.idField]:De.id}):De.data())),ke.iC)}get(G){return(0,Ie.D)(this.query.get(G)).pipe(ke.iC)}add(G){return this.ref.add(G)}doc(G){return new Ke(this.ref.doc(G),this.afs)}}class Ke{constructor(G,ne){this.ref=G,this.afs=ne}set(G,ne){return this.ref.set(G,ne)}update(G){return this.ref.update(G)}delete(){return this.ref.delete()}collection(G,ne){const De=this.ref.collection(G),{ref:nt,query:$t}=Be(De,ne);return new Te(nt,$t,this.afs)}snapshotChanges(){return function ce(Oe,G){return pe(Oe,G).pipe((0,ie.O)(void 0),Xe(),(0,Qe.U)(([ne,De])=>De.exists?ne?.exists?{payload:De,type:"modified"}:{payload:De,type:"added"}:{payload:De,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(G={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:ne})=>G.idField?Object.assign(Object.assign({},ne.data()),{[G.idField]:ne.id}):ne.data()))}get(G){return(0,Ie.D)(this.ref.get(G)).pipe(ke.iC)}}class lt{constructor(G,ne){this.query=G,this.afs=ne}stateChanges(G){return G&&0!==G.length?te(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(ne=>ne.filter(De=>G.indexOf(De.type)>-1)),(0,He.h)(ne=>ne.length>0),ke.iC):te(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(G){return this.stateChanges(G).pipe((0,wt.R)((ne,De)=>[...ne,...De],[]))}snapshotChanges(G){const ne=re(G);return Z(this.query,ne,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(G={}){return Q(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(De=>De.payload.docs.map(nt=>G.idField?Object.assign({[G.idField]:nt.id},nt.data()):nt.data())),ke.iC)}get(G){return(0,Ie.D)(this.query.get(G)).pipe(ke.iC)}}const nn=new ae.OlP("angularfire2.enableFirestorePersistence"),ot=new ae.OlP("angularfire2.firestore.persistenceSettings"),gt=new ae.OlP("angularfire2.firestore.settings"),rn=new ae.OlP("angularfire2.firestore.use-emulator");function Be(Oe,G=(ne=>ne)){return{query:G(Oe),ref:Oe}}let Ae=(()=>{class Oe{constructor(ne,De,nt,$t,wn,Dr,er,_r,At,xn,Wn,tr,ui,nr,Wr,Zn,xe){this.schedulers=er;const we=(0,yt.on)(ne,Dr,De),ye=At;xn&&Tn(we,Dr,Wn,ui,nr,Wr,tr,Zn),[this.firestore,this.persistenceEnabled$]=(0,yt.cc)(`${we.name}.firestore`,"AngularFirestore",we.name,()=>{const et=Dr.runOutsideAngular(()=>we.firestore());if($t&&et.settings($t),ye&&et.useEmulator(...ye),nt&&!(0,Ye.PM)(wn)){const ct=()=>{try{return(0,Ie.D)(et.enablePersistence(_r||void 0).then(()=>!0,()=>!1))}catch(hn){return typeof console<"u"&&console.warn(hn),(0,de.of)(!1)}};return[et,Dr.runOutsideAngular(ct)]}return[et,(0,de.of)(!1)]},[$t,ye,nt])}collection(ne,De){let nt;nt="string"==typeof ne?this.firestore.collection(ne):ne;const{ref:$t,query:wn}=Be(nt,De),Dr=this.schedulers.ngZone.run(()=>$t);return new Te(Dr,wn,this)}collectionGroup(ne,De){const nt=De||(wn=>wn),$t=this.firestore.collectionGroup(ne);return new lt(nt($t),this)}doc(ne){let De;De="string"==typeof ne?this.firestore.doc(ne):ne;const nt=this.schedulers.ngZone.run(()=>De);return new Ke(nt,this)}createId(){return this.firestore.collection("_").doc().id}}return Oe.\u0275fac=function(ne){return new(ne||Oe)(ae.LFG(yt.Dh),ae.LFG(yt.xv,8),ae.LFG(nn,8),ae.LFG(gt,8),ae.LFG(ae.Lbi),ae.LFG(ae.R0b),ae.LFG(ke.HU),ae.LFG(ot,8),ae.LFG(rn,8),ae.LFG(xr,8),ae.LFG(fn,8),ae.LFG(cn,8),ae.LFG(yn,8),ae.LFG(Xn,8),ae.LFG(Jn,8),ae.LFG($n,8),ae.LFG(hr.nm,8))},Oe.\u0275prov=ae.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"any"}),Oe})();var Qt=j(9051);let dn=(()=>{class Oe{constructor(ne,De,nt,$t){this.afs=ne,this.afAuth=De,this.router=nt,this.ngZone=$t,this.afAuth.authState.subscribe(wn=>{wn?(this.userData=wn,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(ne,De){return this.afAuth.signInWithEmailAndPassword(ne,De).then(nt=>{this.SetUserData(nt.user),this.afAuth.authState.subscribe($t=>{$t&&this.router.navigate(["home"])})}).catch(nt=>{console.log(nt),M().fire({icon:"error",title:"Error",text:nt.message})})}SignUp(ne,De){return this.afAuth.createUserWithEmailAndPassword(ne,De).then(nt=>{this.SendVerificationMail(),this.SetUserData(nt.user)}).catch(nt=>{M().fire({icon:"error",title:"Error",text:nt.message})})}SendVerificationMail(){return this.afAuth.currentUser.then(ne=>ne.sendEmailVerification()).then(()=>{this.router.navigate([""])})}ForgotPassword(ne){return this.afAuth.sendPasswordResetEmail(ne).then(()=>{M().fire({icon:"warning",title:"Atencion!",text:"Se ha enviado un email para resetear el password"})}).catch(De=>{M().fire({icon:"error",title:"Error",text:De})})}get isLoggedIn(){const ne=JSON.parse(localStorage.getItem("user"));return null!==ne&&!1!==ne.emailVerified}get userName(){const ne=JSON.parse(localStorage.getItem("user"));return null!==ne?ne.email:""}GoogleAuth(){return this.AuthLogin(new I.hJ).then(ne=>{this.router.navigate(["home"])})}AuthLogin(ne){return this.afAuth.signInWithPopup(ne).then(De=>{this.router.navigate(["home"]),this.SetUserData(De.user)}).catch(De=>{M().fire({icon:"error",title:"Error",text:De})})}SetUserData(ne){return this.afs.doc(`users/${ne.uid}`).set({uid:ne.uid,email:ne.email,displayName:ne.displayName,photoURL:ne.photoURL,emailVerified:ne.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate([""])})}}return Oe.\u0275fac=function(ne){return new(ne||Oe)(ae.LFG(Ae),ae.LFG(xr),ae.LFG(Qt.F0),ae.LFG(ae.R0b))},Oe.\u0275prov=ae.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},3659:(Jt,Me,j)=>{"use strict";var I=j(1481),F=j(9051),M=j(4650),ae=j(1225),fe=j(6895);let Ce=(()=>{class m{constructor(d){this.firebaseService=d,this.isLogged=this.firebaseService.isLoggedIn,this.userName=this.firebaseService.userName}SignOut(){this.firebaseService.SignOut()}}return m.\u0275fac=function(d){return new(d||m)(M.Y36(ae.X))},m.\u0275cmp=M.Xpm({type:m,selectors:[["app-nav"]],decls:15,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/home",1,"nav-link","active"],["routerLink","/quien-soy",1,"nav-link"],[1,"navbar-text","m-2"],[1,"navbar-text"],[1,"nav-link","active",2,"cursor","pointer",3,"click"]],template:function(d,w){1&d&&(M.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),M._uU(6,"Home"),M.qZA()(),M.TgZ(7,"li",4)(8,"a",6),M._uU(9,"Quien Soy?"),M.qZA()()(),M.TgZ(10,"span",7),M._uU(11),M.qZA(),M.TgZ(12,"span",8)(13,"a",9),M.NdJ("click",function(){return w.SignOut()}),M._uU(14,"Cerrar sesion"),M.qZA()()()()()),2&d&&(M.xp6(11),M.hij(" Bienvenido ",w.userName," "))},dependencies:[F.rH]}),m})();function Ie(m,h){1&m&&M._UZ(0,"app-nav")}let de=(()=>{class m{constructor(d){this.firebaseService=d,this.isLogged=this.firebaseService.isLoggedIn}}return m.\u0275fac=function(d){return new(d||m)(M.Y36(ae.X))},m.\u0275cmp=M.Xpm({type:m,selectors:[["app-jumbotron"]],decls:39,vars:1,consts:[[4,"ngIf"],[1,"bootstrap-jumbotron"],[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],[1,"d-flex","align-items-center","text-dark","text-decoration-none"],["xmlns","http://www.w3.org/2000/svg","width","40","height","32","viewBox","0 0 118 94","role","img",1,"me-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z","fill","currentColor"],[1,"fs-4"],[1,"p-5","mb-4","row","rounded-3"],[1,"col-md-6"],[1,"display-5","fw-bold"],[1,"col-md-8","fs-4"],["src","../../../assets/images/icon.png","width","200","height","200","alt","imagen",1,"rounded","mx-auto","d-block"],[1,"row","align-items-md-stretch"],[1,"h-100","p-5","text-bg-dark","rounded-3"],["type","button",1,"btn","btn-outline-light"],[1,"h-100","p-5","bg-body-tertiary","border","rounded-3"],["type","button",1,"btn","btn-outline-secondary"],[1,"pt-3","mt-4","text-body-secondary","border-top"]],template:function(d,w){1&d&&(M.YNc(0,Ie,1,0,"app-nav",0),M.TgZ(1,"div",1)(2,"main")(3,"div",2)(4,"header",3)(5,"a",4),M.O4$(),M.TgZ(6,"svg",5)(7,"title"),M._uU(8,"Bootstrap"),M.qZA(),M._UZ(9,"path",6),M.qZA(),M.kcU(),M.TgZ(10,"span",7),M._uU(11,"Barrios Crespo Matias"),M.qZA()()(),M.TgZ(12,"div",8)(13,"div",9)(14,"h1",10),M._uU(15,"Quien soy?"),M.qZA(),M.TgZ(16,"p",11),M._uU(17,"Estudiante tecnicatura en programacion."),M.qZA()(),M.TgZ(18,"div",9),M._UZ(19,"img",12),M.qZA()(),M.TgZ(20,"div",13)(21,"div",9)(22,"div",14)(23,"h2"),M._uU(24,"Portfolio"),M.qZA(),M.TgZ(25,"p"),M._uU(26,"Swap the background-color utility and add a `.text-*` color utility to mix up the jumbotron look. Then, mix and match with additional component themes and more."),M.qZA(),M.TgZ(27,"button",15),M._uU(28,"Example button"),M.qZA()()(),M.TgZ(29,"div",9)(30,"div",16)(31,"h2"),M._uU(32,"Juego propio"),M.qZA(),M.TgZ(33,"p"),M._uU(34,"Se trata del tutti frutti. Dos o mas personas compiten para intentar, en el menor tiempo posible, completar una fila de palabras segun diferentes categorias. Se elegira al azar una letra, que sera la que establezca la inicial de cada una de las palabras que completen la grilla. Cada jugador tendr\xe1 que encontrar una palabra que comience por la letra elegida de cada una de las categor\xedas. Al finalizar el tiempo se sumaran los puntos obtenidos por cada uno de los jugadores. "),M.qZA(),M.TgZ(35,"button",17),M._uU(36,"Example button"),M.qZA()()()(),M.TgZ(37,"footer",18),M._uU(38," \xa9 2023 "),M.qZA()()()()),2&d&&M.Q6J("ngIf",w.isLogged)},dependencies:[fe.O5,Ce],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}"]}),m})(),ke=(()=>{class m{constructor(d,w){this.authService=d,this.router=w}canActivate(d,w){return!0!==this.authService.isLoggedIn&&this.router.navigate([""]),!0}}return m.\u0275fac=function(d){return new(d||m)(M.LFG(ae.X),M.LFG(F.F0))},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function ie(m,h){1&m&&M._UZ(0,"app-nav")}const Ee=[{path:"",loadChildren:()=>Promise.all([j.e(433),j.e(188)]).then(j.bind(j,4188)).then(m=>m.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([j.e(433),j.e(524)]).then(j.bind(j,3524)).then(m=>m.RegistroModule)},{path:"quien-soy",component:de,canActivate:[ke]},{path:"home",component:(()=>{class m{constructor(d){this.firebaseService=d,this.isLogged=this.firebaseService.isLoggedIn}SignOut(){this.firebaseService.SignOut()}}return m.\u0275fac=function(d){return new(d||m)(M.Y36(ae.X))},m.\u0275cmp=M.Xpm({type:m,selectors:[["app-home"]],decls:151,vars:1,consts:[[4,"ngIf"],[1,"bootstrap-home"],[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-body-tertiary"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","fw-normal"],[1,"lead","fw-normal"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","ps-md-3"],[1,"text-bg-dark","me-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"my-3","py-3"],[1,"display-5"],[1,"lead"],[1,"bg-body-tertiary","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-body-tertiary","me-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"my-3","p-3"],[1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"text-bg-primary","me-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"bg-body","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"container","py-5"],[1,"row"],[1,"col-12","col-md"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24",1,"d-block","mb-2"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],[1,"d-block","mb-3","text-body-secondary"],[1,"col-6","col-md"],[1,"list-unstyled","text-small"],["href","#",1,"link-secondary"]],template:function(d,w){1&d&&(M.YNc(0,ie,1,0,"app-nav",0),M.TgZ(1,"div",1)(2,"main")(3,"div",2)(4,"div",3)(5,"h1",4),M._uU(6,"Home"),M.qZA(),M.TgZ(7,"p",5),M._uU(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus aliquam repellendus, nostrum necessitatibus minima earum eligendi sed laudantium quod repellat praesentium autem asperiores quos, nihil, illum molestiae similique doloribus facilis!"),M.qZA()(),M._UZ(9,"div",6)(10,"div",7),M.qZA(),M.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"h2",11),M._uU(15,"Another headline"),M.qZA(),M.TgZ(16,"p",12),M._uU(17,"And an even wittier subheading."),M.qZA()(),M._UZ(18,"div",13),M.qZA(),M.TgZ(19,"div",14)(20,"div",15)(21,"h2",11),M._uU(22,"Another headline"),M.qZA(),M.TgZ(23,"p",12),M._uU(24,"And an even wittier subheading."),M.qZA()(),M._UZ(25,"div",16),M.qZA()(),M.TgZ(26,"div",8)(27,"div",14)(28,"div",15)(29,"h2",11),M._uU(30,"Another headline"),M.qZA(),M.TgZ(31,"p",12),M._uU(32,"And an even wittier subheading."),M.qZA()(),M._UZ(33,"div",16),M.qZA(),M.TgZ(34,"div",17)(35,"div",10)(36,"h2",11),M._uU(37,"Another headline"),M.qZA(),M.TgZ(38,"p",12),M._uU(39,"And an even wittier subheading."),M.qZA()(),M._UZ(40,"div",13),M.qZA()(),M.TgZ(41,"div",8)(42,"div",14)(43,"div",15)(44,"h2",11),M._uU(45,"Another headline"),M.qZA(),M.TgZ(46,"p",12),M._uU(47,"And an even wittier subheading."),M.qZA()(),M._UZ(48,"div",18),M.qZA(),M.TgZ(49,"div",14)(50,"div",10)(51,"h2",11),M._uU(52,"Another headline"),M.qZA(),M.TgZ(53,"p",12),M._uU(54,"And an even wittier subheading."),M.qZA()(),M._UZ(55,"div",18),M.qZA()(),M.TgZ(56,"div",8)(57,"div",14)(58,"div",15)(59,"h2",11),M._uU(60,"Another headline"),M.qZA(),M.TgZ(61,"p",12),M._uU(62,"And an even wittier subheading."),M.qZA()(),M._UZ(63,"div",18),M.qZA(),M.TgZ(64,"div",14)(65,"div",10)(66,"h2",11),M._uU(67,"Another headline"),M.qZA(),M.TgZ(68,"p",12),M._uU(69,"And an even wittier subheading."),M.qZA()(),M._UZ(70,"div",18),M.qZA()()(),M.TgZ(71,"footer",19)(72,"div",20)(73,"div",21),M.O4$(),M.TgZ(74,"svg",22)(75,"title"),M._uU(76,"Product"),M.qZA(),M._UZ(77,"circle",23)(78,"path",24),M.qZA(),M.kcU(),M.TgZ(79,"small",25),M._uU(80,"\xa9 2017\u20132023"),M.qZA()(),M.TgZ(81,"div",26)(82,"h5"),M._uU(83,"Features"),M.qZA(),M.TgZ(84,"ul",27)(85,"li")(86,"a",28),M._uU(87,"Cool stuff"),M.qZA()(),M.TgZ(88,"li")(89,"a",28),M._uU(90,"Random feature"),M.qZA()(),M.TgZ(91,"li")(92,"a",28),M._uU(93,"Team feature"),M.qZA()(),M.TgZ(94,"li")(95,"a",28),M._uU(96,"Stuff for developers"),M.qZA()(),M.TgZ(97,"li")(98,"a",28),M._uU(99,"Another one"),M.qZA()(),M.TgZ(100,"li")(101,"a",28),M._uU(102,"Last time"),M.qZA()()()(),M.TgZ(103,"div",26)(104,"h5"),M._uU(105,"Resources"),M.qZA(),M.TgZ(106,"ul",27)(107,"li")(108,"a",28),M._uU(109,"Resource name"),M.qZA()(),M.TgZ(110,"li")(111,"a",28),M._uU(112,"Resource"),M.qZA()(),M.TgZ(113,"li")(114,"a",28),M._uU(115,"Another resource"),M.qZA()(),M.TgZ(116,"li")(117,"a",28),M._uU(118,"Final resource"),M.qZA()()()(),M.TgZ(119,"div",26)(120,"h5"),M._uU(121,"Resources"),M.qZA(),M.TgZ(122,"ul",27)(123,"li")(124,"a",28),M._uU(125,"Business"),M.qZA()(),M.TgZ(126,"li")(127,"a",28),M._uU(128,"Education"),M.qZA()(),M.TgZ(129,"li")(130,"a",28),M._uU(131,"Government"),M.qZA()(),M.TgZ(132,"li")(133,"a",28),M._uU(134,"Gaming"),M.qZA()()()(),M.TgZ(135,"div",26)(136,"h5"),M._uU(137,"About"),M.qZA(),M.TgZ(138,"ul",27)(139,"li")(140,"a",28),M._uU(141,"Team"),M.qZA()(),M.TgZ(142,"li")(143,"a",28),M._uU(144,"Locations"),M.qZA()(),M.TgZ(145,"li")(146,"a",28),M._uU(147,"Privacy"),M.qZA()(),M.TgZ(148,"li")(149,"a",28),M._uU(150,"Terms"),M.qZA()()()()()()()),2&d&&M.Q6J("ngIf",w.isLogged)},dependencies:[fe.O5,Ce],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}"]}),m})(),canActivate:[ke]}];let Xe=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=M.oAB({type:m}),m.\u0275inj=M.cJS({imports:[F.Bz.forRoot(Ee),F.Bz]}),m})();var Qe=j(89);let wt=(()=>{class m{constructor(){this.firestore=(0,M.f3M)(Qe.gg),this.title="tp-sala-juegos";const d=(0,Qe.hJ)(this.firestore,"items");this.items=(0,Qe.BS)(d)}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=M.Xpm({type:m,selectors:[["app-root"]],decls:1,vars:0,template:function(d,w){1&d&&M._UZ(0,"router-outlet")},dependencies:[F.lC]}),m})();class Tt{}class Ve{}const at="*";function Je(m,h=null){return{type:2,steps:m,options:h}}function ut(m){return{type:6,styles:m,offset:null}}function We(m){Promise.resolve().then(m)}class Ge{constructor(h=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){We(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(w=>w()),d.length=0}}class it{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let d=0,w=0,O=0;const V=this.players.length;0==V?We(()=>this._onFinish()):this.players.forEach(v=>{v.onDone(()=>{++d==V&&this._onFinish()}),v.onDestroy(()=>{++w==V&&this._onDestroy()}),v.onStart(()=>{++O==V&&this._onStart()})}),this.totalTime=this.players.reduce((v,E)=>Math.max(v,E.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const d=h*this.totalTime;this.players.forEach(w=>{const O=w.totalTime?Math.min(1,d/w.totalTime):1;w.setPosition(O)})}getPosition(){const h=this.players.reduce((d,w)=>null===d||w.totalTime>d.totalTime?w:d,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(w=>w()),d.length=0}}const st="!";function dt(m){return new M.vHH(3e3,!1)}function cn(){return typeof window<"u"&&typeof window.document<"u"}function yn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Xn(m){switch(m.length){case 0:return new Ge;case 1:return m[0];default:return new it(m)}}function Jn(m,h,d,w,O=new Map,V=new Map){const v=[],E=[];let L=-1,K=null;if(w.forEach(ge=>{const $e=ge.get("offset"),Ft=$e==L,jt=Ft&&K||new Map;ge.forEach((Le,Ht)=>{let Sn=Ht,gr=Le;if("offset"!==Ht)switch(Sn=h.normalizePropertyName(Sn,v),gr){case st:gr=O.get(Ht);break;case at:gr=V.get(Ht);break;default:gr=h.normalizeStyleValue(Ht,Sn,gr,v)}jt.set(Sn,gr)}),Ft||E.push(jt),K=jt,L=$e}),v.length)throw function un(m){return new M.vHH(3502,!1)}();return E}function $n(m,h,d,w){switch(h){case"start":m.onStart(()=>w(d&&Tn(d,"start",m)));break;case"done":m.onDone(()=>w(d&&Tn(d,"done",m)));break;case"destroy":m.onDestroy(()=>w(d&&Tn(d,"destroy",m)))}}function Tn(m,h,d){const V=xr(m.element,m.triggerName,m.fromState,m.toState,h||m.phaseName,d.totalTime??m.totalTime,!!d.disabled),v=m._data;return null!=v&&(V._data=v),V}function xr(m,h,d,w,O="",V=0,v){return{element:m,triggerName:h,fromState:d,toState:w,phaseName:O,totalTime:V,disabled:!!v}}function fr(m,h,d){let w=m.get(h);return w||m.set(h,w=d),w}function kr(m){const h=m.indexOf(":");return[m.substring(1,h),m.slice(h+1)]}let pe=(m,h)=>!1,ce=(m,h,d)=>[],Q=null;function te(m){const h=m.parentNode||m.host;return h===Q?null:h}(yn()||typeof Element<"u")&&(cn()?(Q=(()=>document.documentElement)(),pe=(m,h)=>{for(;h;){if(h===m)return!0;h=te(h)}return!1}):pe=(m,h)=>m.contains(h),ce=(m,h,d)=>{if(d)return Array.from(m.querySelectorAll(h));const w=m.querySelector(h);return w?[w]:[]});let se=null,ue=!1;const lt=pe,nn=ce;let gt=(()=>{class m{validateStyleProperty(d){return function re(m){se||(se=function Ke(){return typeof document<"u"?document.body:null}()||{},ue=!!se.style&&"WebkitAppearance"in se.style);let h=!0;return se.style&&!function _e(m){return"ebkit"==m.substring(1,6)}(m)&&(h=m in se.style,!h&&ue&&(h="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in se.style)),h}(d)}matchesElement(d,w){return!1}containsElement(d,w){return lt(d,w)}getParentElement(d){return te(d)}query(d,w,O){return nn(d,w,O)}computeStyle(d,w,O){return O||""}animate(d,w,O,V,v,E=[],L){return new Ge(O,V)}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac}),m})(),rn=(()=>{class m{}return m.NOOP=new gt,m})();const Be=1e3,Qt="ng-enter",dn="ng-leave",Oe="ng-trigger",G=".ng-trigger",ne="ng-animating",De=".ng-animating";function nt(m){if("number"==typeof m)return m;const h=m.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:$t(parseFloat(h[1]),h[2])}function $t(m,h){return"s"===h?m*Be:m}function wn(m,h,d){return m.hasOwnProperty("duration")?m:function Dr(m,h,d){let O,V=0,v="";if("string"==typeof m){const E=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===E)return h.push(dt()),{duration:0,delay:0,easing:""};O=$t(parseFloat(E[1]),E[2]);const L=E[3];null!=L&&(V=$t(parseFloat(L),E[4]));const K=E[5];K&&(v=K)}else O=m;if(!d){let E=!1,L=h.length;O<0&&(h.push(function Mt(){return new M.vHH(3100,!1)}()),E=!0),V<0&&(h.push(function Et(){return new M.vHH(3101,!1)}()),E=!0),E&&h.splice(L,0,dt())}return{duration:O,delay:V,easing:v}}(m,h,d)}function er(m,h={}){return Object.keys(m).forEach(d=>{h[d]=m[d]}),h}function _r(m){const h=new Map;return Object.keys(m).forEach(d=>{h.set(d,m[d])}),h}function Wn(m,h=new Map,d){if(d)for(let[w,O]of d)h.set(w,O);for(let[w,O]of m)h.set(w,O);return h}function tr(m,h,d){return d?h+":"+d+";":""}function ui(m){let h="";for(let d=0;d<m.style.length;d++){const w=m.style.item(d);h+=tr(0,w,m.style.getPropertyValue(w))}for(const d in m.style)m.style.hasOwnProperty(d)&&!d.startsWith("_")&&(h+=tr(0,Mn(d),m.style[d]));m.setAttribute("style",h)}function nr(m,h,d){m.style&&(h.forEach((w,O)=>{const V=Rn(O);d&&!d.has(O)&&d.set(O,m.style[V]),m.style[V]=w}),yn()&&ui(m))}function Wr(m,h){m.style&&(h.forEach((d,w)=>{const O=Rn(w);m.style[O]=""}),yn()&&ui(m))}function Zn(m){return Array.isArray(m)?1==m.length?m[0]:Je(m):m}const we=new RegExp("{{\\s*(.+?)\\s*}}","g");function ye(m){let h=[];if("string"==typeof m){let d;for(;d=we.exec(m);)h.push(d[1]);we.lastIndex=0}return h}function et(m,h,d){const w=m.toString(),O=w.replace(we,(V,v)=>{let E=h[v];return null==E&&(d.push(function Zt(m){return new M.vHH(3003,!1)}()),E=""),E.toString()});return O==w?m:O}function ct(m){const h=[];let d=m.next();for(;!d.done;)h.push(d.value),d=m.next();return h}const hn=/-+([a-z0-9])/g;function Rn(m){return m.replace(hn,(...h)=>h[1].toUpperCase())}function Mn(m){return m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wr(m,h,d){switch(h.type){case 7:return m.visitTrigger(h,d);case 0:return m.visitState(h,d);case 1:return m.visitTransition(h,d);case 2:return m.visitSequence(h,d);case 3:return m.visitGroup(h,d);case 4:return m.visitAnimate(h,d);case 5:return m.visitKeyframes(h,d);case 6:return m.visitStyle(h,d);case 8:return m.visitReference(h,d);case 9:return m.visitAnimateChild(h,d);case 10:return m.visitAnimateRef(h,d);case 11:return m.visitQuery(h,d);case 12:return m.visitStagger(h,d);default:throw function Yt(m){return new M.vHH(3004,!1)}()}}function Qr(m,h){return window.getComputedStyle(m)[h]}const pi="*";function ri(m,h){const d=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(w=>function ha(m,h,d){if(":"==m[0]){const L=function Ei(m,h){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,w)=>parseFloat(w)>parseFloat(d);case":decrement":return(d,w)=>parseFloat(w)<parseFloat(d);default:return h.push(function ar(m){return new M.vHH(3016,!1)}()),"* => *"}}(m,d);if("function"==typeof L)return void h.push(L);m=L}const w=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==w||w.length<4)return d.push(function Bn(m){return new M.vHH(3015,!1)}()),h;const O=w[1],V=w[2],v=w[3];h.push(ko(O,v));"<"==V[0]&&!(O==pi&&v==pi)&&h.push(ko(v,O))}(w,d,h)):d.push(m),d}const gi=new Set(["true","1"]),is=new Set(["false","0"]);function ko(m,h){const d=gi.has(m)||is.has(m),w=gi.has(h)||is.has(h);return(O,V)=>{let v=m==pi||m==O,E=h==pi||h==V;return!v&&d&&"boolean"==typeof O&&(v=O?gi.has(m):is.has(m)),!E&&w&&"boolean"==typeof V&&(E=V?gi.has(h):is.has(h)),v&&E}}const Gr=new RegExp("s*:selfs*,?","g");function Fi(m,h,d,w){return new ea(m).build(h,d,w)}class ea{constructor(h){this._driver=h}build(h,d,w){const O=new Ii(d);return this._resetContextStyleTimingState(O),wr(this,Zn(h),O)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,d){let w=d.queryCount=0,O=d.depCount=0;const V=[],v=[];return"@"==h.name.charAt(0)&&d.errors.push(function Dn(){return new M.vHH(3006,!1)}()),h.definitions.forEach(E=>{if(this._resetContextStyleTimingState(d),0==E.type){const L=E,K=L.name;K.toString().split(/\s*,\s*/).forEach(ge=>{L.name=ge,V.push(this.visitState(L,d))}),L.name=K}else if(1==E.type){const L=this.visitTransition(E,d);w+=L.queryCount,O+=L.depCount,v.push(L)}else d.errors.push(function Vn(){return new M.vHH(3007,!1)}())}),{type:7,name:h.name,states:V,transitions:v,queryCount:w,depCount:O,options:null}}visitState(h,d){const w=this.visitStyle(h.styles,d),O=h.options&&h.options.params||null;if(w.containsDynamicStyles){const V=new Set,v=O||{};w.styles.forEach(E=>{E instanceof Map&&E.forEach(L=>{ye(L).forEach(K=>{v.hasOwnProperty(K)||V.add(K)})})}),V.size&&(ct(V.values()),d.errors.push(function Hn(m,h){return new M.vHH(3008,!1)}()))}return{type:0,name:h.name,style:w,options:O?{params:O}:null}}visitTransition(h,d){d.queryCount=0,d.depCount=0;const w=wr(this,Zn(h.animation),d);return{type:1,matchers:ri(h.expr,d.errors),animation:w,queryCount:d.queryCount,depCount:d.depCount,options:Ys(h.options)}}visitSequence(h,d){return{type:2,steps:h.steps.map(w=>wr(this,w,d)),options:Ys(h.options)}}visitGroup(h,d){const w=d.currentTime;let O=0;const V=h.steps.map(v=>{d.currentTime=w;const E=wr(this,v,d);return O=Math.max(O,d.currentTime),E});return d.currentTime=O,{type:3,steps:V,options:Ys(h.options)}}visitAnimate(h,d){const w=function ta(m,h){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return fs(wn(m,h).duration,0,"");const d=m;if(d.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=fs(0,0,"");return V.dynamic=!0,V.strValue=d,V}const O=wn(d,h);return fs(O.duration,O.delay,O.easing)}(h.timings,d.errors);d.currentAnimateTimings=w;let O,V=h.styles?h.styles:ut({});if(5==V.type)O=this.visitKeyframes(V,d);else{let v=h.styles,E=!1;if(!v){E=!0;const K={};w.easing&&(K.easing=w.easing),v=ut(K)}d.currentTime+=w.duration+w.delay;const L=this.visitStyle(v,d);L.isEmptyStep=E,O=L}return d.currentAnimateTimings=null,{type:4,timings:w,style:O,options:null}}visitStyle(h,d){const w=this._makeStyleAst(h,d);return this._validateStyleAst(w,d),w}_makeStyleAst(h,d){const w=[],O=Array.isArray(h.styles)?h.styles:[h.styles];for(let E of O)"string"==typeof E?E===at?w.push(E):d.errors.push(new M.vHH(3002,!1)):w.push(_r(E));let V=!1,v=null;return w.forEach(E=>{if(E instanceof Map&&(E.has("easing")&&(v=E.get("easing"),E.delete("easing")),!V))for(let L of E.values())if(L.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:w,easing:v,offset:h.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(h,d){const w=d.currentAnimateTimings;let O=d.currentTime,V=d.currentTime;w&&V>0&&(V-=w.duration+w.delay),h.styles.forEach(v=>{"string"!=typeof v&&v.forEach((E,L)=>{const K=d.collectedStyles.get(d.currentQuerySelector),ge=K.get(L);let $e=!0;ge&&(V!=O&&V>=ge.startTime&&O<=ge.endTime&&(d.errors.push(function _n(m,h,d,w,O){return new M.vHH(3010,!1)}()),$e=!1),V=ge.startTime),$e&&K.set(L,{startTime:V,endTime:O}),d.options&&function xe(m,h,d){const w=h.params||{},O=ye(m);O.length&&O.forEach(V=>{w.hasOwnProperty(V)||d.push(function vn(m){return new M.vHH(3001,!1)}())})}(E,d.options,d.errors)})})}visitKeyframes(h,d){const w={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function zt(){return new M.vHH(3011,!1)}()),w;let V=0;const v=[];let E=!1,L=!1,K=0;const ge=h.steps.map(gr=>{const Dt=this._makeStyleAst(gr,d);let Ut=null!=Dt.offset?Dt.offset:function go(m){if("string"==typeof m)return null;let h=null;if(Array.isArray(m))m.forEach(d=>{if(d instanceof Map&&d.has("offset")){const w=d;h=parseFloat(w.get("offset")),w.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const d=m;h=parseFloat(d.get("offset")),d.delete("offset")}return h}(Dt.styles),Mr=0;return null!=Ut&&(V++,Mr=Dt.offset=Ut),L=L||Mr<0||Mr>1,E=E||Mr<K,K=Mr,v.push(Mr),Dt});L&&d.errors.push(function rr(){return new M.vHH(3012,!1)}()),E&&d.errors.push(function ir(){return new M.vHH(3200,!1)}());const $e=h.steps.length;let Ft=0;V>0&&V<$e?d.errors.push(function Kn(){return new M.vHH(3202,!1)}()):0==V&&(Ft=1/($e-1));const jt=$e-1,Le=d.currentTime,Ht=d.currentAnimateTimings,Sn=Ht.duration;return ge.forEach((gr,Dt)=>{const Ut=Ft>0?Dt==jt?1:Ft*Dt:v[Dt],Mr=Ut*Sn;d.currentTime=Le+Ht.delay+Mr,Ht.duration=Mr,this._validateStyleAst(gr,d),gr.offset=Ut,w.styles.push(gr)}),w}visitReference(h,d){return{type:8,animation:wr(this,Zn(h.animation),d),options:Ys(h.options)}}visitAnimateChild(h,d){return d.depCount++,{type:9,options:Ys(h.options)}}visitAnimateRef(h,d){return{type:10,animation:this.visitReference(h.animation,d),options:Ys(h.options)}}visitQuery(h,d){const w=d.currentQuerySelector,O=h.options||{};d.queryCount++,d.currentQuery=h;const[V,v]=function pr(m){const h=!!m.split(/\s*,\s*/).find(d=>":self"==d);return h&&(m=m.replace(Gr,"")),m=m.replace(/@\*/g,G).replace(/@\w+/g,d=>G+"-"+d.slice(1)).replace(/:animating/g,De),[m,h]}(h.selector);d.currentQuerySelector=w.length?w+" "+V:V,fr(d.collectedStyles,d.currentQuerySelector,new Map);const E=wr(this,Zn(h.animation),d);return d.currentQuery=null,d.currentQuerySelector=w,{type:11,selector:V,limit:O.limit||0,optional:!!O.optional,includeSelf:v,animation:E,originalSelector:h.selector,options:Ys(h.options)}}visitStagger(h,d){d.currentQuery||d.errors.push(function bn(){return new M.vHH(3013,!1)}());const w="full"===h.timings?{duration:0,delay:0,easing:"full"}:wn(h.timings,d.errors,!0);return{type:12,animation:wr(this,Zn(h.animation),d),timings:w,options:null}}}class Ii{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ys(m){return m?(m=er(m)).params&&(m.params=function ss(m){return m?er(m):null}(m.params)):m={},m}function fs(m,h,d){return{duration:m,delay:h,easing:d}}function mo(m,h,d,w,O,V,v=null,E=!1){return{type:1,element:m,keyframes:h,preStyleProps:d,postStyleProps:w,duration:O,delay:V,totalTime:O+V,easing:v,subTimeline:E}}class yo{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,d){let w=this._map.get(h);w||this._map.set(h,w=[]),w.push(...d)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const bi=new RegExp(":enter","g"),Ts=new RegExp(":leave","g");function vo(m,h,d,w,O,V=new Map,v=new Map,E,L,K=[]){return(new qi).buildKeyframes(m,h,d,w,O,V,v,E,L,K)}class qi{buildKeyframes(h,d,w,O,V,v,E,L,K,ge=[]){K=K||new yo;const $e=new Qs(h,d,K,O,V,ge,[]);$e.options=L;const Ft=L.delay?nt(L.delay):0;$e.currentTimeline.delayNextStep(Ft),$e.currentTimeline.setStyles([v],null,$e.errors,L),wr(this,w,$e);const jt=$e.timelines.filter(Le=>Le.containsAnimation());if(jt.length&&E.size){let Le;for(let Ht=jt.length-1;Ht>=0;Ht--){const Sn=jt[Ht];if(Sn.element===d){Le=Sn;break}}Le&&!Le.allowOnlyTimelineStyles()&&Le.setStyles([E],null,$e.errors,L)}return jt.length?jt.map(Le=>Le.buildKeyframes()):[mo(d,[],[],[],0,Ft,"",!1)]}visitTrigger(h,d){}visitState(h,d){}visitTransition(h,d){}visitAnimateChild(h,d){const w=d.subInstructions.get(d.element);if(w){const O=d.createSubContext(h.options),V=d.currentTimeline.currentTime,v=this._visitSubInstructions(w,O,O.options);V!=v&&d.transformIntoNewTimeline(v)}d.previousNode=h}visitAnimateRef(h,d){const w=d.createSubContext(h.options);w.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],d,w),this.visitReference(h.animation,w),d.transformIntoNewTimeline(w.currentTimeline.currentTime),d.previousNode=h}_applyAnimationRefDelays(h,d,w){for(const O of h){const V=O?.delay;if(V){const v="number"==typeof V?V:nt(et(V,O?.params??{},d.errors));w.delayNextStep(v)}}}_visitSubInstructions(h,d,w){let V=d.currentTimeline.currentTime;const v=null!=w.duration?nt(w.duration):null,E=null!=w.delay?nt(w.delay):null;return 0!==v&&h.forEach(L=>{const K=d.appendInstructionToTimeline(L,v,E);V=Math.max(V,K.duration+K.delay)}),V}visitReference(h,d){d.updateOptions(h.options,!0),wr(this,h.animation,d),d.previousNode=h}visitSequence(h,d){const w=d.subContextCount;let O=d;const V=h.options;if(V&&(V.params||V.delay)&&(O=d.createSubContext(V),O.transformIntoNewTimeline(),null!=V.delay)){6==O.previousNode.type&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=xi);const v=nt(V.delay);O.delayNextStep(v)}h.steps.length&&(h.steps.forEach(v=>wr(this,v,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>w&&O.transformIntoNewTimeline()),d.previousNode=h}visitGroup(h,d){const w=[];let O=d.currentTimeline.currentTime;const V=h.options&&h.options.delay?nt(h.options.delay):0;h.steps.forEach(v=>{const E=d.createSubContext(h.options);V&&E.delayNextStep(V),wr(this,v,E),O=Math.max(O,E.currentTimeline.currentTime),w.push(E.currentTimeline)}),w.forEach(v=>d.currentTimeline.mergeTimelineCollectedStyles(v)),d.transformIntoNewTimeline(O),d.previousNode=h}_visitTiming(h,d){if(h.dynamic){const w=h.strValue;return wn(d.params?et(w,d.params,d.errors):w,d.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,d){const w=d.currentAnimateTimings=this._visitTiming(h.timings,d),O=d.currentTimeline;w.delay&&(d.incrementTime(w.delay),O.snapshotCurrentStyles());const V=h.style;5==V.type?this.visitKeyframes(V,d):(d.incrementTime(w.duration),this.visitStyle(V,d),O.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=h}visitStyle(h,d){const w=d.currentTimeline,O=d.currentAnimateTimings;!O&&w.hasCurrentStyleProperties()&&w.forwardFrame();const V=O&&O.easing||h.easing;h.isEmptyStep?w.applyEmptyStep(V):w.setStyles(h.styles,V,d.errors,d.options),d.previousNode=h}visitKeyframes(h,d){const w=d.currentAnimateTimings,O=d.currentTimeline.duration,V=w.duration,E=d.createSubContext().currentTimeline;E.easing=w.easing,h.styles.forEach(L=>{E.forwardTime((L.offset||0)*V),E.setStyles(L.styles,L.easing,d.errors,d.options),E.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(E),d.transformIntoNewTimeline(O+V),d.previousNode=h}visitQuery(h,d){const w=d.currentTimeline.currentTime,O=h.options||{},V=O.delay?nt(O.delay):0;V&&(6===d.previousNode.type||0==w&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=xi);let v=w;const E=d.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!O.optional,d.errors);d.currentQueryTotal=E.length;let L=null;E.forEach((K,ge)=>{d.currentQueryIndex=ge;const $e=d.createSubContext(h.options,K);V&&$e.delayNextStep(V),K===d.element&&(L=$e.currentTimeline),wr(this,h.animation,$e),$e.currentTimeline.applyStylesToKeyframe(),v=Math.max(v,$e.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(v),L&&(d.currentTimeline.mergeTimelineCollectedStyles(L),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=h}visitStagger(h,d){const w=d.parentContext,O=d.currentTimeline,V=h.timings,v=Math.abs(V.duration),E=v*(d.currentQueryTotal-1);let L=v*d.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":L=E-L;break;case"full":L=w.currentStaggerTime}const ge=d.currentTimeline;L&&ge.delayNextStep(L);const $e=ge.currentTime;wr(this,h.animation,d),d.previousNode=h,w.currentStaggerTime=O.currentTime-$e+(O.startTime-w.currentTimeline.startTime)}}const xi={};class Qs{constructor(h,d,w,O,V,v,E,L){this._driver=h,this.element=d,this.subInstructions=w,this._enterClassName=O,this._leaveClassName=V,this.errors=v,this.timelines=E,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=L||new Vi(this._driver,d,0),E.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,d){if(!h)return;const w=h;let O=this.options;null!=w.duration&&(O.duration=nt(w.duration)),null!=w.delay&&(O.delay=nt(w.delay));const V=w.params;if(V){let v=O.params;v||(v=this.options.params={}),Object.keys(V).forEach(E=>{(!d||!v.hasOwnProperty(E))&&(v[E]=et(V[E],v,this.errors))})}}_copyOptions(){const h={};if(this.options){const d=this.options.params;if(d){const w=h.params={};Object.keys(d).forEach(O=>{w[O]=d[O]})}}return h}createSubContext(h=null,d,w){const O=d||this.element,V=new Qs(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,w||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(h),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(h){return this.previousNode=xi,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,d,w){const O={duration:d??h.duration,delay:this.currentTimeline.currentTime+(w??0)+h.delay,easing:""},V=new Lo(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,O,h.stretchStartingKeyframe);return this.timelines.push(V),O}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,d,w,O,V,v){let E=[];if(O&&E.push(this.element),h.length>0){h=(h=h.replace(bi,"."+this._enterClassName)).replace(Ts,"."+this._leaveClassName);let K=this._driver.query(this.element,h,1!=w);0!==w&&(K=w<0?K.slice(K.length+w,K.length):K.slice(0,w)),E.push(...K)}return!V&&0==E.length&&v.push(function en(m){return new M.vHH(3014,!1)}()),E}}class Vi{constructor(h,d,w,O){this._driver=h,this.element=d,this.startTime=w,this._elementTimelineStylesLookup=O,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+h),d&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,d){return this.applyStylesToKeyframe(),new Vi(this._driver,h,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,d){this._localTimelineStyles.set(h,d),this._globalTimelineStyles.set(h,d),this._styleSummary.set(h,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[d,w]of this._globalTimelineStyles)this._backFill.set(d,w||at),this._currentKeyframe.set(d,at);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,d,w,O){d&&this._previousKeyframe.set("easing",d);const V=O&&O.params||{},v=function zs(m,h){const d=new Map;let w;return m.forEach(O=>{if("*"===O){w=w||h.keys();for(let V of w)d.set(V,at)}else Wn(O,d)}),d}(h,this._globalTimelineStyles);for(let[E,L]of v){const K=et(L,V,w);this._pendingStyles.set(E,K),this._localTimelineStyles.has(E)||this._backFill.set(E,this._globalTimelineStyles.get(E)??at),this._updateStyle(E,K)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,d)=>{this._currentKeyframe.set(d,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,h)}))}snapshotCurrentStyles(){for(let[h,d]of this._localTimelineStyles)this._pendingStyles.set(h,d),this._updateStyle(h,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let d in this._currentKeyframe)h.push(d);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((d,w)=>{const O=this._styleSummary.get(w);(!O||d.time>O.time)&&this._updateStyle(w,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,d=new Set,w=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((E,L)=>{const K=Wn(E,new Map,this._backFill);K.forEach((ge,$e)=>{ge===st?h.add($e):ge===at&&d.add($e)}),w||K.set("offset",L/this.duration),O.push(K)});const V=h.size?ct(h.values()):[],v=d.size?ct(d.values()):[];if(w){const E=O[0],L=new Map(E);E.set("offset",0),L.set("offset",1),O=[E,L]}return mo(this.element,O,V,v,this.duration,this.startTime,this.easing,!1)}}class Lo extends Vi{constructor(h,d,w,O,V,v,E=!1){super(h,d,v.delay),this.keyframes=w,this.preStyleProps=O,this.postStyleProps=V,this._stretchStartingKeyframe=E,this.timings={duration:v.duration,delay:v.delay,easing:v.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:d,duration:w,easing:O}=this.timings;if(this._stretchStartingKeyframe&&d){const V=[],v=w+d,E=d/v,L=Wn(h[0]);L.set("offset",0),V.push(L);const K=Wn(h[0]);K.set("offset",_o(E)),V.push(K);const ge=h.length-1;for(let $e=1;$e<=ge;$e++){let Ft=Wn(h[$e]);const jt=Ft.get("offset");Ft.set("offset",_o((d+jt*w)/v)),V.push(Ft)}w=v,d=0,O="",h=V}return mo(this.element,h,this.preStyleProps,this.postStyleProps,w,d,O,!0)}}function _o(m,h=3){const d=Math.pow(10,h-1);return Math.round(m*d)/d}class $i{}const Ss=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wo extends $i{normalizePropertyName(h,d){return Rn(h)}normalizeStyleValue(h,d,w,O){let V="";const v=w.toString().trim();if(Ss.has(d)&&0!==w&&"0"!==w)if("number"==typeof w)V="px";else{const E=w.match(/^[+-]?[\d\.]+([a-z]*)$/);E&&0==E[1].length&&O.push(function kt(m,h){return new M.vHH(3005,!1)}())}return v+V}}function Cs(m,h,d,w,O,V,v,E,L,K,ge,$e,Ft){return{type:0,element:m,triggerName:h,isRemovalTransition:O,fromState:d,fromStyles:V,toState:w,toStyles:v,timelines:E,queriedElements:L,preStyleProps:K,postStyleProps:ge,totalTime:$e,errors:Ft}}const As={};class jr{constructor(h,d,w){this._triggerName=h,this.ast=d,this._stateStyles=w}match(h,d,w,O){return function os(m,h,d,w,O){return m.some(V=>V(h,d,w,O))}(this.ast.matchers,h,d,w,O)}buildStyles(h,d,w){let O=this._stateStyles.get("*");return void 0!==h&&(O=this._stateStyles.get(h?.toString())||O),O?O.buildStyles(d,w):new Map}build(h,d,w,O,V,v,E,L,K,ge){const $e=[],Ft=this.ast.options&&this.ast.options.params||As,Le=this.buildStyles(w,E&&E.params||As,$e),Ht=L&&L.params||As,Sn=this.buildStyles(O,Ht,$e),gr=new Set,Dt=new Map,Ut=new Map,Mr="void"===O,Pt={params:Kr(Ht,Ft),delay:this.ast.options?.delay},Ze=ge?[]:vo(h,d,this.ast.animation,V,v,Le,Sn,Pt,K,$e);let ht=0;if(Ze.forEach(us=>{ht=Math.max(us.duration+us.delay,ht)}),$e.length)return Cs(d,this._triggerName,w,O,Mr,Le,Sn,[],[],Dt,Ut,ht,$e);Ze.forEach(us=>{const Ks=us.element,Ba=fr(Dt,Ks,new Set);us.preStyleProps.forEach(ga=>Ba.add(ga));const Ji=fr(Ut,Ks,new Set);us.postStyleProps.forEach(ga=>Ji.add(ga)),Ks!==d&&gr.add(Ks)});const $r=ct(gr.values());return Cs(d,this._triggerName,w,O,Mr,Le,Sn,Ze,$r,Dt,Ut,ht)}}function Kr(m,h){const d=er(h);for(const w in m)m.hasOwnProperty(w)&&null!=m[w]&&(d[w]=m[w]);return d}class ji{constructor(h,d,w){this.styles=h,this.defaultParams=d,this.normalizer=w}buildStyles(h,d){const w=new Map,O=er(this.defaultParams);return Object.keys(h).forEach(V=>{const v=h[V];null!==v&&(O[V]=v)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((v,E)=>{v&&(v=et(v,O,d));const L=this.normalizer.normalizePropertyName(E,d);v=this.normalizer.normalizeStyleValue(E,L,v,d),w.set(E,v)})}),w}}class ei{constructor(h,d,w){this.name=h,this.ast=d,this._normalizer=w,this.transitionFactories=[],this.states=new Map,d.states.forEach(O=>{this.states.set(O.name,new ji(O.style,O.options&&O.options.params||{},w))}),Fo(this.states,"true","1"),Fo(this.states,"false","0"),d.transitions.forEach(O=>{this.transitionFactories.push(new jr(h,O,this.states))}),this.fallbackTransition=function Js(m,h,d){return new jr(m,{type:1,animation:{type:2,steps:[],options:null},matchers:[(v,E)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,d,w,O){return this.transitionFactories.find(v=>v.match(h,d,w,O))||null}matchStyles(h,d,w){return this.fallbackTransition.buildStyles(h,d,w)}}function Fo(m,h,d){m.has(h)?m.has(d)||m.set(d,m.get(h)):m.has(d)&&m.set(h,m.get(d))}const lr=new yo;class ii{constructor(h,d,w){this.bodyNode=h,this._driver=d,this._normalizer=w,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,d){const w=[],O=[],V=Fi(this._driver,d,w,O);if(w.length)throw function pn(m){return new M.vHH(3503,!1)}();this._animations.set(h,V)}_buildPlayer(h,d,w){const O=h.element,V=Jn(0,this._normalizer,0,h.keyframes,d,w);return this._driver.animate(O,V,h.duration,h.delay,h.easing,[],!0)}create(h,d,w={}){const O=[],V=this._animations.get(h);let v;const E=new Map;if(V?(v=vo(this._driver,d,V,Qt,dn,new Map,new Map,w,lr,O),v.forEach(ge=>{const $e=fr(E,ge.element,new Map);ge.postStyleProps.forEach(Ft=>$e.set(Ft,null))})):(O.push(function Gt(){return new M.vHH(3300,!1)}()),v=[]),O.length)throw function Ct(m){return new M.vHH(3504,!1)}();E.forEach((ge,$e)=>{ge.forEach((Ft,jt)=>{ge.set(jt,this._driver.computeStyle($e,jt,at))})});const K=Xn(v.map(ge=>{const $e=E.get(ge.element);return this._buildPlayer(ge,new Map,$e)}));return this._playersById.set(h,K),K.onDestroy(()=>this.destroy(h)),this.players.push(K),K}destroy(h){const d=this._getPlayer(h);d.destroy(),this._playersById.delete(h);const w=this.players.indexOf(d);w>=0&&this.players.splice(w,1)}_getPlayer(h){const d=this._playersById.get(h);if(!d)throw function dr(m){return new M.vHH(3301,!1)}();return d}listen(h,d,w,O){const V=xr(d,"","","");return $n(this._getPlayer(h),w,V,O),()=>{}}command(h,d,w,O){if("register"==w)return void this.register(h,O[0]);if("create"==w)return void this.create(h,d,O[0]||{});const V=this._getPlayer(h);switch(w){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(h)}}}const Hs="ng-animate-queued",Uo="ng-animate-disabled",Nn=[],xs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Di="__ng_removed";class zi{get params(){return this.options.params}constructor(h,d=""){this.namespaceId=d;const w=h&&h.hasOwnProperty("value");if(this.value=function Ps(m){return m??null}(w?h.value:h),w){const V=er(h);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const d=h.params;if(d){const w=this.options.params;Object.keys(d).forEach(O=>{null==w[O]&&(w[O]=d[O])})}}}const Mi="void",Ms=new zi(Mi);class Bo{constructor(h,d,w){this.id=h,this.hostElement=d,this._engine=w,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,hi(d,this._hostClassName)}listen(h,d,w,O){if(!this._triggers.has(d))throw function Ar(m,h){return new M.vHH(3302,!1)}();if(null==w||0==w.length)throw function ur(m){return new M.vHH(3303,!1)}();if(!function qr(m){return"start"==m||"done"==m}(w))throw function Fr(m,h){return new M.vHH(3400,!1)}();const V=fr(this._elementListeners,h,[]),v={name:d,phase:w,callback:O};V.push(v);const E=fr(this._engine.statesByElement,h,new Map);return E.has(d)||(hi(h,Oe),hi(h,Oe+"-"+d),E.set(d,Ms)),()=>{this._engine.afterFlush(()=>{const L=V.indexOf(v);L>=0&&V.splice(L,1),this._triggers.has(d)||E.delete(d)})}}register(h,d){return!this._triggers.has(h)&&(this._triggers.set(h,d),!0)}_getTrigger(h){const d=this._triggers.get(h);if(!d)throw function br(m){return new M.vHH(3401,!1)}();return d}trigger(h,d,w,O=!0){const V=this._getTrigger(d),v=new tt(this.id,d,h);let E=this._engine.statesByElement.get(h);E||(hi(h,Oe),hi(h,Oe+"-"+d),this._engine.statesByElement.set(h,E=new Map));let L=E.get(d);const K=new zi(w,this.id);if(!(w&&w.hasOwnProperty("value"))&&L&&K.absorbOptions(L.options),E.set(d,K),L||(L=Ms),K.value!==Mi&&L.value===K.value){if(!function oi(m,h){const d=Object.keys(m),w=Object.keys(h);if(d.length!=w.length)return!1;for(let O=0;O<d.length;O++){const V=d[O];if(!h.hasOwnProperty(V)||m[V]!==h[V])return!1}return!0}(L.params,K.params)){const Ht=[],Sn=V.matchStyles(L.value,L.params,Ht),gr=V.matchStyles(K.value,K.params,Ht);Ht.length?this._engine.reportError(Ht):this._engine.afterFlush(()=>{Wr(h,Sn),nr(h,gr)})}return}const Ft=fr(this._engine.playersByElement,h,[]);Ft.forEach(Ht=>{Ht.namespaceId==this.id&&Ht.triggerName==d&&Ht.queued&&Ht.destroy()});let jt=V.matchTransition(L.value,K.value,h,K.params),Le=!1;if(!jt){if(!O)return;jt=V.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:d,transition:jt,fromState:L,toState:K,player:v,isFallbackTransition:Le}),Le||(hi(h,Hs),v.onStart(()=>{as(h,Hs)})),v.onDone(()=>{let Ht=this.players.indexOf(v);Ht>=0&&this.players.splice(Ht,1);const Sn=this._engine.playersByElement.get(h);if(Sn){let gr=Sn.indexOf(v);gr>=0&&Sn.splice(gr,1)}}),this.players.push(v),Ft.push(v),v}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(d=>d.delete(h)),this._elementListeners.forEach((d,w)=>{this._elementListeners.set(w,d.filter(O=>O.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const d=this._engine.playersByElement.get(h);d&&(d.forEach(w=>w.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,d){const w=this._engine.driver.query(h,G,!0);w.forEach(O=>{if(O[Di])return;const V=this._engine.fetchNamespacesByElement(O);V.size?V.forEach(v=>v.triggerLeaveAnimation(O,d,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>w.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(h,d,w,O){const V=this._engine.statesByElement.get(h),v=new Map;if(V){const E=[];if(V.forEach((L,K)=>{if(v.set(K,L.value),this._triggers.has(K)){const ge=this.trigger(h,K,Mi,O);ge&&E.push(ge)}}),E.length)return this._engine.markElementAsRemoved(this.id,h,!0,d,v),w&&Xn(E).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const d=this._elementListeners.get(h),w=this._engine.statesByElement.get(h);if(d&&w){const O=new Set;d.forEach(V=>{const v=V.name;if(O.has(v))return;O.add(v);const L=this._triggers.get(v).fallbackTransition,K=w.get(v)||Ms,ge=new zi(Mi),$e=new tt(this.id,v,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:v,transition:L,fromState:K,toState:ge,player:$e,isFallbackTransition:!0})})}}removeNode(h,d){const w=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,d),this.triggerLeaveAnimation(h,d,!0))return;let O=!1;if(w.totalAnimations){const V=w.players.length?w.playersByQueriedElement.get(h):[];if(V&&V.length)O=!0;else{let v=h;for(;v=v.parentNode;)if(w.statesByElement.get(v)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(h),O)w.markElementAsRemoved(this.id,h,!1,d);else{const V=h[Di];(!V||V===xs)&&(w.afterFlush(()=>this.clearElementCache(h)),w.destroyInnerAnimations(h),w._onRemovalComplete(h,d))}}insertNode(h,d){hi(h,this._hostClassName)}drainQueuedTransitions(h){const d=[];return this._queue.forEach(w=>{const O=w.player;if(O.destroyed)return;const V=w.element,v=this._elementListeners.get(V);v&&v.forEach(E=>{if(E.name==w.triggerName){const L=xr(V,w.triggerName,w.fromState.value,w.toState.value);L._data=h,$n(w.player,E.phase,L,E.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):d.push(w)}),this._queue=[],d.sort((w,O)=>{const V=w.transition.ast.depCount,v=O.transition.ast.depCount;return 0==V||0==v?V-v:this._engine.driver.containsElement(w.element,O.element)?1:-1})}destroy(h){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}elementContainsData(h){let d=!1;return this._elementListeners.has(h)&&(d=!0),d=!!this._queue.find(w=>w.element===h)||d,d}}class Eo{_onRemovalComplete(h,d){this.onRemovalComplete(h,d)}constructor(h,d,w){this.bodyNode=h,this.driver=d,this._normalizer=w,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,V)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(d=>{d.players.forEach(w=>{w.queued&&h.push(w)})}),h}createNamespace(h,d){const w=new Bo(h,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(w,d):(this.newHostElements.set(d,w),this.collectEnterElement(d)),this._namespaceLookup[h]=w}_balanceNamespaceList(h,d){const w=this._namespaceList,O=this.namespacesByHostElement;if(w.length-1>=0){let v=!1,E=this.driver.getParentElement(d);for(;E;){const L=O.get(E);if(L){const K=w.indexOf(L);w.splice(K+1,0,h),v=!0;break}E=this.driver.getParentElement(E)}v||w.unshift(h)}else w.push(h);return O.set(d,h),h}register(h,d){let w=this._namespaceLookup[h];return w||(w=this.createNamespace(h,d)),w}registerTrigger(h,d,w){let O=this._namespaceLookup[h];O&&O.register(d,w)&&this.totalAnimations++}destroy(h,d){if(!h)return;const w=this._fetchNamespace(h);this.afterFlush(()=>{this.namespacesByHostElement.delete(w.hostElement),delete this._namespaceLookup[h];const O=this._namespaceList.indexOf(w);O>=0&&this._namespaceList.splice(O,1)}),this.afterFlushAnimationsDone(()=>w.destroy(d))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const d=new Set,w=this.statesByElement.get(h);if(w)for(let O of w.values())if(O.namespaceId){const V=this._fetchNamespace(O.namespaceId);V&&d.add(V)}return d}trigger(h,d,w,O){if(Ws(d)){const V=this._fetchNamespace(h);if(V)return V.trigger(d,w,O),!0}return!1}insertNode(h,d,w,O){if(!Ws(d))return;const V=d[Di];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const v=this.collectedLeaveElements.indexOf(d);v>=0&&this.collectedLeaveElements.splice(v,1)}if(h){const v=this._fetchNamespace(h);v&&v.insertNode(d,w)}O&&this.collectEnterElement(d)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,d){d?this.disabledNodes.has(h)||(this.disabledNodes.add(h),hi(h,Uo)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),as(h,Uo))}removeNode(h,d,w,O){if(Ws(d)){const V=h?this._fetchNamespace(h):null;if(V?V.removeNode(d,O):this.markElementAsRemoved(h,d,!1,O),w){const v=this.namespacesByHostElement.get(d);v&&v.id!==h&&v.removeNode(d,O)}}else this._onRemovalComplete(d,O)}markElementAsRemoved(h,d,w,O,V){this.collectedLeaveElements.push(d),d[Di]={namespaceId:h,setForRemoval:O,hasAnimation:w,removedBeforeQueried:!1,previousTriggersValues:V}}listen(h,d,w,O,V){return Ws(d)?this._fetchNamespace(h).listen(d,w,O,V):()=>{}}_buildInstruction(h,d,w,O,V){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,w,O,h.fromState.options,h.toState.options,d,V)}destroyInnerAnimations(h){let d=this.driver.query(h,G,!0);d.forEach(w=>this.destroyActiveAnimationsForElement(w)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(h,De,!0),d.forEach(w=>this.finishActiveQueriedAnimationOnElement(w)))}destroyActiveAnimationsForElement(h){const d=this.playersByElement.get(h);d&&d.forEach(w=>{w.queued?w.markedForDestroy=!0:w.destroy()})}finishActiveQueriedAnimationOnElement(h){const d=this.playersByQueriedElement.get(h);d&&d.forEach(w=>w.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Xn(this.players).onDone(()=>h());h()})}processLeaveNode(h){const d=h[Di];if(d&&d.setForRemoval){if(h[Di]=xs,d.namespaceId){this.destroyInnerAnimations(h);const w=this._fetchNamespace(d.namespaceId);w&&w.clearElementCache(h)}this._onRemovalComplete(h,d.setForRemoval)}h.classList?.contains(Uo)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(w=>{this.markElementAsDisabled(w,!1)})}flush(h=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((w,O)=>this._balanceNamespaceList(w,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let w=0;w<this.collectedEnterElements.length;w++)hi(this.collectedEnterElements[w],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const w=[];try{d=this._flushAnimations(w,h)}finally{for(let O=0;O<w.length;O++)w[O]()}}else for(let w=0;w<this.collectedLeaveElements.length;w++)this.processLeaveNode(this.collectedLeaveElements[w]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(w=>w()),this._flushFns=[],this._whenQuietFns.length){const w=this._whenQuietFns;this._whenQuietFns=[],d.length?Xn(d).onDone(()=>{w.forEach(O=>O())}):w.forEach(O=>O())}}reportError(h){throw function hr(m){return new M.vHH(3402,!1)}()}_flushAnimations(h,d){const w=new yo,O=[],V=new Map,v=[],E=new Map,L=new Map,K=new Map,ge=new Set;this.disabledNodes.forEach(En=>{ge.add(En);const sn=this.driver.query(En,".ng-animate-queued",!0);for(let Ln=0;Ln<sn.length;Ln++)ge.add(sn[Ln])});const $e=this.bodyNode,Ft=Array.from(this.statesByElement.keys()),jt=Pi(Ft,this.collectedEnterElements),Le=new Map;let Ht=0;jt.forEach((En,sn)=>{const Ln=Qt+Ht++;Le.set(sn,Ln),En.forEach(Er=>hi(Er,Ln))});const Sn=[],gr=new Set,Dt=new Set;for(let En=0;En<this.collectedLeaveElements.length;En++){const sn=this.collectedLeaveElements[En],Ln=sn[Di];Ln&&Ln.setForRemoval&&(Sn.push(sn),gr.add(sn),Ln.hasAnimation?this.driver.query(sn,".ng-star-inserted",!0).forEach(Er=>gr.add(Er)):Dt.add(sn))}const Ut=new Map,Mr=Pi(Ft,Array.from(gr));Mr.forEach((En,sn)=>{const Ln=dn+Ht++;Ut.set(sn,Ln),En.forEach(Er=>hi(Er,Ln))}),h.push(()=>{jt.forEach((En,sn)=>{const Ln=Le.get(sn);En.forEach(Er=>as(Er,Ln))}),Mr.forEach((En,sn)=>{const Ln=Ut.get(sn);En.forEach(Er=>as(Er,Ln))}),Sn.forEach(En=>{this.processLeaveNode(En)})});const Pt=[],Ze=[];for(let En=this._namespaceList.length-1;En>=0;En--)this._namespaceList[En].drainQueuedTransitions(d).forEach(Ln=>{const Er=Ln.player,mn=Ln.element;if(Pt.push(Er),this.collectedEnterElements.length){const _i=mn[Di];if(_i&&_i.setForMove){if(_i.previousTriggersValues&&_i.previousTriggersValues.has(Ln.triggerName)){const Rr=_i.previousTriggersValues.get(Ln.triggerName),Rt=this.statesByElement.get(Ln.element);if(Rt&&Rt.has(Ln.triggerName)){const ks=Rt.get(Ln.triggerName);ks.value=Rr,Rt.set(Ln.triggerName,ks)}}return void Er.destroy()}}const Ni=!$e||!this.driver.containsElement($e,mn),ls=Ut.get(mn),Pr=Le.get(mn),xt=this._buildInstruction(Ln,w,Pr,ls,Ni);if(xt.errors&&xt.errors.length)return void Ze.push(xt);if(Ni)return Er.onStart(()=>Wr(mn,xt.fromStyles)),Er.onDestroy(()=>nr(mn,xt.toStyles)),void O.push(Er);if(Ln.isFallbackTransition)return Er.onStart(()=>Wr(mn,xt.fromStyles)),Er.onDestroy(()=>nr(mn,xt.toStyles)),void O.push(Er);const li=[];xt.timelines.forEach(_i=>{_i.stretchStartingKeyframe=!0,this.disabledNodes.has(_i.element)||li.push(_i)}),xt.timelines=li,w.append(mn,xt.timelines),v.push({instruction:xt,player:Er,element:mn}),xt.queriedElements.forEach(_i=>fr(E,_i,[]).push(Er)),xt.preStyleProps.forEach((_i,Rr)=>{if(_i.size){let Rt=L.get(Rr);Rt||L.set(Rr,Rt=new Set),_i.forEach((ks,ma)=>Rt.add(ma))}}),xt.postStyleProps.forEach((_i,Rr)=>{let Rt=K.get(Rr);Rt||K.set(Rr,Rt=new Set),_i.forEach((ks,ma)=>Rt.add(ma))})});if(Ze.length){const En=[];Ze.forEach(sn=>{En.push(function qn(m,h){return new M.vHH(3505,!1)}())}),Pt.forEach(sn=>sn.destroy()),this.reportError(En)}const ht=new Map,$r=new Map;v.forEach(En=>{const sn=En.element;w.has(sn)&&($r.set(sn,sn),this._beforeAnimationBuild(En.player.namespaceId,En.instruction,ht))}),O.forEach(En=>{const sn=En.element;this._getPreviousPlayers(sn,!1,En.namespaceId,En.triggerName,null).forEach(Er=>{fr(ht,sn,[]).push(Er),Er.destroy()})});const us=Sn.filter(En=>Xr(En,L,K)),Ks=new Map;Gs(Ks,this.driver,Dt,K,at).forEach(En=>{Xr(En,L,K)&&us.push(En)});const Ji=new Map;jt.forEach((En,sn)=>{Gs(Ji,this.driver,new Set(En),L,st)}),us.forEach(En=>{const sn=Ks.get(En),Ln=Ji.get(En);Ks.set(En,new Map([...Array.from(sn?.entries()??[]),...Array.from(Ln?.entries()??[])]))});const ga=[],Va=[],ao={};v.forEach(En=>{const{element:sn,player:Ln,instruction:Er}=En;if(w.has(sn)){if(ge.has(sn))return Ln.onDestroy(()=>nr(sn,Er.toStyles)),Ln.disabled=!0,Ln.overrideTotalTime(Er.totalTime),void O.push(Ln);let mn=ao;if($r.size>1){let ls=sn;const Pr=[];for(;ls=ls.parentNode;){const xt=$r.get(ls);if(xt){mn=xt;break}Pr.push(ls)}Pr.forEach(xt=>$r.set(xt,mn))}const Ni=this._buildAnimation(Ln.namespaceId,Er,ht,V,Ji,Ks);if(Ln.setRealPlayer(Ni),mn===ao)ga.push(Ln);else{const ls=this.playersByElement.get(mn);ls&&ls.length&&(Ln.parentPlayer=Xn(ls)),O.push(Ln)}}else Wr(sn,Er.fromStyles),Ln.onDestroy(()=>nr(sn,Er.toStyles)),Va.push(Ln),ge.has(sn)&&O.push(Ln)}),Va.forEach(En=>{const sn=V.get(En.element);if(sn&&sn.length){const Ln=Xn(sn);En.setRealPlayer(Ln)}}),O.forEach(En=>{En.parentPlayer?En.syncPlayerEvents(En.parentPlayer):En.destroy()});for(let En=0;En<Sn.length;En++){const sn=Sn[En],Ln=sn[Di];if(as(sn,dn),Ln&&Ln.hasAnimation)continue;let Er=[];if(E.size){let Ni=E.get(sn);Ni&&Ni.length&&Er.push(...Ni);let ls=this.driver.query(sn,De,!0);for(let Pr=0;Pr<ls.length;Pr++){let xt=E.get(ls[Pr]);xt&&xt.length&&Er.push(...xt)}}const mn=Er.filter(Ni=>!Ni.destroyed);mn.length?Io(this,sn,mn):this.processLeaveNode(sn)}return Sn.length=0,ga.forEach(En=>{this.players.push(En),En.onDone(()=>{En.destroy();const sn=this.players.indexOf(En);this.players.splice(sn,1)}),En.play()}),ga}elementContainsData(h,d){let w=!1;const O=d[Di];return O&&O.setForRemoval&&(w=!0),this.playersByElement.has(d)&&(w=!0),this.playersByQueriedElement.has(d)&&(w=!0),this.statesByElement.has(d)&&(w=!0),this._fetchNamespace(h).elementContainsData(d)||w}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,d,w,O,V){let v=[];if(d){const E=this.playersByQueriedElement.get(h);E&&(v=E)}else{const E=this.playersByElement.get(h);if(E){const L=!V||V==Mi;E.forEach(K=>{K.queued||!L&&K.triggerName!=O||v.push(K)})}}return(w||O)&&(v=v.filter(E=>!(w&&w!=E.namespaceId||O&&O!=E.triggerName))),v}_beforeAnimationBuild(h,d,w){const V=d.element,v=d.isRemovalTransition?void 0:h,E=d.isRemovalTransition?void 0:d.triggerName;for(const L of d.timelines){const K=L.element,ge=K!==V,$e=fr(w,K,[]);this._getPreviousPlayers(K,ge,v,E,d.toState).forEach(jt=>{const Le=jt.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),jt.destroy(),$e.push(jt)})}Wr(V,d.fromStyles)}_buildAnimation(h,d,w,O,V,v){const E=d.triggerName,L=d.element,K=[],ge=new Set,$e=new Set,Ft=d.timelines.map(Le=>{const Ht=Le.element;ge.add(Ht);const Sn=Ht[Di];if(Sn&&Sn.removedBeforeQueried)return new Ge(Le.duration,Le.delay);const gr=Ht!==L,Dt=function yi(m){const h=[];return Rs(m,h),h}((w.get(Ht)||Nn).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===Ht),Ut=V.get(Ht),Mr=v.get(Ht),Pt=Jn(0,this._normalizer,0,Le.keyframes,Ut,Mr),Ze=this._buildPlayer(Le,Pt,Dt);if(Le.subTimeline&&O&&$e.add(Ht),gr){const ht=new tt(h,E,Ht);ht.setRealPlayer(Ze),K.push(ht)}return Ze});K.forEach(Le=>{fr(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function Un(m,h,d){let w=m.get(h);if(w){if(w.length){const O=w.indexOf(d);w.splice(O,1)}0==w.length&&m.delete(h)}return w}(this.playersByQueriedElement,Le.element,Le))}),ge.forEach(Le=>hi(Le,ne));const jt=Xn(Ft);return jt.onDestroy(()=>{ge.forEach(Le=>as(Le,ne)),nr(L,d.toStyles)}),$e.forEach(Le=>{fr(O,Le,[]).push(jt)}),jt}_buildPlayer(h,d,w){return d.length>0?this.driver.animate(h.element,d,h.duration,h.delay,h.easing,w):new Ge(h.duration,h.delay)}}class tt{constructor(h,d,w){this.namespaceId=h,this.triggerName=d,this.element=w,this._player=new Ge,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((d,w)=>{d.forEach(O=>$n(h,w,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const d=this._player;d.triggerCallback&&h.onStart(()=>d.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,d){fr(this._queuedCallbacks,h,[]).push(d)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const d=this._player;d.triggerCallback&&d.triggerCallback(h)}}function Ws(m){return m&&1===m.nodeType}function no(m,h){const d=m.style.display;return m.style.display=h??"none",d}function Gs(m,h,d,w,O){const V=[];d.forEach(L=>V.push(no(L)));const v=[];w.forEach((L,K)=>{const ge=new Map;L.forEach($e=>{const Ft=h.computeStyle(K,$e,O);ge.set($e,Ft),(!Ft||0==Ft.length)&&(K[Di]=gs,v.push(K))}),m.set(K,ge)});let E=0;return d.forEach(L=>no(L,V[E++])),v}function Pi(m,h){const d=new Map;if(m.forEach(E=>d.set(E,[])),0==h.length)return d;const w=1,O=new Set(h),V=new Map;function v(E){if(!E)return w;let L=V.get(E);if(L)return L;const K=E.parentNode;return L=d.has(K)?K:O.has(K)?w:v(K),V.set(E,L),L}return h.forEach(E=>{const L=v(E);L!==w&&d.get(L).push(E)}),d}function hi(m,h){m.classList?.add(h)}function as(m,h){m.classList?.remove(h)}function Io(m,h,d){Xn(d).onDone(()=>m.processLeaveNode(h))}function Rs(m,h){for(let d=0;d<m.length;d++){const w=m[d];w instanceof it?Rs(w.players,h):h.push(w)}}function Xr(m,h,d){const w=d.get(m);if(!w)return!1;let O=h.get(m);return O?w.forEach(V=>O.add(V)):h.set(m,w),d.delete(m),!0}class Zi{constructor(h,d,w){this.bodyNode=h,this._driver=d,this._normalizer=w,this._triggerCache={},this.onRemovalComplete=(O,V)=>{},this._transitionEngine=new Eo(h,d,w),this._timelineEngine=new ii(h,d,w),this._transitionEngine.onRemovalComplete=(O,V)=>this.onRemovalComplete(O,V)}registerTrigger(h,d,w,O,V){const v=h+"-"+O;let E=this._triggerCache[v];if(!E){const L=[],K=[],ge=Fi(this._driver,V,L,K);if(L.length)throw function Vr(m,h){return new M.vHH(3404,!1)}();E=function Xs(m,h,d){return new ei(m,h,d)}(O,ge,this._normalizer),this._triggerCache[v]=E}this._transitionEngine.registerTrigger(d,O,E)}register(h,d){this._transitionEngine.register(h,d)}destroy(h,d){this._transitionEngine.destroy(h,d)}onInsert(h,d,w,O){this._transitionEngine.insertNode(h,d,w,O)}onRemove(h,d,w,O){this._transitionEngine.removeNode(h,d,O||!1,w)}disableAnimations(h,d){this._transitionEngine.markElementAsDisabled(h,d)}process(h,d,w,O){if("@"==w.charAt(0)){const[V,v]=kr(w);this._timelineEngine.command(V,d,v,O)}else this._transitionEngine.trigger(h,d,w,O)}listen(h,d,w,O,V){if("@"==w.charAt(0)){const[v,E]=kr(w);return this._timelineEngine.listen(v,d,E,V)}return this._transitionEngine.listen(h,d,w,O,V)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Yi=(()=>{class m{constructor(d,w,O){this._element=d,this._startStyles=w,this._endStyles=O,this._state=0;let V=m.initialStylesByElement.get(d);V||m.initialStylesByElement.set(d,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nr(this._element,this._initialStyles),this._endStyles&&(nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(Wr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wr(this._element,this._endStyles),this._endStyles=null),nr(this._element,this._initialStyles),this._state=3)}}return m.initialStylesByElement=new WeakMap,m})();function ro(m){let h=null;return m.forEach((d,w)=>{(function ys(m){return"display"===m||"position"===m})(w)&&(h=h||new Map,h.set(w,d))}),h}class Ti{constructor(h,d,w,O){this.element=h,this.keyframes=d,this.options=w,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=w.duration,this._delay=w.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const d=[];return h.forEach(w=>{d.push(Object.fromEntries(w))}),d}_triggerWebAnimation(h,d,w){return h.animate(this._convertKeyframesToObject(d),w)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((w,O)=>{"offset"!==O&&h.set(O,this._finished?w:Qr(this.element,O))}),this.currentSnapshot=h}triggerCallback(h){const d="start"===h?this._onStartFns:this._onDoneFns;d.forEach(w=>w()),d.length=0}}class fa{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,d){return!1}containsElement(h,d){return lt(h,d)}getParentElement(h){return te(h)}query(h,d,w){return nn(h,d,w)}computeStyle(h,d,w){return window.getComputedStyle(h)[d]}animate(h,d,w,O,V,v=[]){const L={duration:w,delay:O,fill:0==O?"both":"forwards"};V&&(L.easing=V);const K=new Map,ge=v.filter(jt=>jt instanceof Ti);(function jn(m,h){return 0===m||0===h})(w,O)&&ge.forEach(jt=>{jt.currentSnapshot.forEach((Le,Ht)=>K.set(Ht,Le))});let $e=function At(m){return m.length?m[0]instanceof Map?m:m.map(h=>_r(h)):[]}(d).map(jt=>Wn(jt));$e=function ni(m,h,d){if(d.size&&h.length){let w=h[0],O=[];if(d.forEach((V,v)=>{w.has(v)||O.push(v),w.set(v,V)}),O.length)for(let V=1;V<h.length;V++){let v=h[V];O.forEach(E=>v.set(E,Qr(m,E)))}}return h}(h,$e,K);const Ft=function ms(m,h){let d=null,w=null;return Array.isArray(h)&&h.length?(d=ro(h[0]),h.length>1&&(w=ro(h[h.length-1]))):h instanceof Map&&(d=ro(h)),d||w?new Yi(m,d,w):null}(h,$e);return new Ti(h,$e,L,Ft)}}let Zr=(()=>{class m extends Tt{constructor(d,w){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(w.body,{id:"0",encapsulation:M.ifc.None,styles:[],data:{animation:[]}})}build(d){const w=this._nextAnimationId.toString();this._nextAnimationId++;const O=Array.isArray(d)?Je(d):d;return Si(this._renderer,null,w,"register",[O]),new Qi(w,this._renderer)}}return m.\u0275fac=function(d){return new(d||m)(M.LFG(M.FYo),M.LFG(fe.K0))},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac}),m})();class Qi extends Ve{constructor(h,d){super(),this._id=h,this._renderer=d}create(h,d){return new bo(this._id,h,d||{},this._renderer)}}class bo{constructor(h,d,w,O){this.id=h,this.element=d,this._renderer=O,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",w)}_listen(h,d){return this._renderer.listen(this.element,`@@${this.id}:${h}`,d)}_command(h,...d){return Si(this._renderer,this.element,this.id,h,d)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Si(m,h,d,w,O){return m.setProperty(h,`@@${d}:${w}`,O)}const Sr="@.disabled";let Do=(()=>{class m{constructor(d,w,O){this.delegate=d,this.engine=w,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),w.onRemovalComplete=(V,v)=>{const E=v?.parentNode(V);E&&v.removeChild(E,V)}}createRenderer(d,w){const V=this.delegate.createRenderer(d,w);if(!(d&&w&&w.data&&w.data.animation)){let ge=this._rendererCache.get(V);return ge||(ge=new To("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,ge)),ge}const v=w.id,E=w.id+"-"+this._currentId;this._currentId++,this.engine.register(E,d);const L=ge=>{Array.isArray(ge)?ge.forEach(L):this.engine.registerTrigger(v,E,d,ge.name,ge)};return w.data.animation.forEach(L),new Ri(this,E,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,w,O){d>=0&&d<this._microtaskId?this._zone.run(()=>w(O)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[v,E]=V;v(E)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([w,O]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return m.\u0275fac=function(d){return new(d||m)(M.LFG(M.FYo),M.LFG(Zi),M.LFG(M.R0b))},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac}),m})();class To{constructor(h,d,w,O){this.namespaceId=h,this.delegate=d,this.engine=w,this._onDestroy=O,this.destroyNode=this.delegate.destroyNode?V=>d.destroyNode(V):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(h,d){return this.delegate.createElement(h,d)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,d){this.delegate.appendChild(h,d),this.engine.onInsert(this.namespaceId,d,h,!1)}insertBefore(h,d,w,O=!0){this.delegate.insertBefore(h,d,w),this.engine.onInsert(this.namespaceId,d,h,O)}removeChild(h,d,w){this.engine.onRemove(this.namespaceId,d,this.delegate,w)}selectRootElement(h,d){return this.delegate.selectRootElement(h,d)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,d,w,O){this.delegate.setAttribute(h,d,w,O)}removeAttribute(h,d,w){this.delegate.removeAttribute(h,d,w)}addClass(h,d){this.delegate.addClass(h,d)}removeClass(h,d){this.delegate.removeClass(h,d)}setStyle(h,d,w,O){this.delegate.setStyle(h,d,w,O)}removeStyle(h,d,w){this.delegate.removeStyle(h,d,w)}setProperty(h,d,w){"@"==d.charAt(0)&&d==Sr?this.disableAnimations(h,!!w):this.delegate.setProperty(h,d,w)}setValue(h,d){this.delegate.setValue(h,d)}listen(h,d,w){return this.delegate.listen(h,d,w)}disableAnimations(h,d){this.engine.disableAnimations(h,d)}}class Ri extends To{constructor(h,d,w,O,V){super(d,w,O,V),this.factory=h,this.namespaceId=d}setProperty(h,d,w){"@"==d.charAt(0)?"."==d.charAt(1)&&d==Sr?this.disableAnimations(h,w=void 0===w||!!w):this.engine.process(this.namespaceId,h,d.slice(1),w):this.delegate.setProperty(h,d,w)}listen(h,d,w){if("@"==d.charAt(0)){const O=function io(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(h);let V=d.slice(1),v="";return"@"!=V.charAt(0)&&([V,v]=function so(m){const h=m.indexOf(".");return[m.substring(0,h),m.slice(h+1)]}(V)),this.engine.listen(this.namespaceId,O,V,v,E=>{this.factory.scheduleListenerCallback(E._data||-1,w,E)})}return this.delegate.listen(h,d,w)}}const Ur=[{provide:Tt,useClass:Zr},{provide:$i,useFactory:function Os(){return new wo}},{provide:Zi,useClass:(()=>{class m extends Zi{constructor(d,w,O,V){super(d.body,w,O)}ngOnDestroy(){this.flush()}}return m.\u0275fac=function(d){return new(d||m)(M.LFG(fe.K0),M.LFG(rn),M.LFG($i),M.LFG(M.z2F))},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac}),m})()},{provide:M.FYo,useFactory:function So(m,h,d){return new Do(m,h,d)},deps:[I.se,Zi,M.R0b]}],Br=[{provide:rn,useFactory:()=>new fa},{provide:M.QbO,useValue:"BrowserAnimations"},...Ur],zn=[{provide:rn,useClass:gt},{provide:M.QbO,useValue:"NoopAnimations"},...Ur];let Co=(()=>{class m{static withConfig(d){return{ngModule:m,providers:d.disableAnimations?zn:Br}}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=M.oAB({type:m}),m.\u0275inj=M.cJS({providers:Br,imports:[I.b2]}),m})();var qo=j(3692);const vi={firebase:{projectId:"tp-sala-juegos-983f5",appId:"1:97671581526:web:8bcb87cfb5d2d2c56810f7",storageBucket:"tp-sala-juegos-983f5.appspot.com",apiKey:"AIzaSyDa5YYw6VgCpzMKHG70iPXSXHq3hDrK-8I",authDomain:"tp-sala-juegos-983f5.firebaseapp.com",messagingSenderId:"97671581526"}};var vs=j(7158),sa=j(2011);let Zo=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=M.oAB({type:m,bootstrap:[wt]}),m.\u0275inj=M.cJS({providers:[ae.X,{provide:sa.Dh,useValue:vi.firebase}],imports:[I.b2,Xe,Co,(0,qo.hX)(()=>(0,qo.ZF)(vi.firebase)),(0,vs.AR)(()=>(0,vs.v0)()),(0,Qe.Cm)(()=>(0,Qe.ad)())]}),m})();I.q6().bootstrapModule(Zo).catch(m=>console.error(m))},9751:(Jt,Me,j)=>{"use strict";j.d(Me,{y:()=>de});var I=j(2961),F=j(727),M=j(8822),ae=j(9635),fe=j(2416),Ce=j(576),Ie=j(2806);let de=(()=>{class Ee{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const wt=new Ee;return wt.source=this,wt.operator=Qe,wt}subscribe(Qe,wt,Tt){const Ve=function he(Ee){return Ee&&Ee instanceof I.Lv||function ie(Ee){return Ee&&(0,Ce.m)(Ee.next)&&(0,Ce.m)(Ee.error)&&(0,Ce.m)(Ee.complete)}(Ee)&&(0,F.Nn)(Ee)}(Qe)?Qe:new I.Hp(Qe,wt,Tt);return(0,Ie.x)(()=>{const{operator:at,source:He}=this;Ve.add(at?at.call(Ve,He):He?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(wt){Qe.error(wt)}}forEach(Qe,wt){return new(wt=ke(wt))((Tt,Ve)=>{const at=new I.Hp({next:He=>{try{Qe(He)}catch(yt){Ve(yt),at.unsubscribe()}},error:Ve,complete:Tt});this.subscribe(at)})}_subscribe(Qe){var wt;return null===(wt=this.source)||void 0===wt?void 0:wt.subscribe(Qe)}[M.L](){return this}pipe(...Qe){return(0,ae.U)(Qe)(this)}toPromise(Qe){return new(Qe=ke(Qe))((wt,Tt)=>{let Ve;this.subscribe(at=>Ve=at,at=>Tt(at),()=>wt(Ve))})}}return Ee.create=Xe=>new Ee(Xe),Ee})();function ke(Ee){var Xe;return null!==(Xe=Ee??fe.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(Jt,Me,j)=>{"use strict";j.d(Me,{x:()=>Ie});var I=j(9751),F=j(727);const ae=(0,j(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=j(8737),Ce=j(2806);let Ie=(()=>{class ke extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Ee=new de(this,this);return Ee.operator=he,Ee}_throwIfClosed(){if(this.closed)throw new ae}next(he){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(he)}})}error(he){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(he)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Ee,isStopped:Xe,observers:Qe}=this;return Ee||Xe?F.Lc:(this.currentObservers=null,Qe.push(he),new F.w0(()=>{this.currentObservers=null,(0,fe.P)(Qe,he)}))}_checkFinalizedStatuses(he){const{hasError:Ee,thrownError:Xe,isStopped:Qe}=this;Ee?he.error(Xe):Qe&&he.complete()}asObservable(){const he=new I.y;return he.source=this,he}}return ke.create=(ie,he)=>new de(ie,he),ke})();class de extends Ie{constructor(ie,he){super(),this.destination=ie,this.source=he}next(ie){var he,Ee;null===(Ee=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Ee||Ee.call(he,ie)}error(ie){var he,Ee;null===(Ee=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Ee||Ee.call(he,ie)}complete(){var ie,he;null===(he=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===he||he.call(ie)}_subscribe(ie){var he,Ee;return null!==(Ee=null===(he=this.source)||void 0===he?void 0:he.subscribe(ie))&&void 0!==Ee?Ee:F.Lc}}},2961:(Jt,Me,j)=>{"use strict";j.d(Me,{Hp:()=>Tt,Lv:()=>Ee});var I=j(576),F=j(727),M=j(2416),ae=j(7849);function fe(){}const Ce=ke("C",void 0,void 0);function ke(Ye,Je,ut){return{kind:Ye,value:Je,error:ut}}var ie=j(3410),he=j(2806);class Ee extends F.w0{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,F.Nn)(Je)&&Je.add(this)):this.destination=yt}static create(Je,ut,Se){return new Tt(Je,ut,Se)}next(Je){this.isStopped?He(function de(Ye){return ke("N",Ye,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?He(function Ie(Ye){return ke("E",void 0,Ye)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?He(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Qe(Ye,Je){return Xe.call(Ye,Je)}class wt{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:ut}=this;if(ut.next)try{ut.next(Je)}catch(Se){Ve(Se)}}error(Je){const{partialObserver:ut}=this;if(ut.error)try{ut.error(Je)}catch(Se){Ve(Se)}else Ve(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(ut){Ve(ut)}}}class Tt extends Ee{constructor(Je,ut,Se){let pt;if(super(),(0,I.m)(Je)||!Je)pt={next:Je??void 0,error:ut??void 0,complete:Se??void 0};else{let Ue;this&&M.v.useDeprecatedNextContext?(Ue=Object.create(Je),Ue.unsubscribe=()=>this.unsubscribe(),pt={next:Je.next&&Qe(Je.next,Ue),error:Je.error&&Qe(Je.error,Ue),complete:Je.complete&&Qe(Je.complete,Ue)}):pt=Je}this.destination=new wt(pt)}}function Ve(Ye){M.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Ye):(0,ae.h)(Ye)}function He(Ye,Je){const{onStoppedNotification:ut}=M.v;ut&&ie.z.setTimeout(()=>ut(Ye,Je))}const yt={closed:!0,next:fe,error:function at(Ye){throw Ye},complete:fe}},727:(Jt,Me,j)=>{"use strict";j.d(Me,{Lc:()=>Ce,w0:()=>fe,Nn:()=>Ie});var I=j(576);const M=(0,j(3888).d)(ke=>function(he){ke(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Ee,Xe)=>`${Xe+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var ae=j(8737);class fe{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const Qe of he)Qe.remove(this);else he.remove(this);const{initialTeardown:Ee}=this;if((0,I.m)(Ee))try{Ee()}catch(Qe){ie=Qe instanceof M?Qe.errors:[Qe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Qe of Xe)try{de(Qe)}catch(wt){ie=ie??[],wt instanceof M?ie=[...ie,...wt.errors]:ie.push(wt)}}if(ie)throw new M(ie)}}add(ie){var he;if(ie&&ie!==this)if(this.closed)de(ie);else{if(ie instanceof fe){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ie)}}_hasParent(ie){const{_parentage:he}=this;return he===ie||Array.isArray(he)&&he.includes(ie)}_addParent(ie){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ie),he):he?[he,ie]:ie}_removeParent(ie){const{_parentage:he}=this;he===ie?this._parentage=null:Array.isArray(he)&&(0,ae.P)(he,ie)}remove(ie){const{_finalizers:he}=this;he&&(0,ae.P)(he,ie),ie instanceof fe&&ie._removeParent(this)}}fe.EMPTY=(()=>{const ke=new fe;return ke.closed=!0,ke})();const Ce=fe.EMPTY;function Ie(ke){return ke instanceof fe||ke&&"closed"in ke&&(0,I.m)(ke.remove)&&(0,I.m)(ke.add)&&(0,I.m)(ke.unsubscribe)}function de(ke){(0,I.m)(ke)?ke():ke.unsubscribe()}},2416:(Jt,Me,j)=>{"use strict";j.d(Me,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Jt,Me,j)=>{"use strict";j.d(Me,{z:()=>fe});var I=j(8189),M=j(7669),ae=j(8996);function fe(...Ce){return function F(){return(0,I.J)(1)}()((0,ae.D)(Ce,(0,M.yG)(Ce)))}},515:(Jt,Me,j)=>{"use strict";j.d(Me,{E:()=>F});const F=new(j(9751).y)(fe=>fe.complete())},8996:(Jt,Me,j)=>{"use strict";j.d(Me,{D:()=>Je});var I=j(8421),F=j(5363),M=j(9468),Ce=j(9751),de=j(2202),ke=j(576),ie=j(9672);function Ee(ut,Se){if(!ut)throw new Error("Iterable cannot be null");return new Ce.y(pt=>{(0,ie.f)(pt,Se,()=>{const Ue=ut[Symbol.asyncIterator]();(0,ie.f)(pt,Se,()=>{Ue.next().then(It=>{It.done?pt.complete():pt.next(It.value)})},0,!0)})})}var Xe=j(3670),Qe=j(8239),wt=j(1144),Tt=j(6495),Ve=j(2206),at=j(4532),He=j(3260);function Je(ut,Se){return Se?function Ye(ut,Se){if(null!=ut){if((0,Xe.c)(ut))return function ae(ut,Se){return(0,I.Xf)(ut).pipe((0,M.R)(Se),(0,F.Q)(Se))}(ut,Se);if((0,wt.z)(ut))return function Ie(ut,Se){return new Ce.y(pt=>{let Ue=0;return Se.schedule(function(){Ue===ut.length?pt.complete():(pt.next(ut[Ue++]),pt.closed||this.schedule())})})}(ut,Se);if((0,Qe.t)(ut))return function fe(ut,Se){return(0,I.Xf)(ut).pipe((0,M.R)(Se),(0,F.Q)(Se))}(ut,Se);if((0,Ve.D)(ut))return Ee(ut,Se);if((0,Tt.T)(ut))return function he(ut,Se){return new Ce.y(pt=>{let Ue;return(0,ie.f)(pt,Se,()=>{Ue=ut[de.h](),(0,ie.f)(pt,Se,()=>{let It,an;try{({value:It,done:an}=Ue.next())}catch(bt){return void pt.error(bt)}an?pt.complete():pt.next(It)},0,!0)}),()=>(0,ke.m)(Ue?.return)&&Ue.return()})}(ut,Se);if((0,He.L)(ut))return function yt(ut,Se){return Ee((0,He.Q)(ut),Se)}(ut,Se)}throw(0,at.z)(ut)}(ut,Se):(0,I.Xf)(ut)}},8421:(Jt,Me,j)=>{"use strict";j.d(Me,{Xf:()=>Xe});var I=j(655),F=j(1144),M=j(8239),ae=j(9751),fe=j(3670),Ce=j(2206),Ie=j(4532),de=j(6495),ke=j(3260),ie=j(576),he=j(7849),Ee=j(8822);function Xe(Ye){if(Ye instanceof ae.y)return Ye;if(null!=Ye){if((0,fe.c)(Ye))return function Qe(Ye){return new ae.y(Je=>{const ut=Ye[Ee.L]();if((0,ie.m)(ut.subscribe))return ut.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ye);if((0,F.z)(Ye))return function wt(Ye){return new ae.y(Je=>{for(let ut=0;ut<Ye.length&&!Je.closed;ut++)Je.next(Ye[ut]);Je.complete()})}(Ye);if((0,M.t)(Ye))return function Tt(Ye){return new ae.y(Je=>{Ye.then(ut=>{Je.closed||(Je.next(ut),Je.complete())},ut=>Je.error(ut)).then(null,he.h)})}(Ye);if((0,Ce.D)(Ye))return at(Ye);if((0,de.T)(Ye))return function Ve(Ye){return new ae.y(Je=>{for(const ut of Ye)if(Je.next(ut),Je.closed)return;Je.complete()})}(Ye);if((0,ke.L)(Ye))return function He(Ye){return at((0,ke.Q)(Ye))}(Ye)}throw(0,Ie.z)(Ye)}function at(Ye){return new ae.y(Je=>{(function yt(Ye,Je){var ut,Se,pt,Ue;return(0,I.mG)(this,void 0,void 0,function*(){try{for(ut=(0,I.KL)(Ye);!(Se=yield ut.next()).done;)if(Je.next(Se.value),Je.closed)return}catch(It){pt={error:It}}finally{try{Se&&!Se.done&&(Ue=ut.return)&&(yield Ue.call(ut))}finally{if(pt)throw pt.error}}Je.complete()})})(Ye,Je).catch(ut=>Je.error(ut))})}},6451:(Jt,Me,j)=>{"use strict";j.d(Me,{T:()=>Ce});var I=j(8189),F=j(8421),M=j(515),ae=j(7669),fe=j(8996);function Ce(...Ie){const de=(0,ae.yG)(Ie),ke=(0,ae._6)(Ie,1/0),ie=Ie;return ie.length?1===ie.length?(0,F.Xf)(ie[0]):(0,I.J)(ke)((0,fe.D)(ie,de)):M.E}},9646:(Jt,Me,j)=>{"use strict";j.d(Me,{of:()=>M});var I=j(7669),F=j(8996);function M(...ae){const fe=(0,I.yG)(ae);return(0,F.D)(ae,fe)}},5403:(Jt,Me,j)=>{"use strict";j.d(Me,{x:()=>F});var I=j(2961);function F(ae,fe,Ce,Ie,de){return new M(ae,fe,Ce,Ie,de)}class M extends I.Lv{constructor(fe,Ce,Ie,de,ke,ie){super(fe),this.onFinalize=ke,this.shouldUnsubscribe=ie,this._next=Ce?function(he){try{Ce(he)}catch(Ee){fe.error(Ee)}}:super._next,this._error=de?function(he){try{de(he)}catch(Ee){fe.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(he){fe.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6590:(Jt,Me,j)=>{"use strict";j.d(Me,{d:()=>M});var I=j(4482),F=j(5403);function M(ae){return(0,I.e)((fe,Ce)=>{let Ie=!1;fe.subscribe((0,F.x)(Ce,de=>{Ie=!0,Ce.next(de)},()=>{Ie||Ce.next(ae),Ce.complete()}))})}},9300:(Jt,Me,j)=>{"use strict";j.d(Me,{h:()=>M});var I=j(4482),F=j(5403);function M(ae,fe){return(0,I.e)((Ce,Ie)=>{let de=0;Ce.subscribe((0,F.x)(Ie,ke=>ae.call(fe,ke,de++)&&Ie.next(ke)))})}},590:(Jt,Me,j)=>{"use strict";j.d(Me,{P:()=>Ie});var I=j(6805),F=j(9300),M=j(5698),ae=j(6590),fe=j(8068),Ce=j(4671);function Ie(de,ke){const ie=arguments.length>=2;return he=>he.pipe(de?(0,F.h)((Ee,Xe)=>de(Ee,Xe,he)):Ce.y,(0,M.q)(1),ie?(0,ae.d)(ke):(0,fe.T)(()=>new I.K))}},4004:(Jt,Me,j)=>{"use strict";j.d(Me,{U:()=>M});var I=j(4482),F=j(5403);function M(ae,fe){return(0,I.e)((Ce,Ie)=>{let de=0;Ce.subscribe((0,F.x)(Ie,ke=>{Ie.next(ae.call(fe,ke,de++))}))})}},8189:(Jt,Me,j)=>{"use strict";j.d(Me,{J:()=>M});var I=j(5577),F=j(4671);function M(ae=1/0){return(0,I.z)(F.y,ae)}},5577:(Jt,Me,j)=>{"use strict";j.d(Me,{z:()=>de});var I=j(4004),F=j(8421),M=j(4482),ae=j(9672),fe=j(5403),Ie=j(576);function de(ke,ie,he=1/0){return(0,Ie.m)(ie)?de((Ee,Xe)=>(0,I.U)((Qe,wt)=>ie(Ee,Qe,Xe,wt))((0,F.Xf)(ke(Ee,Xe))),he):("number"==typeof ie&&(he=ie),(0,M.e)((Ee,Xe)=>function Ce(ke,ie,he,Ee,Xe,Qe,wt,Tt){const Ve=[];let at=0,He=0,yt=!1;const Ye=()=>{yt&&!Ve.length&&!at&&ie.complete()},Je=Se=>at<Ee?ut(Se):Ve.push(Se),ut=Se=>{Qe&&ie.next(Se),at++;let pt=!1;(0,F.Xf)(he(Se,He++)).subscribe((0,fe.x)(ie,Ue=>{Xe?.(Ue),Qe?Je(Ue):ie.next(Ue)},()=>{pt=!0},void 0,()=>{if(pt)try{for(at--;Ve.length&&at<Ee;){const Ue=Ve.shift();wt?(0,ae.f)(ie,wt,()=>ut(Ue)):ut(Ue)}Ye()}catch(Ue){ie.error(Ue)}}))};return ke.subscribe((0,fe.x)(ie,Je,()=>{yt=!0,Ye()})),()=>{Tt?.()}}(Ee,Xe,ke,he)))}},5363:(Jt,Me,j)=>{"use strict";j.d(Me,{Q:()=>ae});var I=j(9672),F=j(4482),M=j(5403);function ae(fe,Ce=0){return(0,F.e)((Ie,de)=>{Ie.subscribe((0,M.x)(de,ke=>(0,I.f)(de,fe,()=>de.next(ke),Ce),()=>(0,I.f)(de,fe,()=>de.complete(),Ce),ke=>(0,I.f)(de,fe,()=>de.error(ke),Ce)))})}},5026:(Jt,Me,j)=>{"use strict";j.d(Me,{R:()=>ae});var I=j(4482),F=j(5403);function ae(fe,Ce){return(0,I.e)(function M(fe,Ce,Ie,de,ke){return(ie,he)=>{let Ee=Ie,Xe=Ce,Qe=0;ie.subscribe((0,F.x)(he,wt=>{const Tt=Qe++;Xe=Ee?fe(Xe,wt,Tt):(Ee=!0,wt),de&&he.next(Xe)},ke&&(()=>{Ee&&he.next(Xe),he.complete()})))}}(fe,Ce,arguments.length>=2,!0))}},3099:(Jt,Me,j)=>{"use strict";j.d(Me,{B:()=>fe});var I=j(8421),F=j(7579),M=j(2961),ae=j(4482);function fe(Ie={}){const{connector:de=(()=>new F.x),resetOnError:ke=!0,resetOnComplete:ie=!0,resetOnRefCountZero:he=!0}=Ie;return Ee=>{let Xe,Qe,wt,Tt=0,Ve=!1,at=!1;const He=()=>{Qe?.unsubscribe(),Qe=void 0},yt=()=>{He(),Xe=wt=void 0,Ve=at=!1},Ye=()=>{const Je=Xe;yt(),Je?.unsubscribe()};return(0,ae.e)((Je,ut)=>{Tt++,!at&&!Ve&&He();const Se=wt=wt??de();ut.add(()=>{Tt--,0===Tt&&!at&&!Ve&&(Qe=Ce(Ye,he))}),Se.subscribe(ut),!Xe&&Tt>0&&(Xe=new M.Hp({next:pt=>Se.next(pt),error:pt=>{at=!0,He(),Qe=Ce(yt,ke,pt),Se.error(pt)},complete:()=>{Ve=!0,He(),Qe=Ce(yt,ie),Se.complete()}}),(0,I.Xf)(Je).subscribe(Xe))})(Ee)}}function Ce(Ie,de,...ke){if(!0===de)return void Ie();if(!1===de)return;const ie=new M.Hp({next:()=>{ie.unsubscribe(),Ie()}});return(0,I.Xf)(de(...ke)).subscribe(ie)}},8675:(Jt,Me,j)=>{"use strict";j.d(Me,{O:()=>ae});var I=j(7272),F=j(7669),M=j(4482);function ae(...fe){const Ce=(0,F.yG)(fe);return(0,M.e)((Ie,de)=>{(Ce?(0,I.z)(fe,Ie,Ce):(0,I.z)(fe,Ie)).subscribe(de)})}},9468:(Jt,Me,j)=>{"use strict";j.d(Me,{R:()=>F});var I=j(4482);function F(M,ae=0){return(0,I.e)((fe,Ce)=>{Ce.add(M.schedule(()=>fe.subscribe(Ce),ae))})}},3900:(Jt,Me,j)=>{"use strict";j.d(Me,{w:()=>ae});var I=j(8421),F=j(4482),M=j(5403);function ae(fe,Ce){return(0,F.e)((Ie,de)=>{let ke=null,ie=0,he=!1;const Ee=()=>he&&!ke&&de.complete();Ie.subscribe((0,M.x)(de,Xe=>{ke?.unsubscribe();let Qe=0;const wt=ie++;(0,I.Xf)(fe(Xe,wt)).subscribe(ke=(0,M.x)(de,Tt=>de.next(Ce?Ce(Xe,Tt,wt,Qe++):Tt),()=>{ke=null,Ee()}))},()=>{he=!0,Ee()}))})}},5698:(Jt,Me,j)=>{"use strict";j.d(Me,{q:()=>ae});var I=j(515),F=j(4482),M=j(5403);function ae(fe){return fe<=0?()=>I.E:(0,F.e)((Ce,Ie)=>{let de=0;Ce.subscribe((0,M.x)(Ie,ke=>{++de<=fe&&(Ie.next(ke),fe<=de&&Ie.complete())}))})}},8505:(Jt,Me,j)=>{"use strict";j.d(Me,{b:()=>fe});var I=j(576),F=j(4482),M=j(5403),ae=j(4671);function fe(Ce,Ie,de){const ke=(0,I.m)(Ce)||Ie||de?{next:Ce,error:Ie,complete:de}:Ce;return ke?(0,F.e)((ie,he)=>{var Ee;null===(Ee=ke.subscribe)||void 0===Ee||Ee.call(ke);let Xe=!0;ie.subscribe((0,M.x)(he,Qe=>{var wt;null===(wt=ke.next)||void 0===wt||wt.call(ke,Qe),he.next(Qe)},()=>{var Qe;Xe=!1,null===(Qe=ke.complete)||void 0===Qe||Qe.call(ke),he.complete()},Qe=>{var wt;Xe=!1,null===(wt=ke.error)||void 0===wt||wt.call(ke,Qe),he.error(Qe)},()=>{var Qe,wt;Xe&&(null===(Qe=ke.unsubscribe)||void 0===Qe||Qe.call(ke)),null===(wt=ke.finalize)||void 0===wt||wt.call(ke)}))}):ae.y}},8068:(Jt,Me,j)=>{"use strict";j.d(Me,{T:()=>ae});var I=j(6805),F=j(4482),M=j(5403);function ae(Ce=fe){return(0,F.e)((Ie,de)=>{let ke=!1;Ie.subscribe((0,M.x)(de,ie=>{ke=!0,de.next(ie)},()=>ke?de.complete():de.error(Ce())))})}function fe(){return new I.K}},4408:(Jt,Me,j)=>{"use strict";j.d(Me,{o:()=>fe});var I=j(727);class F extends I.w0{constructor(Ie,de){super()}schedule(Ie,de=0){return this}}const M={setInterval(Ce,Ie,...de){const{delegate:ke}=M;return ke?.setInterval?ke.setInterval(Ce,Ie,...de):setInterval(Ce,Ie,...de)},clearInterval(Ce){const{delegate:Ie}=M;return(Ie?.clearInterval||clearInterval)(Ce)},delegate:void 0};var ae=j(8737);class fe extends F{constructor(Ie,de){super(Ie,de),this.scheduler=Ie,this.work=de,this.pending=!1}schedule(Ie,de=0){var ke;if(this.closed)return this;this.state=Ie;const ie=this.id,he=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(he,ie,de)),this.pending=!0,this.delay=de,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(he,this.id,de),this}requestAsyncId(Ie,de,ke=0){return M.setInterval(Ie.flush.bind(Ie,this),ke)}recycleAsyncId(Ie,de,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return de;null!=de&&M.clearInterval(de)}execute(Ie,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Ie,de);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,de){let ie,ke=!1;try{this.work(Ie)}catch(he){ke=!0,ie=he||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:de}=this,{actions:ke}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ke,this),null!=Ie&&(this.id=this.recycleAsyncId(de,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,Me,j)=>{"use strict";j.d(Me,{v:()=>M});var I=j(6063);class F{constructor(fe,Ce=F.now){this.schedulerActionCtor=fe,this.now=Ce}schedule(fe,Ce=0,Ie){return new this.schedulerActionCtor(this,fe).schedule(Ie,Ce)}}F.now=I.l.now;class M extends F{constructor(fe,Ce=F.now){super(fe,Ce),this.actions=[],this._active=!1}flush(fe){const{actions:Ce}=this;if(this._active)return void Ce.push(fe);let Ie;this._active=!0;do{if(Ie=fe.execute(fe.state,fe.delay))break}while(fe=Ce.shift());if(this._active=!1,Ie){for(;fe=Ce.shift();)fe.unsubscribe();throw Ie}}}},4986:(Jt,Me,j)=>{"use strict";j.d(Me,{z:()=>M});var I=j(4408);const M=new(j(7565).v)(I.o)},6063:(Jt,Me,j)=>{"use strict";j.d(Me,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(Jt,Me,j)=>{"use strict";j.d(Me,{z:()=>I});const I={setTimeout(F,M,...ae){const{delegate:fe}=I;return fe?.setTimeout?fe.setTimeout(F,M,...ae):setTimeout(F,M,...ae)},clearTimeout(F){const{delegate:M}=I;return(M?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Jt,Me,j)=>{"use strict";j.d(Me,{h:()=>F});const F=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,Me,j)=>{"use strict";j.d(Me,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jt,Me,j)=>{"use strict";j.d(Me,{K:()=>F});const F=(0,j(3888).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Jt,Me,j)=>{"use strict";j.d(Me,{_6:()=>Ce,jO:()=>ae,yG:()=>fe});var I=j(576);function M(Ie){return Ie[Ie.length-1]}function ae(Ie){return(0,I.m)(M(Ie))?Ie.pop():void 0}function fe(Ie){return function F(Ie){return Ie&&(0,I.m)(Ie.schedule)}(M(Ie))?Ie.pop():void 0}function Ce(Ie,de){return"number"==typeof M(Ie)?Ie.pop():de}},4742:(Jt,Me,j)=>{"use strict";j.d(Me,{D:()=>fe});const{isArray:I}=Array,{getPrototypeOf:F,prototype:M,keys:ae}=Object;function fe(Ie){if(1===Ie.length){const de=Ie[0];if(I(de))return{args:de,keys:null};if(function Ce(Ie){return Ie&&"object"==typeof Ie&&F(Ie)===M}(de)){const ke=ae(de);return{args:ke.map(ie=>de[ie]),keys:ke}}}return{args:Ie,keys:null}}},8737:(Jt,Me,j)=>{"use strict";function I(F,M){if(F){const ae=F.indexOf(M);0<=ae&&F.splice(ae,1)}}j.d(Me,{P:()=>I})},3888:(Jt,Me,j)=>{"use strict";function I(F){const ae=F(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}j.d(Me,{d:()=>I})},1810:(Jt,Me,j)=>{"use strict";function I(F,M){return F.reduce((ae,fe,Ce)=>(ae[fe]=M[Ce],ae),{})}j.d(Me,{n:()=>I})},2806:(Jt,Me,j)=>{"use strict";j.d(Me,{O:()=>ae,x:()=>M});var I=j(2416);let F=null;function M(fe){if(I.v.useDeprecatedSynchronousErrorHandling){const Ce=!F;if(Ce&&(F={errorThrown:!1,error:null}),fe(),Ce){const{errorThrown:Ie,error:de}=F;if(F=null,Ie)throw de}}else fe()}function ae(fe){I.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=fe)}},9672:(Jt,Me,j)=>{"use strict";function I(F,M,ae,fe=0,Ce=!1){const Ie=M.schedule(function(){ae(),Ce?F.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(F.add(Ie),!Ce)return Ie}j.d(Me,{f:()=>I})},4671:(Jt,Me,j)=>{"use strict";function I(F){return F}j.d(Me,{y:()=>I})},1144:(Jt,Me,j)=>{"use strict";j.d(Me,{z:()=>I});const I=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Jt,Me,j)=>{"use strict";j.d(Me,{D:()=>F});var I=j(576);function F(M){return Symbol.asyncIterator&&(0,I.m)(M?.[Symbol.asyncIterator])}},576:(Jt,Me,j)=>{"use strict";function I(F){return"function"==typeof F}j.d(Me,{m:()=>I})},3670:(Jt,Me,j)=>{"use strict";j.d(Me,{c:()=>M});var I=j(8822),F=j(576);function M(ae){return(0,F.m)(ae[I.L])}},6495:(Jt,Me,j)=>{"use strict";j.d(Me,{T:()=>M});var I=j(2202),F=j(576);function M(ae){return(0,F.m)(ae?.[I.h])}},8239:(Jt,Me,j)=>{"use strict";j.d(Me,{t:()=>F});var I=j(576);function F(M){return(0,I.m)(M?.then)}},3260:(Jt,Me,j)=>{"use strict";j.d(Me,{L:()=>ae,Q:()=>M});var I=j(655),F=j(576);function M(fe){return(0,I.FC)(this,arguments,function*(){const Ie=fe.getReader();try{for(;;){const{value:de,done:ke}=yield(0,I.qq)(Ie.read());if(ke)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(de)}}finally{Ie.releaseLock()}})}function ae(fe){return(0,F.m)(fe?.getReader)}},4482:(Jt,Me,j)=>{"use strict";j.d(Me,{A:()=>F,e:()=>M});var I=j(576);function F(ae){return(0,I.m)(ae?.lift)}function M(ae){return fe=>{if(F(fe))return fe.lift(function(Ce){try{return ae(Ce,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,Me,j)=>{"use strict";j.d(Me,{Z:()=>ae});var I=j(4004);const{isArray:F}=Array;function ae(fe){return(0,I.U)(Ce=>function M(fe,Ce){return F(Ce)?fe(...Ce):fe(Ce)}(fe,Ce))}},9635:(Jt,Me,j)=>{"use strict";j.d(Me,{U:()=>M,z:()=>F});var I=j(4671);function F(...ae){return M(ae)}function M(ae){return 0===ae.length?I.y:1===ae.length?ae[0]:function(Ce){return ae.reduce((Ie,de)=>de(Ie),Ce)}}},7849:(Jt,Me,j)=>{"use strict";j.d(Me,{h:()=>M});var I=j(2416),F=j(3410);function M(ae){F.z.setTimeout(()=>{const{onUnhandledError:fe}=I.v;if(!fe)throw ae;fe(ae)})}},4532:(Jt,Me,j)=>{"use strict";function I(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Me,{z:()=>I})},5226:function(Jt){Jt.exports=function(){"use strict";var Me={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const I=v=>{const E={};for(const L in v)E[v[L]]="swal2-"+v[L];return E},F=I(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),M=I(["success","warning","info","question","error"]),ae="SweetAlert2:",Ce=v=>v.charAt(0).toUpperCase()+v.slice(1),Ie=v=>{console.warn(`${ae} ${"object"==typeof v?v.join(" "):v}`)},de=v=>{console.error(`${ae} ${v}`)},ke=[],he=(v,E)=>{(v=>{ke.includes(v)||(ke.push(v),Ie(v))})(`"${v}" is deprecated and will be removed in the next major release. Please use "${E}" instead.`)},Ee=v=>"function"==typeof v?v():v,Xe=v=>v&&"function"==typeof v.toPromise,Qe=v=>Xe(v)?v.toPromise():Promise.resolve(v),wt=v=>v&&Promise.resolve(v)===v,Tt=()=>document.body.querySelector(`.${F.container}`),Ve=v=>{const E=Tt();return E?E.querySelector(v):null},at=v=>Ve(`.${v}`),He=()=>at(F.popup),yt=()=>at(F.icon),Je=()=>at(F.title),ut=()=>at(F["html-container"]),Se=()=>at(F.image),pt=()=>at(F["progress-steps"]),Ue=()=>at(F["validation-message"]),It=()=>Ve(`.${F.actions} .${F.confirm}`),an=()=>Ve(`.${F.actions} .${F.cancel}`),bt=()=>Ve(`.${F.actions} .${F.deny}`),Nt=()=>Ve(`.${F.loader}`),We=()=>at(F.actions),Ge=()=>at(F.footer),it=()=>at(F["timer-progress-bar"]),st=()=>at(F.close),dt=()=>{const v=Array.from(He().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((L,K)=>{const ge=parseInt(L.getAttribute("tabindex")),$e=parseInt(K.getAttribute("tabindex"));return ge>$e?1:ge<$e?-1:0}),E=Array.from(He().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(L=>"-1"!==L.getAttribute("tabindex"));return(v=>{const E=[];for(let L=0;L<v.length;L++)-1===E.indexOf(v[L])&&E.push(v[L]);return E})(v.concat(E)).filter(L=>ar(L))},Mt=()=>kt(document.body,F.shown)&&!kt(document.body,F["toast-shown"])&&!kt(document.body,F["no-backdrop"]),Et=()=>He()&&kt(He(),F.toast),Zt={previousBodyPadding:null},Yt=(v,E)=>{if(v.textContent="",E){const K=(new DOMParser).parseFromString(E,"text/html");Array.from(K.querySelector("head").childNodes).forEach(ge=>{v.appendChild(ge)}),Array.from(K.querySelector("body").childNodes).forEach(ge=>{ge instanceof HTMLVideoElement||ge instanceof HTMLAudioElement?v.appendChild(ge.cloneNode(!0)):v.appendChild(ge)})}},kt=(v,E)=>{if(!E)return!1;const L=E.split(/\s+/);for(let K=0;K<L.length;K++)if(!v.classList.contains(L[K]))return!1;return!0},Vn=(v,E,L)=>{if(((v,E)=>{Array.from(v.classList).forEach(L=>{!Object.values(F).includes(L)&&!Object.values(M).includes(L)&&!Object.values(E.showClass).includes(L)&&v.classList.remove(L)})})(v,E),E.customClass&&E.customClass[L]){if("string"!=typeof E.customClass[L]&&!E.customClass[L].forEach)return void Ie(`Invalid type of customClass.${L}! Expected string or iterable object, got "${typeof E.customClass[L]}"`);_n(v,E.customClass[L])}},Hn=(v,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return v.querySelector(`.${F.popup} > .${F[E]}`);case"checkbox":return v.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return v.querySelector(`.${F.popup} > .${F.radio} input:checked`)||v.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return v.querySelector(`.${F.popup} > .${F.range} input`);default:return v.querySelector(`.${F.popup} > .${F.input}`)}},yr=v=>{if(v.focus(),"file"!==v.type){const E=v.value;v.value="",v.value=E}},Fn=(v,E,L)=>{!v||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(K=>{Array.isArray(v)?v.forEach(ge=>{L?ge.classList.add(K):ge.classList.remove(K)}):L?v.classList.add(K):v.classList.remove(K)}))},_n=(v,E)=>{Fn(v,E,!0)},zt=(v,E)=>{Fn(v,E,!1)},rr=(v,E)=>{const L=Array.from(v.children);for(let K=0;K<L.length;K++){const ge=L[K];if(ge instanceof HTMLElement&&kt(ge,E))return ge}},ir=(v,E,L)=>{L===`${parseInt(L)}`&&(L=parseInt(L)),L||0===parseInt(L)?v.style[E]="number"==typeof L?`${L}px`:L:v.style.removeProperty(E)},Kn=function(v){v.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},bn=v=>{v.style.display="none"},en=(v,E,L,K)=>{const ge=v.querySelector(E);ge&&(ge.style[L]=K)},Bn=function(v,E){E?Kn(v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):bn(v)},ar=v=>!(!v||!(v.offsetWidth||v.offsetHeight||v.getClientRects().length)),Lr=v=>v.scrollHeight>v.clientHeight,Vr=v=>{const E=window.getComputedStyle(v),L=parseFloat(E.getPropertyValue("animation-duration")||"0"),K=parseFloat(E.getPropertyValue("transition-duration")||"0");return L>0||K>0},un=function(v){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const L=it();ar(L)&&(E&&(L.style.transition="none",L.style.width="100%"),setTimeout(()=>{L.style.transition=`width ${v/1e3}s linear`,L.style.width="0%"},10))},Ct={},Ar=v=>new Promise(E=>{if(!v)return E();const L=window.scrollX,K=window.scrollY;Ct.restoreFocusTimeout=setTimeout(()=>{Ct.previousActiveElement instanceof HTMLElement?(Ct.previousActiveElement.focus(),Ct.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(L,K)}),ur=()=>typeof window>"u"||typeof document>"u",Fr=`\n <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">\n   <button type="button" class="${F.close}"></button>\n   <ul class="${F["progress-steps"]}"></ul>\n   <div class="${F.icon}"></div>\n   <img class="${F.image}" />\n   <h2 class="${F.title}" id="${F.title}"></h2>\n   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>\n   <input class="${F.input}" />\n   <input type="file" class="${F.file}" />\n   <div class="${F.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${F.select}"></select>\n   <div class="${F.radio}"></div>\n   <label for="${F.checkbox}" class="${F.checkbox}">\n     <input type="checkbox" />\n     <span class="${F.label}"></span>\n   </label>\n   <textarea class="${F.textarea}"></textarea>\n   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>\n   <div class="${F.actions}">\n     <div class="${F.loader}"></div>\n     <button type="button" class="${F.confirm}"></button>\n     <button type="button" class="${F.deny}"></button>\n     <button type="button" class="${F.cancel}"></button>\n   </div>\n   <div class="${F.footer}"></div>\n   <div class="${F["timer-progress-bar-container"]}">\n     <div class="${F["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),hr=()=>{Ct.currentInstance.resetValidationMessage()},yn=v=>{const E=(()=>{const v=Tt();return!!v&&(v.remove(),zt([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0)})();if(ur())return void de("SweetAlert2 requires document to initialize");const L=document.createElement("div");L.className=F.container,E&&_n(L,F["no-transition"]),Yt(L,Fr);const K=(v=>"string"==typeof v?document.querySelector(v):v)(v.target);K.appendChild(L),(v=>{const E=He();E.setAttribute("role",v.toast?"alert":"dialog"),E.setAttribute("aria-live",v.toast?"polite":"assertive"),v.toast||E.setAttribute("aria-modal","true")})(v),(v=>{"rtl"===window.getComputedStyle(v).direction&&_n(Tt(),F.rtl)})(K),(()=>{const v=He(),E=rr(v,F.input),L=rr(v,F.file),K=v.querySelector(`.${F.range} input`),ge=v.querySelector(`.${F.range} output`),$e=rr(v,F.select),Ft=v.querySelector(`.${F.checkbox} input`),jt=rr(v,F.textarea);E.oninput=hr,L.onchange=hr,$e.onchange=hr,Ft.onchange=hr,jt.oninput=hr,K.oninput=()=>{hr(),ge.value=K.value},K.onchange=()=>{hr(),ge.value=K.value}})()},Xn=(v,E)=>{v instanceof HTMLElement?E.appendChild(v):"object"==typeof v?Jn(v,E):v&&Yt(E,v)},Jn=(v,E)=>{v.jquery?$n(E,v):Yt(E,v.toString())},$n=(v,E)=>{if(v.textContent="",0 in E)for(let L=0;L in E;L++)v.appendChild(E[L].cloneNode(!0));else v.appendChild(E.cloneNode(!0))},Tn=(()=>{if(ur())return!1;const v=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const L in E)if(Object.prototype.hasOwnProperty.call(E,L)&&typeof v.style[L]<"u")return E[L];return!1})(),fr=(v,E)=>{const L=We(),K=Nt();E.showConfirmButton||E.showDenyButton||E.showCancelButton?Kn(L):bn(L),Vn(L,E,"actions"),function kr(v,E,L){const K=It(),ge=bt(),$e=an();ce(K,"confirm",L),ce(ge,"deny",L),ce($e,"cancel",L),function pe(v,E,L,K){K.buttonsStyling?(_n([v,E,L],F.styled),K.confirmButtonColor&&(v.style.backgroundColor=K.confirmButtonColor,_n(v,F["default-outline"])),K.denyButtonColor&&(E.style.backgroundColor=K.denyButtonColor,_n(E,F["default-outline"])),K.cancelButtonColor&&(L.style.backgroundColor=K.cancelButtonColor,_n(L,F["default-outline"]))):zt([v,E,L],F.styled)}(K,ge,$e,L),L.reverseButtons&&(L.toast?(v.insertBefore($e,K),v.insertBefore(ge,K)):(v.insertBefore($e,E),v.insertBefore(ge,E),v.insertBefore(K,E)))}(L,K,E),Yt(K,E.loaderHtml),Vn(K,E,"loader")};function ce(v,E,L){Bn(v,L[`show${Ce(E)}Button`],"inline-block"),Yt(v,L[`${E}ButtonText`]),v.setAttribute("aria-label",L[`${E}ButtonAriaLabel`]),v.className=F[E],Vn(v,L,`${E}Button`),_n(v,L[`${E}ButtonClass`])}const te=(v,E)=>{const L=Tt();L&&(function Z(v,E){"string"==typeof E?v.style.background=E:E||_n([document.documentElement,document.body],F["no-backdrop"])}(L,E.backdrop),function _e(v,E){E in F?_n(v,F[E]):(Ie('The "position" parameter is not valid, defaulting to "center"'),_n(v,F.center))}(L,E.position),function se(v,E){if(E&&"string"==typeof E){const L=`grow-${E}`;L in F&&_n(v,F[L])}}(L,E.grow),Vn(L,E,"container"))};const ue=["input","file","range","select","radio","checkbox","textarea"],Te=v=>{if(!Ae[v.input])return void de(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${v.input}"`);const E=rn(v.input),L=Ae[v.input](E,v);Kn(E),v.inputAutoFocus&&setTimeout(()=>{yr(L)})},lt=(v,E)=>{const L=Hn(He(),v);if(L){(v=>{for(let E=0;E<v.attributes.length;E++){const L=v.attributes[E].name;["type","value","style"].includes(L)||v.removeAttribute(L)}})(L);for(const K in E)L.setAttribute(K,E[K])}},nn=v=>{const E=rn(v.input);"object"==typeof v.customClass&&_n(E,v.customClass.input)},ot=(v,E)=>{(!v.placeholder||E.inputPlaceholder)&&(v.placeholder=E.inputPlaceholder)},gt=(v,E,L)=>{if(L.inputLabel){v.id=F.input;const K=document.createElement("label"),ge=F["input-label"];K.setAttribute("for",v.id),K.className=ge,"object"==typeof L.customClass&&_n(K,L.customClass.inputLabel),K.innerText=L.inputLabel,E.insertAdjacentElement("beforebegin",K)}},rn=v=>rr(He(),F[v]||F.input),Be=(v,E)=>{["string","number"].includes(typeof E)?v.value=`${E}`:wt(E)||Ie(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof E}"`)},Ae={};Ae.text=Ae.email=Ae.password=Ae.number=Ae.tel=Ae.url=(v,E)=>(Be(v,E.inputValue),gt(v,v,E),ot(v,E),v.type=E.input,v),Ae.file=(v,E)=>(gt(v,v,E),ot(v,E),v),Ae.range=(v,E)=>{const L=v.querySelector("input"),K=v.querySelector("output");return Be(L,E.inputValue),L.type=E.input,Be(K,E.inputValue),gt(L,v,E),v},Ae.select=(v,E)=>{if(v.textContent="",E.inputPlaceholder){const L=document.createElement("option");Yt(L,E.inputPlaceholder),L.value="",L.disabled=!0,L.selected=!0,v.appendChild(L)}return gt(v,v,E),v},Ae.radio=v=>(v.textContent="",v),Ae.checkbox=(v,E)=>{const L=Hn(He(),"checkbox");L.value="1",L.id=F.checkbox,L.checked=Boolean(E.inputValue);const K=v.querySelector("span");return Yt(K,E.inputPlaceholder),L},Ae.textarea=(v,E)=>{Be(v,E.inputValue),ot(v,E),gt(v,v,E);return setTimeout(()=>{if("MutationObserver"in window){const K=parseInt(window.getComputedStyle(He()).width);new MutationObserver(()=>{const $e=v.offsetWidth+(K=>parseInt(window.getComputedStyle(K).marginLeft)+parseInt(window.getComputedStyle(K).marginRight))(v);He().style.width=$e>K?`${$e}px`:null}).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};const vt=(v,E)=>{const L=ut();Vn(L,E,"htmlContainer"),E.html?(Xn(E.html,L),Kn(L,"block")):E.text?(L.textContent=E.text,Kn(L,"block")):bn(L),((v,E)=>{const L=He(),K=Me.innerParams.get(v),ge=!K||E.input!==K.input;ue.forEach($e=>{const Ft=rr(L,F[$e]);lt($e,E.inputAttributes),Ft.className=F[$e],ge&&bn(Ft)}),E.input&&(ge&&Te(E),nn(E))})(v,E)},Oe=(v,E)=>{for(const L in M)E.icon!==L&&zt(v,M[L]);_n(v,M[E.icon]),$t(v,E),G(),Vn(v,E,"icon")},G=()=>{const v=He(),E=window.getComputedStyle(v).getPropertyValue("background-color"),L=v.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let K=0;K<L.length;K++)L[K].style.backgroundColor=E},nt=(v,E)=>{let K,L=v.innerHTML;E.iconHtml?K=wn(E.iconHtml):"success"===E.icon?(K='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',L=L.replace(/ style=".*?"/g,"")):K="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':wn({question:"?",warning:"!",info:"i"}[E.icon]),L.trim()!==K.trim()&&Yt(v,K)},$t=(v,E)=>{if(E.iconColor){v.style.color=E.iconColor,v.style.borderColor=E.iconColor;for(const L of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])en(v,L,"backgroundColor",E.iconColor);en(v,".swal2-success-ring","borderColor",E.iconColor)}},wn=v=>`<div class="${F["icon-content"]}">${v}</div>`,_r=(v,E)=>{v.className=`${F.popup} ${ar(v)?E.showClass.popup:""}`,E.toast?(_n([document.documentElement,document.body],F["toast-shown"]),_n(v,F.toast)):_n(v,F.modal),Vn(v,E,"popup"),"string"==typeof E.customClass&&_n(v,E.customClass),E.icon&&_n(v,F[`icon-${E.icon}`])},xn=v=>{const E=document.createElement("li");return _n(E,F["progress-step"]),Yt(E,v),E},Wn=v=>{const E=document.createElement("li");return _n(E,F["progress-step-line"]),v.progressStepsDistance&&ir(E,"width",v.progressStepsDistance),E},ui=(v,E)=>{((v,E)=>{const L=Tt(),K=He();E.toast?(ir(L,"width",E.width),K.style.width="100%",K.insertBefore(Nt(),yt())):ir(K,"width",E.width),ir(K,"padding",E.padding),E.color&&(K.style.color=E.color),E.background&&(K.style.background=E.background),bn(Ue()),_r(K,E)})(0,E),te(0,E),((v,E)=>{const L=pt();E.progressSteps&&0!==E.progressSteps.length?(Kn(L),L.textContent="",E.currentProgressStep>=E.progressSteps.length&&Ie("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((K,ge)=>{const $e=xn(K);if(L.appendChild($e),ge===E.currentProgressStep&&_n($e,F["active-progress-step"]),ge!==E.progressSteps.length-1){const Ft=Wn(E);L.appendChild(Ft)}})):bn(L)})(0,E),((v,E)=>{const L=Me.innerParams.get(v),K=yt();L&&E.icon===L.icon?(nt(K,E),Oe(K,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(M).indexOf(E.icon)?(de(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${E.icon}"`),bn(K)):(Kn(K),nt(K,E),Oe(K,E),_n(K,E.showClass.icon)):bn(K)})(v,E),((v,E)=>{const L=Se();E.imageUrl?(Kn(L,""),L.setAttribute("src",E.imageUrl),L.setAttribute("alt",E.imageAlt),ir(L,"width",E.imageWidth),ir(L,"height",E.imageHeight),L.className=F.image,Vn(L,E,"image")):bn(L)})(0,E),((v,E)=>{const L=Je();Bn(L,E.title||E.titleText,"block"),E.title&&Xn(E.title,L),E.titleText&&(L.innerText=E.titleText),Vn(L,E,"title")})(0,E),((v,E)=>{const L=st();Yt(L,E.closeButtonHtml),Vn(L,E,"closeButton"),Bn(L,E.showCloseButton),L.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),vt(v,E),fr(0,E),((v,E)=>{const L=Ge();Bn(L,E.footer),E.footer&&Xn(E.footer,L),Vn(L,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender(He())};function nr(){const v=Me.innerParams.get(this);if(!v)return;const E=Me.domCache.get(this);bn(E.loader),Et()?v.icon&&Kn(yt()):Wr(E),zt([E.popup,E.actions],F.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const Wr=v=>{const E=v.popup.getElementsByClassName(v.loader.getAttribute("data-button-to-replace"));E.length?Kn(E[0],"inline-block"):!ar(It())&&!ar(bt())&&!ar(an())&&bn(v.actions)};const we=()=>It()&&It().click(),ct=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),hn=v=>{v.keydownTarget&&v.keydownHandlerAdded&&(v.keydownTarget.removeEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!1)},Mn=(v,E)=>{const L=dt();if(L.length)return(v+=E)===L.length?v=0:-1===v&&(v=L.length-1),void L[v].focus();He().focus()},jn=["ArrowRight","ArrowDown"],ni=["ArrowLeft","ArrowUp"],wr=(v,E,L)=>{const K=Me.innerParams.get(v);K&&(E.isComposing||229===E.keyCode||(K.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Qr(v,E,K):"Tab"===E.key?Jr(E):[...jn,...ni].includes(E.key)?Tr(E.key):"Escape"===E.key&&Gi(E,K,L)))},Qr=(v,E,L)=>{if(Ee(L.allowEnterKey)&&E.target&&v.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===v.getInput().outerHTML){if(["textarea","file"].includes(L.input))return;we(),E.preventDefault()}},Jr=v=>{const E=v.target,L=dt();let K=-1;for(let ge=0;ge<L.length;ge++)if(E===L[ge]){K=ge;break}Mn(K,v.shiftKey?-1:1),v.stopPropagation(),v.preventDefault()},Tr=v=>{const E=It(),L=bt(),K=an();if(document.activeElement instanceof HTMLElement&&![E,L,K].includes(document.activeElement))return;const $e=jn.includes(v)?"nextElementSibling":"previousElementSibling";let Ft=document.activeElement;for(let jt=0;jt<We().children.length;jt++){if(Ft=Ft[$e],!Ft)return;if(Ft instanceof HTMLButtonElement&&ar(Ft))break}Ft instanceof HTMLButtonElement&&Ft.focus()},Gi=(v,E,L)=>{Ee(E.allowEscapeKey)&&(v.preventDefault(),L(ct.esc))};var ns={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ds=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},pi=()=>{const v=navigator.userAgent,E=!!v.match(/iPad/i)||!!v.match(/iPhone/i),L=!!v.match(/WebKit/i);E&&L&&!v.match(/CriOS/i)&&He().scrollHeight>window.innerHeight-44&&(Tt().style.paddingBottom="44px")},ri=()=>{const v=Tt();let E;v.ontouchstart=L=>{E=ha(L)},v.ontouchmove=L=>{E&&(L.preventDefault(),L.stopPropagation())}},ha=v=>{const E=v.target,L=Tt();return!Ei(v)&&!gi(v)&&(E===L||!Lr(L)&&E instanceof HTMLElement&&"INPUT"!==E.tagName&&"TEXTAREA"!==E.tagName&&!(Lr(ut())&&ut().contains(E)))},Ei=v=>v.touches&&v.touches.length&&"stylus"===v.touches[0].touchType,gi=v=>v.touches&&v.touches.length>1,is=()=>{if(kt(document.body,F.iosfix)){const v=parseInt(document.body.style.top,10);zt(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=-1*v}},ko=()=>{null===Zt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Zt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Zt.previousBodyPadding+(()=>{const v=document.createElement("div");v.className=F["scrollbar-measure"],document.body.appendChild(v);const E=v.getBoundingClientRect().width-v.clientWidth;return document.body.removeChild(v),E})()}px`)},Ki=()=>{null!==Zt.previousBodyPadding&&(document.body.style.paddingRight=`${Zt.previousBodyPadding}px`,Zt.previousBodyPadding=null)};function Gr(v,E,L,K){Et()?fs(v,K):(Ar(L).then(()=>fs(v,K)),hn(Ct)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),Mt()&&(Ki(),is(),Ds()),function Fi(){zt([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}()}function Ui(v){v=go(v);const E=ns.swalPromiseResolve.get(this),L=pr(this);this.isAwaitingPromise()?v.isDismissed||(Ii(this),E(v)):L&&E(v)}const pr=v=>{const E=He();if(!E)return!1;const L=Me.innerParams.get(v);if(!L||kt(E,L.hideClass.popup))return!1;zt(E,L.showClass.popup),_n(E,L.hideClass.popup);const K=Tt();return zt(K,L.showClass.backdrop),_n(K,L.hideClass.backdrop),ta(v,E,L),!0};const Ii=v=>{v.isAwaitingPromise()&&(Me.awaitingPromise.delete(v),Me.innerParams.get(v)||v._destroy())},go=v=>typeof v>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},v),ta=(v,E,L)=>{const K=Tt(),ge=Tn&&Vr(E);"function"==typeof L.willClose&&L.willClose(E),ge?Ys(v,E,K,L.returnFocus,L.didClose):Gr(v,K,L.returnFocus,L.didClose)},Ys=(v,E,L,K,ge)=>{Ct.swalCloseEventFinishedCallback=Gr.bind(null,v,L,K,ge),E.addEventListener(Tn,function($e){$e.target===E&&(Ct.swalCloseEventFinishedCallback(),delete Ct.swalCloseEventFinishedCallback)})},fs=(v,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(v.params)(),v._destroy()})};function mo(v,E,L){const K=Me.domCache.get(v);E.forEach(ge=>{K[ge].disabled=L})}function yo(v,E){if(v)if("radio"===v.type){const K=v.parentNode.parentNode.querySelectorAll("input");for(let ge=0;ge<K.length;ge++)K[ge].disabled=E}else v.disabled=E}const qi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Qs={},Vi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Lo=v=>Object.prototype.hasOwnProperty.call(qi,v),_o=v=>-1!==xi.indexOf(v),zs=v=>Qs[v],ra=v=>{Lo(v)||Ie(`Unknown parameter "${v}"`)},$i=v=>{Vi.includes(v)&&Ie(`The parameter "${v}" is incompatible with toasts`)},ia=v=>{zs(v)&&he(v,zs(v))};const Cs=v=>{const E={};return Object.keys(v).forEach(L=>{_o(L)?E[L]=v[L]:Ie(`Invalid parameter to update: ${L}`)}),E};const jr=v=>{ps(v),delete v.params,delete Ct.keydownHandler,delete Ct.keydownTarget,delete Ct.currentInstance},ps=v=>{v.isAwaitingPromise()?(os(Me,v),Me.awaitingPromise.set(v,!0)):(os(ns,v),os(Me,v))},os=(v,E)=>{for(const L in v)v[L].delete(E)};var Kr=Object.freeze({__proto__:null,_destroy:function As(){const v=Me.domCache.get(this),E=Me.innerParams.get(this);E?(v.popup&&Ct.swalCloseEventFinishedCallback&&(Ct.swalCloseEventFinishedCallback(),delete Ct.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),jr(this)):ps(this)},close:Ui,closeModal:Ui,closePopup:Ui,closeToast:Ui,disableButtons:function Bi(){mo(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function na(){yo(this.getInput(),!0)},disableLoading:nr,enableButtons:function Ko(){mo(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function bi(){yo(this.getInput(),!1)},getInput:function Zn(v){const E=Me.innerParams.get(v||this),L=Me.domCache.get(v||this);return L?Hn(L.popup,E.input):null},handleAwaitingPromise:Ii,hideLoading:nr,isAwaitingPromise:function ea(){return!!Me.awaitingPromise.get(this)},rejectPromise:function ss(v){const E=ns.swalPromiseReject.get(this);Ii(this),E&&E(v)},resetValidationMessage:function vo(){const v=Me.domCache.get(this);v.validationMessage&&bn(v.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),zt(E,F.inputerror))},showValidationMessage:function Ts(v){const E=Me.domCache.get(this),L=Me.innerParams.get(this);Yt(E.validationMessage,v),E.validationMessage.className=F["validation-message"],L.customClass&&L.customClass.validationMessage&&_n(E.validationMessage,L.customClass.validationMessage),Kn(E.validationMessage);const K=this.getInput();K&&(K.setAttribute("aria-invalid",!0),K.setAttribute("aria-describedby",F["validation-message"]),yr(K),_n(K,F.inputerror))},update:function wo(v){const E=He(),L=Me.innerParams.get(this);if(!E||kt(E,L.hideClass.popup))return void Ie("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const K=Cs(v),ge=Object.assign({},L,K);ui(this,ge),Me.innerParams.set(this,ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}});const ji=v=>{let E=He();E||new V,E=He();const L=Nt();Et()?bn(yt()):Xs(E,v),Kn(L),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},Xs=(v,E)=>{const L=We(),K=Nt();!E&&ar(It())&&(E=It()),Kn(L),E&&(bn(E),K.setAttribute("data-button-to-replace",E.className)),K.parentNode.insertBefore(K,E),_n([v,L],F.loading)},Fo=v=>v.checked?1:0,lr=v=>v.checked?v.value:null,ii=v=>v.files.length?null!==v.getAttribute("multiple")?v.files:v.files[0]:null,Hs=(v,E)=>{const L=He(),K=ge=>{Uo[E.input](L,mi(ge),E)};Xe(E.inputOptions)||wt(E.inputOptions)?(ji(It()),Qe(E.inputOptions).then(ge=>{v.hideLoading(),K(ge)})):"object"==typeof E.inputOptions?K(E.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof E.inputOptions)},si=(v,E)=>{const L=v.getInput();bn(L),Qe(E.inputValue).then(K=>{L.value="number"===E.input?`${parseFloat(K)||0}`:`${K}`,Kn(L),L.focus(),v.hideLoading()}).catch(K=>{de(`Error in inputValue promise: ${K}`),L.value="",Kn(L),L.focus(),v.hideLoading()})},Uo={select:(v,E,L)=>{const K=rr(v,F.select),ge=($e,Ft,jt)=>{const Le=document.createElement("option");Le.value=jt,Yt(Le,Ft),Le.selected=eo(jt,L.inputValue),$e.appendChild(Le)};E.forEach($e=>{const Ft=$e[0],jt=$e[1];if(Array.isArray(jt)){const Le=document.createElement("optgroup");Le.label=Ft,Le.disabled=!1,K.appendChild(Le),jt.forEach(Ht=>ge(Le,Ht[1],Ht[0]))}else ge(K,jt,Ft)}),K.focus()},radio:(v,E,L)=>{const K=rr(v,F.radio);E.forEach($e=>{const Ft=$e[0],jt=$e[1],Le=document.createElement("input"),Ht=document.createElement("label");Le.type="radio",Le.name=F.radio,Le.value=Ft,eo(Ft,L.inputValue)&&(Le.checked=!0);const Sn=document.createElement("span");Yt(Sn,jt),Sn.className=F.label,Ht.appendChild(Le),Ht.appendChild(Sn),K.appendChild(Ht)});const ge=K.querySelectorAll("input");ge.length&&ge[0].focus()}},mi=v=>{const E=[];return typeof Map<"u"&&v instanceof Map?v.forEach((L,K)=>{let ge=L;"object"==typeof ge&&(ge=mi(ge)),E.push([K,ge])}):Object.keys(v).forEach(L=>{let K=v[L];"object"==typeof K&&(K=mi(K)),E.push([L,K])}),E},eo=(v,E)=>E&&E.toString()===v.toString(),gs=(v,E)=>{const L=Me.innerParams.get(v);if(!L.input)return void de(`The "input" parameter is needed to be set when using returnInputValueOn${Ce(E)}`);const K=((v,E)=>{const L=v.getInput();if(!L)return null;switch(E.input){case"checkbox":return Fo(L);case"radio":return lr(L);case"file":return ii(L);default:return E.inputAutoTrim?L.value.trim():L.value}})(v,L);L.inputValidator?Di(v,K,E):v.getInput().checkValidity()?"deny"===E?zi(v,K):Bo(v,K):(v.enableButtons(),v.showValidationMessage(L.validationMessage))},Di=(v,E,L)=>{const K=Me.innerParams.get(v);v.disableInput(),Promise.resolve().then(()=>Qe(K.inputValidator(E,K.validationMessage))).then($e=>{v.enableButtons(),v.enableInput(),$e?v.showValidationMessage($e):"deny"===L?zi(v,E):Bo(v,E)})},zi=(v,E)=>{const L=Me.innerParams.get(v||void 0);L.showLoaderOnDeny&&ji(bt()),L.preDeny?(Me.awaitingPromise.set(v||void 0,!0),Promise.resolve().then(()=>Qe(L.preDeny(E,L.validationMessage))).then(ge=>{!1===ge?(v.hideLoading(),Ii(v)):v.close({isDenied:!0,value:typeof ge>"u"?E:ge})}).catch(ge=>Ms(v||void 0,ge))):v.close({isDenied:!0,value:E})},Mi=(v,E)=>{v.close({isConfirmed:!0,value:E})},Ms=(v,E)=>{v.rejectPromise(E)},Bo=(v,E)=>{const L=Me.innerParams.get(v||void 0);L.showLoaderOnConfirm&&ji(),L.preConfirm?(v.resetValidationMessage(),Me.awaitingPromise.set(v||void 0,!0),Promise.resolve().then(()=>Qe(L.preConfirm(E,L.validationMessage))).then(ge=>{ar(Ue())||!1===ge?(v.hideLoading(),Ii(v)):Mi(v,typeof ge>"u"?E:ge)}).catch(ge=>Ms(v||void 0,ge))):Mi(v,E)},tt=(v,E,L)=>{E.popup.onclick=()=>{const K=Me.innerParams.get(v);K&&(Un(K)||K.timer||K.input)||L(ct.close)}},Un=v=>v.showConfirmButton||v.showDenyButton||v.showCancelButton||v.showCloseButton;let Ps=!1;const Ws=v=>{v.popup.onmousedown=()=>{v.container.onmouseup=function(E){v.container.onmouseup=void 0,E.target===v.container&&(Ps=!0)}}},qr=v=>{v.container.onmousedown=()=>{v.popup.onmouseup=function(E){v.popup.onmouseup=void 0,(E.target===v.popup||v.popup.contains(E.target))&&(Ps=!0)}}},no=(v,E,L)=>{E.container.onclick=K=>{const ge=Me.innerParams.get(v);Ps?Ps=!1:K.target===E.container&&Ee(ge.allowOutsideClick)&&L(ct.backdrop)}},Pi=v=>v instanceof Element||(v=>"object"==typeof v&&v.jquery)(v);const Rs=()=>{if(Ct.timeout)return(()=>{const v=it(),E=parseInt(window.getComputedStyle(v).width);v.style.removeProperty("transition"),v.style.width="100%";const L=parseInt(window.getComputedStyle(v).width);v.style.width=E/L*100+"%"})(),Ct.timeout.stop()},oi=()=>{if(Ct.timeout){const v=Ct.timeout.start();return un(v),v}};let Yi=!1;const ro={};const Ti=v=>{for(let E=v.target;E&&E!==document;E=E.parentNode)for(const L in ro){const K=E.getAttribute(L);if(K)return void ro[L].fire({template:K})}};var fa=Object.freeze({__proto__:null,argsToParams:v=>{const E={};return"object"!=typeof v[0]||Pi(v[0])?["title","html","icon"].forEach((L,K)=>{const ge=v[K];"string"==typeof ge||Pi(ge)?E[L]=ge:void 0!==ge&&de(`Unexpected type of ${L}! Expected "string" or "Element", got ${typeof ge}`)}):Object.assign(E,v[0]),E},bindClickHandler:function ys(){ro[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Yi||(document.body.addEventListener("click",Ti),Yi=!0)},clickCancel:()=>an()&&an().click(),clickConfirm:we,clickDeny:()=>bt()&&bt().click(),enableLoading:ji,fire:function as(){for(var E=arguments.length,L=new Array(E),K=0;K<E;K++)L[K]=arguments[K];return new this(...L)},getActions:We,getCancelButton:an,getCloseButton:st,getConfirmButton:It,getContainer:Tt,getDenyButton:bt,getFocusableElements:dt,getFooter:Ge,getHtmlContainer:ut,getIcon:yt,getIconContent:()=>at(F["icon-content"]),getImage:Se,getInputLabel:()=>at(F["input-label"]),getLoader:Nt,getPopup:He,getProgressSteps:pt,getTimerLeft:()=>Ct.timeout&&Ct.timeout.getTimerLeft(),getTimerProgressBar:it,getTitle:Je,getValidationMessage:Ue,increaseTimer:v=>{if(Ct.timeout){const E=Ct.timeout.increase(v);return un(E,!0),E}},isDeprecatedParameter:zs,isLoading:()=>He().hasAttribute("data-loading"),isTimerRunning:()=>Ct.timeout&&Ct.timeout.isRunning(),isUpdatableParameter:_o,isValidParameter:Lo,isVisible:()=>ar(He()),mixin:function Io(v){return class E extends(this){_main(K,ge){return super._main(K,Object.assign({},v,ge))}}},resumeTimer:oi,showLoading:ji,stopTimer:Rs,toggleTimer:()=>{const v=Ct.timeout;return v&&(v.running?Rs():oi())}});class Zr{constructor(E,L){this.callback=E,this.remaining=L,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const L=this.running;return L&&this.stop(),this.remaining+=E,L&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Qi=["swal-title","swal-html","swal-footer"],Si=v=>{const E={};return Array.from(v.querySelectorAll("swal-param")).forEach(K=>{Oi(K,["name","value"]);const ge=K.getAttribute("name"),$e=K.getAttribute("value");E[ge]="boolean"==typeof qi[ge]?"false"!==$e:"object"==typeof qi[ge]?JSON.parse($e):$e}),E},Xi=v=>{const E={};return Array.from(v.querySelectorAll("swal-function-param")).forEach(K=>{const ge=K.getAttribute("name"),$e=K.getAttribute("value");E[ge]=new Function(`return ${$e}`)()}),E},Sr=v=>{const E={};return Array.from(v.querySelectorAll("swal-button")).forEach(K=>{Oi(K,["type","color","aria-label"]);const ge=K.getAttribute("type");E[`${ge}ButtonText`]=K.innerHTML,E[`show${Ce(ge)}Button`]=!0,K.hasAttribute("color")&&(E[`${ge}ButtonColor`]=K.getAttribute("color")),K.hasAttribute("aria-label")&&(E[`${ge}ButtonAriaLabel`]=K.getAttribute("aria-label"))}),E},Do=v=>{const E={},L=v.querySelector("swal-image");return L&&(Oi(L,["src","width","height","alt"]),L.hasAttribute("src")&&(E.imageUrl=L.getAttribute("src")),L.hasAttribute("width")&&(E.imageWidth=L.getAttribute("width")),L.hasAttribute("height")&&(E.imageHeight=L.getAttribute("height")),L.hasAttribute("alt")&&(E.imageAlt=L.getAttribute("alt"))),E},To=v=>{const E={},L=v.querySelector("swal-icon");return L&&(Oi(L,["type","color"]),L.hasAttribute("type")&&(E.icon=L.getAttribute("type")),L.hasAttribute("color")&&(E.iconColor=L.getAttribute("color")),E.iconHtml=L.innerHTML),E},Ri=v=>{const E={},L=v.querySelector("swal-input");L&&(Oi(L,["type","label","placeholder","value"]),E.input=L.getAttribute("type")||"text",L.hasAttribute("label")&&(E.inputLabel=L.getAttribute("label")),L.hasAttribute("placeholder")&&(E.inputPlaceholder=L.getAttribute("placeholder")),L.hasAttribute("value")&&(E.inputValue=L.getAttribute("value")));const K=Array.from(v.querySelectorAll("swal-input-option"));return K.length&&(E.inputOptions={},K.forEach(ge=>{Oi(ge,["value"]);const $e=ge.getAttribute("value");E.inputOptions[$e]=ge.innerHTML})),E},io=(v,E)=>{const L={};for(const K in E){const ge=E[K],$e=v.querySelector(ge);$e&&(Oi($e,[]),L[ge.replace(/^swal-/,"")]=$e.innerHTML.trim())}return L},so=v=>{const E=Qi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(v.children).forEach(L=>{const K=L.tagName.toLowerCase();E.includes(K)||Ie(`Unrecognized element <${K}>`)})},Oi=(v,E)=>{Array.from(v.attributes).forEach(L=>{-1===E.indexOf(L.name)&&Ie([`Unrecognized attribute "${L.name}" on <${v.tagName.toLowerCase()}>.`,E.length?`Allowed attributes are: ${E.join(", ")}`:"To set the value, use HTML within the element."])})},So=v=>{const E=Tt(),L=He();"function"==typeof v.willOpen&&v.willOpen(L);const ge=window.getComputedStyle(document.body).overflowY;Co(E,L,v),setTimeout(()=>{Br(E,L)},10),Mt()&&(zn(E,v.scrollbarPadding,ge),Array.from(document.body.children).forEach(E=>{E===Tt()||E.contains(Tt())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!Et()&&!Ct.previousActiveElement&&(Ct.previousActiveElement=document.activeElement),"function"==typeof v.didOpen&&setTimeout(()=>v.didOpen(L)),zt(E,F["no-transition"])},Ur=v=>{const E=He();if(v.target!==E)return;const L=Tt();E.removeEventListener(Tn,Ur),L.style.overflowY="auto"},Br=(v,E)=>{Tn&&Vr(E)?(v.style.overflowY="hidden",E.addEventListener(Tn,Ur)):v.style.overflowY="auto"},zn=(v,E,L)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!kt(document.body,F.iosfix)){const E=document.body.scrollTop;document.body.style.top=-1*E+"px",_n(document.body,F.iosfix),ri(),pi()}})(),E&&"hidden"!==L&&ko(),setTimeout(()=>{v.scrollTop=0})},Co=(v,E,L)=>{_n(v,L.showClass.backdrop),E.style.setProperty("opacity","0","important"),Kn(E,"grid"),setTimeout(()=>{_n(E,L.showClass.popup),E.style.removeProperty("opacity")},10),_n([document.documentElement,document.body],F.shown),L.heightAuto&&L.backdrop&&!L.toast&&_n([document.documentElement,document.body],F["height-auto"])};var Ns={email:(v,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(v)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(v,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(v)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function qo(v){(function oo(v){v.inputValidator||Object.keys(Ns).forEach(E=>{v.input===E&&(v.inputValidator=Ns[E])})})(v),v.showLoaderOnConfirm&&!v.preConfirm&&Ie("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function pa(v){(!v.target||"string"==typeof v.target&&!document.querySelector(v.target)||"string"!=typeof v.target&&!v.target.appendChild)&&(Ie('Target parameter is not valid, defaulting to "body"'),v.target="body")}(v),"string"==typeof v.title&&(v.title=v.title.split("\n").join("<br />")),yn(v)}let vi;class vs{constructor(){if(typeof window>"u")return;vi=this;for(var E=arguments.length,L=new Array(E),K=0;K<E;K++)L[K]=arguments[K];const ge=Object.freeze(this.constructor.argsToParams(L));Object.defineProperties(this,{params:{value:ge,writable:!1,enumerable:!0,configurable:!0}});const $e=vi._main(vi.params);Me.promise.set(this,$e)}_main(E){let L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(v=>{!1===v.backdrop&&v.allowOutsideClick&&Ie('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in v)ra(E),v.toast&&$i(E),ia(E)})(Object.assign({},L,E)),Ct.currentInstance&&(Ct.currentInstance._destroy(),Mt()&&Ds()),Ct.currentInstance=vi;const K=Zo(E,L);qo(K),Object.freeze(K),Ct.timeout&&(Ct.timeout.stop(),delete Ct.timeout),clearTimeout(Ct.restoreFocusTimeout);const ge=m(vi);return ui(vi,K),Me.innerParams.set(vi,K),sa(vi,ge,K)}then(E){return Me.promise.get(this).then(E)}finally(E){return Me.promise.get(this).finally(E)}}const sa=(v,E,L)=>new Promise((K,ge)=>{const $e=Ft=>{v.close({isDismissed:!0,dismiss:Ft})};ns.swalPromiseResolve.set(v,K),ns.swalPromiseReject.set(v,ge),E.confirmButton.onclick=()=>{(v=>{const E=Me.innerParams.get(v);v.disableButtons(),E.input?gs(v,"confirm"):Bo(v,!0)})(v)},E.denyButton.onclick=()=>{(v=>{const E=Me.innerParams.get(v);v.disableButtons(),E.returnInputValueOnDeny?gs(v,"deny"):zi(v,!1)})(v)},E.cancelButton.onclick=()=>{((v,E)=>{v.disableButtons(),E(ct.cancel)})(v,$e)},E.closeButton.onclick=()=>{$e(ct.close)},((v,E,L)=>{Me.innerParams.get(v).toast?tt(v,E,L):(Ws(E),qr(E),no(v,E,L))})(v,E,$e),((v,E,L,K)=>{hn(E),L.toast||(E.keydownHandler=ge=>wr(v,ge,K),E.keydownTarget=L.keydownListenerCapture?window:He(),E.keydownListenerCapture=L.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(v,Ct,L,$e),((v,E)=>{"select"===E.input||"radio"===E.input?Hs(v,E):["text","email","number","tel","textarea"].includes(E.input)&&(Xe(E.inputValue)||wt(E.inputValue))&&(ji(It()),si(v,E))})(v,L),So(L),h(Ct,L,$e),d(E,L),setTimeout(()=>{E.container.scrollTop=0})}),Zo=(v,E)=>{const L=(v=>{const E="string"==typeof v.template?document.querySelector(v.template):v.template;if(!E)return{};const L=E.content;return so(L),Object.assign(Si(L),Xi(L),Sr(L),Do(L),To(L),Ri(L),io(L,Qi))})(v),K=Object.assign({},qi,E,L,v);return K.showClass=Object.assign({},qi.showClass,K.showClass),K.hideClass=Object.assign({},qi.hideClass,K.hideClass),K},m=v=>{const E={popup:He(),container:Tt(),actions:We(),confirmButton:It(),denyButton:bt(),cancelButton:an(),loader:Nt(),closeButton:st(),validationMessage:Ue(),progressSteps:pt()};return Me.domCache.set(v,E),E},h=(v,E,L)=>{const K=it();bn(K),E.timer&&(v.timeout=new Zr(()=>{L("timer"),delete v.timeout},E.timer),E.timerProgressBar&&(Kn(K),Vn(K,E,"timerProgressBar"),setTimeout(()=>{v.timeout&&v.timeout.running&&un(E.timer)})))},d=(v,E)=>{if(!E.toast){if(!Ee(E.allowEnterKey))return void O();w(v,E)||Mn(-1,1)}},w=(v,E)=>E.focusDeny&&ar(v.denyButton)?(v.denyButton.focus(),!0):E.focusCancel&&ar(v.cancelButton)?(v.cancelButton.focus(),!0):!(!E.focusConfirm||!ar(v.confirmButton)||(v.confirmButton.focus(),0)),O=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const v=new Date,E=localStorage.getItem("swal-initiation");E?(v.getTime()-Date.parse(E))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const L=document.createElement("audio");L.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",L.loop=!0,document.body.appendChild(L),setTimeout(()=>{L.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${v}`)}Object.assign(vs.prototype,Kr),Object.assign(vs,fa),Object.keys(Kr).forEach(v=>{vs[v]=function(){if(vi)return vi[v](...arguments)}}),vs.DismissReason=ct,vs.version="11.7.5";const V=vs;return V.default=V,V}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Me,j){var I=Me.createElement("style");if(Me.getElementsByTagName("head")[0].appendChild(I),I.styleSheet)I.styleSheet.disabled||(I.styleSheet.cssText=j);else try{I.innerHTML=j}catch{I.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(Jt,Me,j)=>{"use strict";function ae(We,Ge){var it={};for(var st in We)Object.prototype.hasOwnProperty.call(We,st)&&Ge.indexOf(st)<0&&(it[st]=We[st]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var St=0;for(st=Object.getOwnPropertySymbols(We);St<st.length;St++)Ge.indexOf(st[St])<0&&Object.prototype.propertyIsEnumerable.call(We,st[St])&&(it[st[St]]=We[st[St]])}return it}function Ee(We,Ge,it,st){return new(it||(it=Promise))(function(dt,Mt){function Et(Yt){try{Zt(st.next(Yt))}catch(kt){Mt(kt)}}function vn(Yt){try{Zt(st.throw(Yt))}catch(kt){Mt(kt)}}function Zt(Yt){Yt.done?dt(Yt.value):function St(dt){return dt instanceof it?dt:new it(function(Mt){Mt(dt)})}(Yt.value).then(Et,vn)}Zt((st=st.apply(We,Ge||[])).next())})}function Ye(We){return this instanceof Ye?(this.v=We,this):new Ye(We)}function Je(We,Ge,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var St,st=it.apply(We,Ge||[]),dt=[];return St={},Mt("next"),Mt("throw"),Mt("return"),St[Symbol.asyncIterator]=function(){return this},St;function Mt(Dn){st[Dn]&&(St[Dn]=function(Vn){return new Promise(function(Hn,yr){dt.push([Dn,Vn,Hn,yr])>1||Et(Dn,Vn)})})}function Et(Dn,Vn){try{!function vn(Dn){Dn.value instanceof Ye?Promise.resolve(Dn.value.v).then(Zt,Yt):kt(dt[0][2],Dn)}(st[Dn](Vn))}catch(Hn){kt(dt[0][3],Hn)}}function Zt(Dn){Et("next",Dn)}function Yt(Dn){Et("throw",Dn)}function kt(Dn,Vn){Dn(Vn),dt.shift(),dt.length&&Et(dt[0][0],dt[0][1])}}function Se(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ge=We[Symbol.asyncIterator];return Ge?Ge.call(We):(We=function Tt(We){var Ge="function"==typeof Symbol&&Symbol.iterator,it=Ge&&We[Ge],st=0;if(it)return it.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&st>=We.length&&(We=void 0),{value:We&&We[st++],done:!We}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),it={},st("next"),st("throw"),st("return"),it[Symbol.asyncIterator]=function(){return this},it);function st(dt){it[dt]=We[dt]&&function(Mt){return new Promise(function(Et,vn){!function St(dt,Mt,Et,vn){Promise.resolve(vn).then(function(Zt){dt({value:Zt,done:Et})},Mt)}(Et,vn,(Mt=We[dt](Mt)).done,Mt.value)})}}}j.d(Me,{FC:()=>Je,KL:()=>Se,_T:()=>ae,mG:()=>Ee,qq:()=>Ye})},6895:(Jt,Me,j)=>{"use strict";j.d(Me,{Do:()=>He,EM:()=>zs,HT:()=>ae,JF:()=>wo,K0:()=>Ce,Mx:()=>er,O5:()=>we,PM:()=>Qs,S$:()=>Tt,V_:()=>ke,Ye:()=>yt,b0:()=>at,bD:()=>na,ez:()=>bi,q:()=>M,w_:()=>fe});var I=j(4650);let F=null;function M(){return F}function ae(m){F||(F=m)}class fe{}const Ce=new I.OlP("DocumentToken");let Ie=(()=>{class m{historyGo(d){throw new Error("Not implemented")}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=I.Yz7({token:m,factory:function(){return function de(){return(0,I.LFG)(ie)}()},providedIn:"platform"}),m})();const ke=new I.OlP("Location Initialized");let ie=(()=>{class m extends Ie{constructor(d){super(),this._doc=d,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(d){const w=M().getGlobalEventTarget(this._doc,"window");return w.addEventListener("popstate",d,!1),()=>w.removeEventListener("popstate",d)}onHashChange(d){const w=M().getGlobalEventTarget(this._doc,"window");return w.addEventListener("hashchange",d,!1),()=>w.removeEventListener("hashchange",d)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(d){this._location.pathname=d}pushState(d,w,O){he()?this._history.pushState(d,w,O):this._location.hash=O}replaceState(d,w,O){he()?this._history.replaceState(d,w,O):this._location.hash=O}forward(){this._history.forward()}back(){this._history.back()}historyGo(d=0){this._history.go(d)}getState(){return this._history.state}}return m.\u0275fac=function(d){return new(d||m)(I.LFG(Ce))},m.\u0275prov=I.Yz7({token:m,factory:function(){return function Ee(){return new ie((0,I.LFG)(Ce))}()},providedIn:"platform"}),m})();function he(){return!!window.history.pushState}function Xe(m,h){if(0==m.length)return h;if(0==h.length)return m;let d=0;return m.endsWith("/")&&d++,h.startsWith("/")&&d++,2==d?m+h.substring(1):1==d?m+h:m+"/"+h}function Qe(m){const h=m.match(/#|\?|$/),d=h&&h.index||m.length;return m.slice(0,d-("/"===m[d-1]?1:0))+m.slice(d)}function wt(m){return m&&"?"!==m[0]?"?"+m:m}let Tt=(()=>{class m{historyGo(d){throw new Error("Not implemented")}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=I.Yz7({token:m,factory:function(){return(0,I.f3M)(at)},providedIn:"root"}),m})();const Ve=new I.OlP("appBaseHref");let at=(()=>{class m extends Tt{constructor(d,w){super(),this._platformLocation=d,this._removeListenerFns=[],this._baseHref=w??this._platformLocation.getBaseHrefFromDOM()??(0,I.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}prepareExternalUrl(d){return Xe(this._baseHref,d)}path(d=!1){const w=this._platformLocation.pathname+wt(this._platformLocation.search),O=this._platformLocation.hash;return O&&d?`${w}${O}`:w}pushState(d,w,O,V){const v=this.prepareExternalUrl(O+wt(V));this._platformLocation.pushState(d,w,v)}replaceState(d,w,O,V){const v=this.prepareExternalUrl(O+wt(V));this._platformLocation.replaceState(d,w,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(d=0){this._platformLocation.historyGo?.(d)}}return m.\u0275fac=function(d){return new(d||m)(I.LFG(Ie),I.LFG(Ve,8))},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),He=(()=>{class m extends Tt{constructor(d,w){super(),this._platformLocation=d,this._baseHref="",this._removeListenerFns=[],null!=w&&(this._baseHref=w)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}path(d=!1){let w=this._platformLocation.hash;return null==w&&(w="#"),w.length>0?w.substring(1):w}prepareExternalUrl(d){const w=Xe(this._baseHref,d);return w.length>0?"#"+w:w}pushState(d,w,O,V){let v=this.prepareExternalUrl(O+wt(V));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.pushState(d,w,v)}replaceState(d,w,O,V){let v=this.prepareExternalUrl(O+wt(V));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.replaceState(d,w,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(d=0){this._platformLocation.historyGo?.(d)}}return m.\u0275fac=function(d){return new(d||m)(I.LFG(Ie),I.LFG(Ve,8))},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac}),m})(),yt=(()=>{class m{constructor(d){this._subject=new I.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=d;const w=this._locationStrategy.getBaseHref();this._basePath=function Se(m){if(new RegExp("^(https?:)?//").test(m)){const[,d]=m.split(/\/\/[^\/]+/);return d}return m}(Qe(ut(w))),this._locationStrategy.onPopState(O=>{this._subject.emit({url:this.path(!0),pop:!0,state:O.state,type:O.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(d=!1){return this.normalize(this._locationStrategy.path(d))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(d,w=""){return this.path()==this.normalize(d+wt(w))}normalize(d){return m.stripTrailingSlash(function Je(m,h){if(!m||!h.startsWith(m))return h;const d=h.substring(m.length);return""===d||["/",";","?","#"].includes(d[0])?d:h}(this._basePath,ut(d)))}prepareExternalUrl(d){return d&&"/"!==d[0]&&(d="/"+d),this._locationStrategy.prepareExternalUrl(d)}go(d,w="",O=null){this._locationStrategy.pushState(O,"",d,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+wt(w)),O)}replaceState(d,w="",O=null){this._locationStrategy.replaceState(O,"",d,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+wt(w)),O)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(d=0){this._locationStrategy.historyGo?.(d)}onUrlChange(d){return this._urlChangeListeners.push(d),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(w=>{this._notifyUrlChangeListeners(w.url,w.state)})),()=>{const w=this._urlChangeListeners.indexOf(d);this._urlChangeListeners.splice(w,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(d="",w){this._urlChangeListeners.forEach(O=>O(d,w))}subscribe(d,w,O){return this._subject.subscribe({next:d,error:w,complete:O})}}return m.normalizeQueryParams=wt,m.joinWithSlash=Xe,m.stripTrailingSlash=Qe,m.\u0275fac=function(d){return new(d||m)(I.LFG(Tt))},m.\u0275prov=I.Yz7({token:m,factory:function(){return function Ye(){return new yt((0,I.LFG)(Tt))}()},providedIn:"root"}),m})();function ut(m){return m.replace(/\/index.html$/,"")}function er(m,h){h=encodeURIComponent(h);for(const d of m.split(";")){const w=d.indexOf("="),[O,V]=-1==w?[d,""]:[d.slice(0,w),d.slice(w+1)];if(O.trim()===h)return decodeURIComponent(V)}return null}let we=(()=>{class m{constructor(d,w){this._viewContainer=d,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=w}set ngIf(d){this._context.$implicit=this._context.ngIf=d,this._updateView()}set ngIfThen(d){et("ngIfThen",d),this._thenTemplateRef=d,this._thenViewRef=null,this._updateView()}set ngIfElse(d){et("ngIfElse",d),this._elseTemplateRef=d,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(d,w){return!0}}return m.\u0275fac=function(d){return new(d||m)(I.Y36(I.s_b),I.Y36(I.Rgc))},m.\u0275dir=I.lG2({type:m,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),m})();class ye{constructor(){this.$implicit=null,this.ngIf=null}}function et(m,h){if(h&&!h.createEmbeddedView)throw new Error(`${m} must be a TemplateRef, but received '${(0,I.AaK)(h)}'.`)}let bi=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=I.oAB({type:m}),m.\u0275inj=I.cJS({}),m})();const na="browser",Ts="server";function Qs(m){return m===Ts}let zs=(()=>{class m{}return m.\u0275prov=(0,I.Yz7)({token:m,providedIn:"root",factory:()=>new ra((0,I.LFG)(Ce),window)}),m})();class ra{constructor(h,d){this.document=h,this.window=d,this.offset=()=>[0,0]}setOffset(h){this.offset=Array.isArray(h)?()=>h:h}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(h){this.supportsScrolling()&&this.window.scrollTo(h[0],h[1])}scrollToAnchor(h){if(!this.supportsScrolling())return;const d=function ia(m,h){const d=m.getElementById(h)||m.getElementsByName(h)[0];if(d)return d;if("function"==typeof m.createTreeWalker&&m.body&&(m.body.createShadowRoot||m.body.attachShadow)){const w=m.createTreeWalker(m.body,NodeFilter.SHOW_ELEMENT);let O=w.currentNode;for(;O;){const V=O.shadowRoot;if(V){const v=V.getElementById(h)||V.querySelector(`[name="${h}"]`);if(v)return v}O=w.nextNode()}}return null}(this.document,h);d&&(this.scrollToElement(d),d.focus())}setHistoryScrollRestoration(h){if(this.supportScrollRestoration()){const d=this.window.history;d&&d.scrollRestoration&&(d.scrollRestoration=h)}}scrollToElement(h){const d=h.getBoundingClientRect(),w=d.left+this.window.pageXOffset,O=d.top+this.window.pageYOffset,V=this.offset();this.window.scrollTo(w-V[0],O-V[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const h=$i(this.window.history)||$i(Object.getPrototypeOf(this.window.history));return!(!h||!h.writable&&!h.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $i(m){return Object.getOwnPropertyDescriptor(m,"scrollRestoration")}class wo{}},4650:(Jt,Me,j)=>{"use strict";j.d(Me,{$8M:()=>ki,$WT:()=>nt,$Z:()=>ip,AFp:()=>Y0,AaK:()=>de,CHM:()=>Ps,CRH:()=>A0,CZH:()=>by,CqO:()=>Gh,D6c:()=>CI,EJc:()=>zE,EpF:()=>Cm,F4k:()=>Wh,FYo:()=>dl,FiY:()=>ai,GfV:()=>$f,Gpc:()=>he,JOm:()=>$o,KtG:()=>Ws,LFG:()=>yn,Lbi:()=>BE,Lck:()=>Pw,MMx:()=>l_,NdJ:()=>Vp,O4$:()=>Co,OlP:()=>Fe,P3R:()=>Rc,PXZ:()=>iI,Q6J:()=>Fp,QGY:()=>Hd,QbO:()=>VE,Qsj:()=>hl,R0b:()=>Uu,RDi:()=>Ry,Rgc:()=>cg,SBq:()=>vd,Sil:()=>WE,Suo:()=>C0,TTD:()=>_o,TgZ:()=>Qc,X6Q:()=>lI,XFs:()=>en,Xpm:()=>ot,Xts:()=>Pf,Y36:()=>nc,YKP:()=>a0,YNc:()=>zh,Yjl:()=>Oe,Yz7:()=>kt,Z0I:()=>yr,ZZ4:()=>k_,_Bn:()=>o0,_UZ:()=>zd,_Vd:()=>Fc,_c5:()=>TI,_uU:()=>jm,aQg:()=>L_,c2e:()=>$E,cJS:()=>Vn,cg1:()=>ey,dDg:()=>eI,dqk:()=>un,eFA:()=>lw,eJc:()=>__,ekj:()=>au,eoX:()=>sw,f3M:()=>Jn,g9A:()=>X0,h0i:()=>_f,hGG:()=>SI,hij:()=>Ml,iGM:()=>S0,ifc:()=>te,ip1:()=>Z0,jDz:()=>l0,kL8:()=>cf,kcU:()=>oo,lG2:()=>dn,lqb:()=>Pu,lri:()=>rw,n5z:()=>ya,oAB:()=>Ae,oxw:()=>jp,q4F:()=>Bg,qLn:()=>Xl,qOj:()=>Ud,qZA:()=>jd,rWj:()=>iw,sBO:()=>cI,s_b:()=>wy,soG:()=>Dy,tb:()=>aw,tp0:()=>Fs,uIk:()=>Np,vHH:()=>Ve,vpe:()=>kl,wAp:()=>Qn,xp6:()=>Zg,z2F:()=>Ty,zSh:()=>vh,zs3:()=>es});var I=j(7579),F=j(727),M=j(9751),ae=j(6451),fe=j(3099);function Ce(n){for(let i in n)if(n[i]===Ce)return i;throw Error("Could not find renamed property on target object.")}function Ie(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function de(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(de).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ke(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ie=Ce({__forward_ref__:Ce});function he(n){return n.__forward_ref__=he,n.toString=function(){return de(this())},n}function Ee(n){return Xe(n)?n():n}function Xe(n){return"function"==typeof n&&n.hasOwnProperty(ie)&&n.__forward_ref__===he}function Qe(n){return n&&!!n.\u0275providers}const Tt="https://g.co/ng/security#xss";class Ve extends Error{constructor(i,o){super(at(i,o)),this.code=i}}function at(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function He(n){return"string"==typeof n?n:null==n?"":String(n)}function Se(n,i){throw new Ve(-201,!1)}function Mt(n,i){null==n&&function Et(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function kt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hn(n){return Fn(n,rr)||Fn(n,Kn)}function yr(n){return null!==Hn(n)}function Fn(n,i){return n.hasOwnProperty(i)?n[i]:null}function zt(n){return n&&(n.hasOwnProperty(ir)||n.hasOwnProperty(bn))?n[ir]:null}const rr=Ce({\u0275prov:Ce}),ir=Ce({\u0275inj:Ce}),Kn=Ce({ngInjectableDef:Ce}),bn=Ce({ngInjectorDef:Ce});var en=(()=>((en=en||{})[en.Default=0]="Default",en[en.Host=1]="Host",en[en.Self=2]="Self",en[en.SkipSelf=4]="SkipSelf",en[en.Optional=8]="Optional",en))();let Bn;function cr(n){const i=Bn;return Bn=n,i}function Lr(n,i,o){const u=Hn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&en.Optional?null:void 0!==i?i:void Se(de(n))}const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dr={},Ar="__NG_DI_FLAG__",ur="ngTempTokenPath",Fr="ngTokenPath",br=/\n/gm,hr="\u0275",An="__source";let qn;function fn(n){const i=qn;return qn=n,i}function cn(n,i=en.Default){if(void 0===qn)throw new Ve(-203,!1);return null===qn?Lr(n,void 0,i):qn.get(n,i&en.Optional?null:void 0,i)}function yn(n,i=en.Default){return(function ar(){return Bn}()||cn)(Ee(n),i)}function Jn(n,i=en.Default){return yn(n,$n(i))}function $n(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tn(n){const i=[];for(let o=0;o<n.length;o++){const u=Ee(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ve(900,!1);let l,p=en.Default;for(let b=0;b<u.length;b++){const P=u[b],k=fr(P);"number"==typeof k?-1===k?l=P.token:p|=k:l=P}i.push(yn(l,p))}else i.push(yn(u))}return i}function xr(n,i){return n[Ar]=i,n.prototype[Ar]=i,n}function fr(n){return n[Ar]}function ce(n){return{toString:n}.toString()}var Q=(()=>((Q=Q||{})[Q.OnPush=0]="OnPush",Q[Q.Default=1]="Default",Q))(),te=(()=>{return(n=te||(te={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",te;var n})();const Z={},_e=[],se=Ce({\u0275cmp:Ce}),ue=Ce({\u0275dir:Ce}),re=Ce({\u0275pipe:Ce}),Te=Ce({\u0275mod:Ce}),Ke=Ce({\u0275fac:Ce}),lt=Ce({__NG_ELEMENT_ID__:Ce});let nn=0;function ot(n){return ce(()=>{const i=wn(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||te.Emulated,id:"c"+nn++,styles:n.styles||_e,_:null,schemas:n.schemas||null,tView:null};Dr(o);const u=n.dependencies;return o.directiveDefs=er(u,!1),o.pipeDefs=er(u,!0),o})}function rn(n){return G(n)||ne(n)}function Be(n){return null!==n}function Ae(n){return ce(()=>({type:n.type,bootstrap:n.bootstrap||_e,declarations:n.declarations||_e,imports:n.imports||_e,exports:n.exports||_e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qt(n,i){if(null==n)return Z;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),o[l]=u,i&&(i[l]=p)}return o}function dn(n){return ce(()=>{const i=wn(n);return Dr(i),i})}function Oe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function G(n){return n[se]||null}function ne(n){return n[ue]||null}function De(n){return n[re]||null}function nt(n){const i=G(n)||ne(n)||De(n);return null!==i&&i.standalone}function $t(n,i){const o=n[Te]||null;if(!o&&!0===i)throw new Error(`Type ${de(n)} does not have '\u0275mod' property.`);return o}function wn(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||_e,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qt(n.inputs,i),outputs:Qt(n.outputs)}}function Dr(n){n.features?.forEach(i=>i(n))}function er(n,i){if(!n)return null;const o=i?De:rn;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(Be)}const _r=0,At=1,xn=2,Wn=3,tr=4,ui=5,nr=6,Wr=7,Zn=8,xe=9,we=10,ye=11,et=12,ct=13,hn=14,Rn=15,Mn=16,jn=17,ni=18,wr=19,Qr=20,Jr=21,Tr=22,ns=1,po=2,Ds=7,rs=8,pi=9,ri=10;function Ei(n){return Array.isArray(n)&&"object"==typeof n[ns]}function gi(n){return Array.isArray(n)&&!0===n[ns]}function is(n){return 0!=(4&n.flags)}function ko(n){return n.componentOffset>-1}function Ki(n){return 1==(1&n.flags)}function Gr(n){return!!n.template}function Fi(n){return 0!=(256&n[xn])}function Vi(n,i){return n.hasOwnProperty(Ke)?n[Ke]:null}class Lo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function _o(){return zs}function zs(n){return n.type.prototype.ngOnChanges&&(n.setInput=$i),ra}function ra(){const n=Ss(this),i=n?.current;if(i){const o=n.previous;if(o===Z)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function $i(n,i,o,u){const l=this.declaredInputs[o],p=Ss(n)||function wo(n,i){return n[ia]=i}(n,{previous:Z,current:null}),b=p.current||(p.current={}),P=p.previous,k=P[l];b[l]=new Lo(k&&k.currentValue,i,P===Z),n[u]=i}_o.ngInherit=!0;const ia="__ngSimpleChanges__";function Ss(n){return n[ia]||null}const jr=function(n,i,o){},ps="svg";function Kr(n){for(;Array.isArray(n);)n=n[_r];return n}function Xs(n,i){return Kr(i[n])}function ei(n,i){return Kr(i[n.index])}function Fo(n,i){return n.data[i]}function ii(n,i){const o=i[n];return Ei(o)?o:o[_r]}function si(n){return 64==(64&n[xn])}function mi(n,i){return null==i?null:n[i]}function eo(n){n[ni]=0}function to(n,i){n[ui]+=i;let o=n,u=n[Wn];for(;null!==u&&(1===i&&1===o[ui]||-1===i&&0===o[ui]);)u[ui]+=i,o=u,u=u[Wn]}const Nn={lFrame:Ri(null),bindingsEnabled:!0};function Ms(){return Nn.bindingsEnabled}function tt(){return Nn.lFrame.lView}function Un(){return Nn.lFrame.tView}function Ps(n){return Nn.lFrame.contextLView=n,n[Zn]}function Ws(n){return Nn.lFrame.contextLView=null,n}function qr(){let n=no();for(;null!==n&&64===n.type;)n=n.parent;return n}function no(){return Nn.lFrame.currentTNode}function Pi(n,i){const o=Nn.lFrame;o.currentTNode=n,o.isParent=i}function hi(){return Nn.lFrame.isParent}function ms(){return Nn.lFrame.bindingIndex++}function Ti(n,i){const o=Nn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Zr(i)}function Zr(n){Nn.lFrame.currentDirectiveIndex=n}function bo(){return Nn.lFrame.currentQueryIndex}function Si(n){Nn.lFrame.currentQueryIndex=n}function Xi(n){const i=n[At];return 2===i.type?i.declTNode:1===i.type?n[nr]:null}function Sr(n,i,o){if(o&en.SkipSelf){let l=i,p=n;for(;!(l=l.parent,null!==l||o&en.Host||(l=Xi(p),null===l||(p=p[Rn],10&l.type))););if(null===l)return!1;i=l,n=p}const u=Nn.lFrame=To();return u.currentTNode=i,u.lView=n,!0}function Do(n){const i=To(),o=n[At];Nn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function To(){const n=Nn.lFrame,i=null===n?null:n.child;return null===i?Ri(n):i}function Ri(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function io(){const n=Nn.lFrame;return Nn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const so=io;function Oi(){const n=io();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ur(){return Nn.lFrame.selectedIndex}function Br(n){Nn.lFrame.selectedIndex=n}function zn(){const n=Nn.lFrame;return Fo(n.tView,n.selectedIndex)}function Co(){Nn.lFrame.currentNamespace=ps}function oo(){!function pa(){Nn.lFrame.currentNamespace=null}()}function vs(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:P,ngAfterViewInit:k,ngAfterViewChecked:$,ngOnDestroy:Y}=p;b&&(n.contentHooks??(n.contentHooks=[])).push(-o,b),P&&((n.contentHooks??(n.contentHooks=[])).push(o,P),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,P)),k&&(n.viewHooks??(n.viewHooks=[])).push(-o,k),$&&((n.viewHooks??(n.viewHooks=[])).push(o,$),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,$)),null!=Y&&(n.destroyHooks??(n.destroyHooks=[])).push(o,Y)}}function sa(n,i,o){h(n,i,3,o)}function Zo(n,i,o,u){(3&n[xn])===o&&h(n,i,o,u)}function m(n,i){let o=n[xn];(3&o)===i&&(o&=2047,o+=1,n[xn]=o)}function h(n,i,o,u){const p=u??-1,b=i.length-1;let P=0;for(let k=void 0!==u?65535&n[ni]:0;k<b;k++)if("number"==typeof i[k+1]){if(P=i[k],null!=u&&P>=u)break}else i[k]<0&&(n[ni]+=65536),(P<p||-1==p)&&(d(n,o,i,k),n[ni]=(4294901760&n[ni])+k+2),k++}function d(n,i,o,u){const l=o[u]<0,p=o[u+1],P=n[l?-o[u]:o[u]];if(l){if(n[xn]>>11<n[ni]>>16&&(3&n[xn])===i){n[xn]+=2048,jr(4,P,p);try{p.call(P)}finally{jr(5,P,p)}}}else{jr(4,P,p);try{p.call(P)}finally{jr(5,P,p)}}}const w=-1;class O{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function jt(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const p=o[u++],b=o[u++],P=o[u++];n.setAttribute(i,b,P,p)}else{const p=l,b=o[++u];Ht(p)?n.setProperty(i,p,b):n.setAttribute(i,p,b),u++}}return u}function Le(n){return 3===n||4===n||6===n}function Ht(n){return 64===n.charCodeAt(0)}function Sn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||gr(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function gr(n,i,o,u,l){let p=0,b=n.length;if(-1===i)b=-1;else for(;p<n.length;){const P=n[p++];if("number"==typeof P){if(P===i){b=-1;break}if(P>i){b=p-1;break}}}for(;p<n.length;){const P=n[p];if("number"==typeof P)break;if(P===o){if(null===u)return void(null!==l&&(n[p+1]=l));if(u===n[p+1])return void(n[p+2]=l)}p++,null!==u&&p++,null!==l&&p++}-1!==b&&(n.splice(b,0,i),p=b+1),n.splice(p++,0,o),null!==u&&n.splice(p++,0,u),null!==l&&n.splice(p++,0,l)}function Dt(n){return n!==w}function Ut(n){return 32767&n}function Pt(n,i){let o=function Mr(n){return n>>16}(n),u=i;for(;o>0;)u=u[Rn],o--;return u}let Ze=!0;function ht(n){const i=Ze;return Ze=n,i}const us=255,Ks=5;let Ba=0;const Ji={};function Va(n,i){const o=En(n,i);if(-1!==o)return o;const u=i[At];u.firstCreatePass&&(n.injectorIndex=i.length,ao(u.data,n),ao(i,null),ao(u.blueprint,null));const l=sn(n,i),p=n.injectorIndex;if(Dt(l)){const b=Ut(l),P=Pt(l,i),k=P[At].data;for(let $=0;$<8;$++)i[p+$]=P[b+$]|k[b+$]}return i[p+8]=l,p}function ao(n,i){n.push(0,0,0,0,0,0,0,0,i)}function En(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function sn(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Ta(l),null===u)return w;if(o++,l=l[Rn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return w}function Ln(n,i,o){!function ga(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(lt)&&(u=o[lt]),null==u&&(u=o[lt]=Ba++);const l=u&us;i.data[n+(l>>Ks)]|=1<<l}(n,i,o)}function mn(n,i,o){if(o&en.Optional||void 0!==n)return n;Se()}function Ni(n,i,o,u){if(o&en.Optional&&void 0===u&&(u=null),!(o&(en.Self|en.Host))){const l=n[xe],p=cr(void 0);try{return l?l.get(i,u,o&en.Optional):Lr(i,u,o&en.Optional)}finally{cr(p)}}return mn(u,0,o)}function ls(n,i,o,u=en.Default,l){if(null!==n){if(1024&i[xn]){const b=function $a(n,i,o,u,l){let p=n,b=i;for(;null!==p&&null!==b&&1024&b[xn]&&!(256&b[xn]);){const P=Pr(p,b,o,u|en.Self,Ji);if(P!==Ji)return P;let k=p.parent;if(!k){const $=b[Jr];if($){const Y=$.get(o,Ji,u);if(Y!==Ji)return Y}k=Ta(b),b=b[Rn]}p=k}return l}(n,i,o,u,Ji);if(b!==Ji)return b}const p=Pr(n,i,o,u,Ji);if(p!==Ji)return p}return Ni(i,o,u,l)}function Pr(n,i,o,u,l){const p=function _i(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(lt)?n[lt]:void 0;return"number"==typeof i?i>=0?i&us:ma:i}(o);if("function"==typeof p){if(!Sr(i,n,u))return u&en.Host?mn(l,0,u):Ni(i,o,u,l);try{const b=p(u);if(null!=b||u&en.Optional)return b;Se()}finally{so()}}else if("number"==typeof p){let b=null,P=En(n,i),k=w,$=u&en.Host?i[Mn][nr]:null;for((-1===P||u&en.SkipSelf)&&(k=-1===P?sn(n,i):i[P+8],k!==w&&Rt(u,!1)?(b=i[At],P=Ut(k),i=Pt(k,i)):P=-1);-1!==P;){const Y=i[At];if(Rr(p,P,Y.data)){const le=xt(P,i,o,b,u,$);if(le!==Ji)return le}k=i[P+8],k!==w&&Rt(u,i[At].data[P+8]===$)&&Rr(p,P,i)?(b=Y,P=Ut(k),i=Pt(k,i)):P=-1}}return l}function xt(n,i,o,u,l,p){const b=i[At],P=b.data[n+8],Y=li(P,b,o,null==u?ko(P)&&Ze:u!=b&&0!=(3&P.type),l&en.Host&&p===P);return null!==Y?Pn(i,b,Y,P):Ji}function li(n,i,o,u,l){const p=n.providerIndexes,b=i.data,P=1048575&p,k=n.directiveStart,Y=p>>20,Pe=l?P+Y:n.directiveEnd;for(let qe=u?P:P+Y;qe<Pe;qe++){const _t=b[qe];if(qe<k&&o===_t||qe>=k&&_t.type===o)return qe}if(l){const qe=b[k];if(qe&&Gr(qe)&&qe.type===o)return k}return null}function Pn(n,i,o,u){let l=n[o];const p=i.data;if(function V(n){return n instanceof O}(l)){const b=l;b.resolving&&function Ye(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${n}${o}`)}(function yt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(p[o]));const P=ht(b.canSeeViewProviders);b.resolving=!0;const k=b.injectImpl?cr(b.injectImpl):null;Sr(n,u,en.Default);try{l=n[o]=b.factory(void 0,p,n,u),i.firstCreatePass&&o>=u.directiveStart&&function vi(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:p}=i.type.prototype;if(u){const b=zs(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,b),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,b)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),p&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==k&&cr(k),ht(P),b.resolving=!1,so()}}return l}function Rr(n,i,o){return!!(o[i+(n>>Ks)]&1<<n)}function Rt(n,i){return!(n&en.Self||n&en.Host&&i)}class ks{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return ls(this._tNode,this._lView,i,$n(u),o)}}function ma(){return new ks(qr(),tt())}function ya(n){return ce(()=>{const i=n.prototype.constructor,o=i[Ke]||Da(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const p=l[Ke]||Da(l);if(p&&p!==o)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function Da(n){return Xe(n)?()=>{const i=Da(Ee(n));return i&&i()}:Vi(n)}function Ta(n){const i=n[At],o=i.type;return 2===o?i.declTNode:1===o?n[nr]:null}function ki(n){return function Er(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const p=o[l];if(Le(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(p===i)return o[l+1];l+=2}}}return null}(qr(),n)}const Ao="__parameters__";function Yo(n,i,o){return ce(()=>{const u=function Vo(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...p){if(this instanceof l)return u.apply(this,p),this;const b=new l(...p);return P.annotation=b,P;function P(k,$,Y){const le=k.hasOwnProperty(Ao)?k[Ao]:Object.defineProperty(k,Ao,{value:[]})[Ao];for(;le.length<=Y;)le.push(null);return(le[Y]=le[Y]||[]).push(b),k}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Fe{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=kt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ci(n,i){n.forEach(o=>Array.isArray(o)?ci(o,i):i(o))}function Eu(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ma(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function lo(n,i,o){let u=D(n,i);return u>=0?n[1|u]=o:(u=~u,function Ha(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Wa(n,i){const o=D(n,i);if(o>=0)return n[1|o]}function D(n,i){return function _(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const p=u+(l-u>>1),b=n[p<<o];if(i===b)return p<<o;b>i?l=p:u=p+1}return~(l<<o)}(n,i,1)}const ai=xr(Yo("Optional"),8),Fs=xr(Yo("SkipSelf"),4);var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();const jl=new Map;let ld=0;const be="__ngContext__";function ve(n,i){Ei(i)?(n[be]=i[Qr],function pc(n){jl.set(n[Qr],n)}(i)):n[be]=i}let jo;function zo(n,i){return jo(n,i)}function Hl(n){const i=n[Wn];return gi(i)?i[Wn]:i}function rl(n){return pu(n[ct])}function il(n){return pu(n[tr])}function pu(n){for(;null!==n&&!gi(n);)n=n[tr];return n}function Xa(n,i,o,u,l){if(null!=u){let p,b=!1;gi(u)?p=u:Ei(u)&&(b=!0,u=u[_r]);const P=Kr(u);0===n&&null!==o?null==l?Ro(i,o,P):sr(i,o,P,l||null,!0):1===n&&null!==o?sr(i,o,P,l||null,!0):2===n?function If(n,i,o){const u=al(n,i);u&&function yc(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,P,b):3===n&&i.destroyNode(P),null!=p&&function ch(n,i,o,u,l){const p=o[Ds];p!==Kr(o)&&Xa(i,n,u,p,l);for(let P=ri;P<o.length;P++){const k=o[P];Ic(k[At],k,n,i,u,p)}}(i,n,p,o,l)}}function mc(n,i,o){return n.createElement(i,o)}function A(n,i){const o=n[pi],u=o.indexOf(i),l=i[Wn];512&i[xn]&&(i[xn]&=-513,to(l,-1)),o.splice(u,1)}function W(n,i){if(n.length<=ri)return;const o=ri+i,u=n[o];if(u){const l=u[jn];null!==l&&l!==n&&A(l,u),i>0&&(n[o-1][tr]=u[tr]);const p=Ma(n,ri+i);!function Ja(n,i){Ic(n,i,i[ye],2,null,null),i[_r]=null,i[nr]=null}(u[At],u);const b=p[wr];null!==b&&b.detachView(p[At]),u[Wn]=null,u[tr]=null,u[xn]&=-65}return u}function J(n,i){if(!(128&i[xn])){const o=i[ye];o.destroyNode&&Ic(n,i,o,3,null,null),function S(n){let i=n[ct];if(!i)return Re(n[At],n);for(;i;){let o=null;if(Ei(i))o=i[ct];else{const u=i[ri];u&&(o=u)}if(!o){for(;i&&!i[tr]&&i!==n;)Ei(i)&&Re(i[At],i),i=i[Wn];null===i&&(i=n),Ei(i)&&Re(i[At],i),o=i&&i[tr]}i=o}}(i)}}function Re(n,i){if(!(128&i[xn])){i[xn]&=-65,i[xn]|=128,function Bt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof O)){const p=o[u+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const P=l[p[b]],k=p[b+1];jr(4,P,k);try{k.call(P)}finally{jr(5,P,k)}}else{jr(4,l,p);try{p.call(l)}finally{jr(5,l,p)}}}}}(n,i),function rt(n,i){const o=n.cleanup,u=i[Wr];let l=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const b=o[p+3];b>=0?u[l=b]():u[l=-b].unsubscribe(),p+=2}else{const b=u[l=o[p+1]];o[p].call(b)}if(null!==u){for(let p=l+1;p<u.length;p++)(0,u[p])();i[Wr]=null}}(n,i),1===i[At].type&&i[ye].destroy();const o=i[jn];if(null!==o&&gi(i[Wn])){o!==i[Wn]&&A(o,i);const u=i[wr];null!==u&&u.detachView(n)}!function ba(n){jl.delete(n[Qr])}(i)}}function ln(n,i,o){return function On(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[_r];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:p}=n.data[u.directiveStart+l];if(p===te.None||p===te.Emulated)return null}return ei(u,o)}}(n,i.parent,o)}function sr(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Ro(n,i,o){n.appendChild(i,o)}function eu(n,i,o,u,l){null!==u?sr(n,i,o,u,l):Ro(n,i,o)}function al(n,i){return n.parentNode(i)}let la,ql,Ai,_c=function Au(n,i,o){return 40&n.type?ei(n,o):null};function mu(n,i,o,u){const l=ln(n,u,i),p=i[ye],P=function vc(n,i,o){return _c(n,i,o)}(u.parent||i[nr],u,i);if(null!=l)if(Array.isArray(o))for(let k=0;k<o.length;k++)eu(p,l,o[k],P,!1);else eu(p,l,o,P,!1);void 0!==la&&la(p,u,i,o,l)}function wc(n,i){if(null!==i){const o=i.type;if(3&o)return ei(i,n);if(4&o)return mr(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return wc(n,u);{const l=n[i.index];return gi(l)?mr(-1,l):Kr(l)}}if(32&o)return zo(i,n)()||Kr(n[i.index]);{const u=Ec(n,i);return null!==u?Array.isArray(u)?u[0]:wc(Hl(n[Mn]),u):wc(n,i.next)}}return null}function Ec(n,i){return null!==i?n[Mn][nr].projection[i.projection]:null}function mr(n,i){const o=ri+n+1;if(o<i.length){const u=i[o],l=u[At].firstChild;if(null!==l)return wc(u,l)}return i[Ds]}function dd(n,i,o,u,l,p,b){for(;null!=o;){const P=u[o.index],k=o.type;if(b&&0===i&&(P&&ve(Kr(P),u),o.flags|=2),32!=(32&o.flags))if(8&k)dd(n,i,o.child,u,l,p,!1),Xa(i,n,l,P,p);else if(32&k){const $=zo(o,u);let Y;for(;Y=$();)Xa(i,n,l,Y,p);Xa(i,n,l,P,p)}else 16&k?bf(n,i,u,o,l,p):Xa(i,n,l,P,p);o=b?o.projectionNext:o.next}}function Ic(n,i,o,u,l,p){dd(o,u,n.firstChild,i,l,p,!1)}function bf(n,i,o,u,l,p){const b=o[Mn],k=b[nr].projection[u.projection];if(Array.isArray(k))for(let $=0;$<k.length;$++)Xa(i,n,l,k[$],p);else dd(n,i,k,b[Wn],l,p,!0)}function Df(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Kl(n,i,o){const{mergedAttrs:u,classes:l,styles:p}=o;null!==u&&jt(n,i,u),null!==l&&Df(n,i,l),null!==p&&function My(n,i,o){n.setAttribute(i,"style",o)}(n,i,p)}function Ry(n){ql=n}function mg(n){return function Dc(){if(void 0===Ai&&(Ai=null,un.trustedTypes))try{Ai=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ai}()?.createScriptURL(n)||n}class Tc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tt})`}}function zu(n){return n instanceof Tc?n.changingThisBreaksApplicationSecurity:n}function Cc(n,i){const o=function Ac(n){return n instanceof Tc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Tt})`)}return o===i}const Tg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function gh(n){const i=Oc();return i?i.sanitize(Bs.URL,n)||"":Cc(n,"URL")?zu(n):function fd(n){return(n=String(n)).match(Tg)?n:"unsafe:"+n}(He(n))}function xf(n){const i=Oc();if(i)return mg(i.sanitize(Bs.RESOURCE_URL,n)||"");if(Cc(n,"ResourceURL"))return mg(zu(n));throw new Ve(904,!1)}function Rc(n,i,o){return function Pg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?xf:gh}(i,o)(n)}function Oc(){const n=tt();return n&&n[et]}const Pf=new Fe("ENVIRONMENT_INITIALIZER"),Rg=new Fe("INJECTOR",-1),Nc=new Fe("INJECTOR_DEF_TYPES");class mh{get(i,o=dr){if(o===dr){const u=new Error(`NullInjectorError: No provider for ${de(i)}!`);throw u.name="NullInjectorError",u}return o}}function Og(...n){return{\u0275providers:yh(0,n),\u0275fromNgModule:!0}}function yh(n,...i){const o=[],u=new Set;let l;return ci(i,p=>{const b=p;Of(b,o,[],u)&&(l||(l=[]),l.push(b))}),void 0!==l&&Rf(l,o),o}function Rf(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Nf(l,p=>{i.push(p)})}}function Of(n,i,o,u){if(!(n=Ee(n)))return!1;let l=null,p=zt(n);const b=!p&&G(n);if(p||b){if(b&&!b.standalone)return!1;l=n}else{const k=n.ngModule;if(p=zt(k),!p)return!1;l=k}const P=u.has(l);if(b){if(P)return!1;if(u.add(l),b.dependencies){const k="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const $ of k)Of($,i,o,u)}}else{if(!p)return!1;{if(null!=p.imports&&!P){let $;u.add(l);try{ci(p.imports,Y=>{Of(Y,i,o,u)&&($||($=[]),$.push(Y))})}finally{}void 0!==$&&Rf($,i)}if(!P){const $=Vi(l)||(()=>new l);i.push({provide:l,useFactory:$,deps:_e},{provide:Nc,useValue:l,multi:!0},{provide:Pf,useValue:()=>yn(l),multi:!0})}const k=p.providers;null==k||P||Nf(k,Y=>{i.push(Y)})}}return l!==n&&void 0!==n.providers}function Nf(n,i){for(let o of n)Qe(o)&&(o=o.\u0275providers),Array.isArray(o)?Nf(o,i):i(o)}const zy=Ce({provide:String,useValue:Ce});function kf(n){return null!==n&&"object"==typeof n&&zy in n}function ul(n){return"function"==typeof n}const vh=new Fe("Set Injector scope."),ru={},Ng={};let Lf;function md(){return void 0===Lf&&(Lf=new mh),Lf}class Pu{}class ll extends Pu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(i,b=>this.processProvider(b)),this.records.set(Rg,cl(void 0,this)),l.has("environment")&&this.records.set(Pu,cl(void 0,this));const p=this.records.get(vh);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Nc.multi,_e,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=fn(this),u=cr(void 0);try{return i()}finally{fn(o),cr(u)}}get(i,o=dr,u=en.Default){this.assertNotDestroyed(),u=$n(u);const l=fn(this),p=cr(void 0);try{if(!(u&en.SkipSelf)){let P=this.records.get(i);if(void 0===P){const k=function Lg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Fe}(i)&&Hn(i);P=k&&this.injectableDefInScope(k)?cl(Wu(i),ru):null,this.records.set(i,P)}if(null!=P)return this.hydrate(i,P)}return(u&en.Self?md():this.parent).get(i,o=u&en.Optional&&o===dr?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[ur]=b[ur]||[]).unshift(de(i)),l)throw b;return function kr(n,i,o,u){const l=n[ur];throw i[An]&&l.unshift(i[An]),n.message=function pe(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==hr?n.slice(2):n;let l=de(i);if(Array.isArray(i))l=i.map(de).join(" -> ");else if("object"==typeof i){let p=[];for(let b in i)if(i.hasOwnProperty(b)){let P=i[b];p.push(b+":"+("string"==typeof P?JSON.stringify(P):de(P)))}l=`{${p.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(br,"\n  ")}`}("\n"+n.message,l,o,u),n[Fr]=l,n[ur]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{cr(p),fn(l)}}resolveInjectorInitializers(){const i=fn(this),o=cr(void 0);try{const u=this.get(Pf.multi,_e,en.Self);for(const l of u)l()}finally{fn(i),cr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(de(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processProvider(i){let o=ul(i=Ee(i))?i:Ee(i&&i.provide);const u=function yd(n){return kf(n)?cl(void 0,n.useValue):cl(Ff(n),ru)}(i);if(ul(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=cl(void 0,ru,!0),l.factory=()=>Tn(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===ru&&(o.value=Ng,o.value=o.factory()),"object"==typeof o.value&&o.value&&function kg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ee(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Wu(n){const i=Hn(n),o=null!==i?i.factory:Vi(n);if(null!==o)return o;if(n instanceof Fe)throw new Ve(204,!1);if(n instanceof Function)return function Ql(n){const i=n.length;if(i>0)throw function ws(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Ve(204,!1);const o=function _n(n){return n&&(n[rr]||n[Kn])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ve(204,!1)}function Ff(n,i,o){let u;if(ul(n)){const l=Ee(n);return Vi(l)||Wu(l)}if(kf(n))u=()=>Ee(n.useValue);else if(function Yl(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Tn(n.deps||[]));else if(function Hu(n){return!(!n||!n.useExisting)}(n))u=()=>yn(Ee(n.useExisting));else{const l=Ee(n&&(n.useClass||n.provide));if(!function Uf(n){return!!n.deps}(n))return Vi(l)||Wu(l);u=()=>new l(...Tn(n.deps))}return u}function cl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Bf(n,i){for(const o of n)Array.isArray(o)?Bf(o,i):o&&Qe(o)?Bf(o.\u0275providers,i):i(o)}class Fg{}class Vf{}class Wy{resolveComponentFactory(i){throw function _h(n){const i=Error(`No component factory found for ${de(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Fc=(()=>{class n{}return n.NULL=new Wy,n})();function Gy(){return Uc(qr(),tt())}function Uc(n,i){return new vd(ei(n,i))}let vd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Gy,n})();function _d(n){return n instanceof vd?n.nativeElement:n}class dl{}let hl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ug(){const n=tt(),o=ii(qr().index,n);return(Ei(o)?o:n)[ye]}(),n})(),Ky=(()=>{class n{}return n.\u0275prov=kt({token:n,providedIn:"root",factory:()=>null}),n})();class $f{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Bg=new $f("15.2.9"),wd={},Ed="ngOriginalError";function Id(n){return n[Ed]}class Xl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Id(i);for(;o&&Id(o);)o=Id(o);return o||null}}function iu(n){return n instanceof Function?n():n}function Dd(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const p=i.length;if(l+p===u||n.charCodeAt(l+p)<=32)return l}o=l+1}}const Wf="ng-template";function fl(n,i,o){let u=0,l=!0;for(;u<n.length;){let p=n[u++];if("string"==typeof p&&l){const b=n[u++];if(o&&"class"===p&&-1!==Dd(b.toLowerCase(),i,0))return!0}else{if(1===p){for(;u<n.length&&"string"==typeof(p=n[u++]);)if(p.toLowerCase()===i)return!0;return!1}"number"==typeof p&&(l=!1)}}return!1}function Jl(n){return 4===n.type&&n.value!==Wf}function Hg(n,i,o){return i===(4!==n.type||o?n.value:Wf)}function ec(n,i,o){let u=4;const l=n.attrs||[],p=function Wg(n){for(let i=0;i<n.length;i++)if(Le(n[i]))return i;return n.length}(l);let b=!1;for(let P=0;P<i.length;P++){const k=i[P];if("number"!=typeof k){if(!b)if(4&u){if(u=2|1&u,""!==k&&!Hg(n,k,o)||""===k&&1===i.length){if(yu(u))return!1;b=!0}}else{const $=8&u?k:i[++P];if(8&u&&null!==n.attrs){if(!fl(n.attrs,$,o)){if(yu(u))return!1;b=!0}continue}const le=Bc(8&u?"class":k,l,Jl(n),o);if(-1===le){if(yu(u))return!1;b=!0;continue}if(""!==$){let Pe;Pe=le>p?"":l[le+1].toLowerCase();const qe=8&u?Pe:null;if(qe&&-1!==Dd(qe,$,0)||2&u&&$!==Pe){if(yu(u))return!1;b=!0}}}}else{if(!b&&!yu(u)&&!yu(k))return!1;if(b&&yu(k))continue;b=!1,u=k|1&u}}return yu(u)||b}function yu(n){return 0==(1&n)}function Bc(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let p=!1;for(;l<i.length;){const b=i[l];if(b===n)return l;if(3===b||6===b)p=!0;else{if(1===b||2===b){let P=i[++l];for(;"string"==typeof P;)P=i[++l];continue}if(4===b)break;if(0===b){l+=4;continue}}l+=p?1:2}return-1}return function Qy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Gf(n,i,o=!1){for(let u=0;u<i.length;u++)if(ec(n,i[u],o))return!0;return!1}function Kg(n,i){return n?":not("+i.trim()+")":i}function qg(n){let i=n[0],o=1,u=2,l="",p=!1;for(;o<n.length;){let b=n[o];if("string"==typeof b)if(2&u){const P=n[++o];l+="["+b+(P.length>0?'="'+P+'"':"")+"]"}else 8&u?l+="."+b:4&u&&(l+=" "+b);else""!==l&&!yu(b)&&(i+=Kg(p,l),l=""),u=b,p=p||!yu(u);o++}return""!==l&&(i+=Kg(p,l)),i}const vr={};function Zg(n){Kf(Un(),tt(),Ur()+n,!1)}function Kf(n,i,o,u){if(!u)if(3==(3&i[xn])){const p=n.preOrderCheckHooks;null!==p&&sa(i,p,o)}else{const p=n.preOrderHooks;null!==p&&Zo(i,p,0,o)}Br(o)}function em(n,i=null,o=null,u){const l=bh(n,i,o,u);return l.resolveInjectorInitializers(),l}function bh(n,i=null,o=null,u,l=new Set){const p=[o||_e,Og(n)];return u=u||("object"==typeof n?void 0:de(n)),new ll(p,i||md(),u||null,l)}let es=(()=>{class n{static create(o,u){if(Array.isArray(o))return em({name:""},u,o,"");{const l=o.name??"";return em({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=dr,n.NULL=new mh,n.\u0275prov=kt({token:n,providedIn:"any",factory:()=>yn(Rg)}),n.__NG_ELEMENT_ID__=-1,n})();function nc(n,i=en.Default){const o=tt();return null===o?yn(n,i):ls(qr(),o,Ee(n),i)}function ip(){throw new Error("invalid")}function Sh(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const p=o[u+1];if(-1!==p){const b=n.data[p];Si(o[u]),b.contentQueries(2,i[p],p)}}}function xd(n,i,o,u,l,p,b,P,k,$,Y){const le=i.blueprint.slice();return le[_r]=l,le[xn]=76|u,(null!==Y||n&&1024&n[xn])&&(le[xn]|=1024),eo(le),le[Wn]=le[Rn]=n,le[Zn]=o,le[we]=b||n&&n[we],le[ye]=P||n&&n[ye],le[et]=k||n&&n[et]||null,le[xe]=$||n&&n[xe]||null,le[nr]=p,le[Qr]=function Es(){return ld++}(),le[Jr]=Y,le[Mn]=2==i.type?n[Mn]:le,le}function rc(n,i,o,u,l){let p=n.data[i];if(null===p)p=function Md(n,i,o,u,l){const p=no(),b=hi(),k=n.data[i]=function lv(n,i,o,u,l,p){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=k),null!==p&&(b?null==p.child&&null!==k.parent&&(p.child=k):null===p.next&&(p.next=k,k.prev=p)),k}(n,i,o,u,l),function ro(){return Nn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=u,p.attrs=l;const b=function Gs(){const n=Nn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return Pi(p,!0),p}function yl(n,i,o,u){if(0===o)return-1;const l=i.length;for(let p=0;p<o;p++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function ic(n,i,o){Do(i);try{const u=n.viewQuery;null!==u&&yp(1,u,o);const l=n.template;null!==l&&Ch(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Sh(n,i),n.staticViewQueries&&yp(2,n.viewQuery,o);const p=n.components;null!==p&&function sp(n,i){for(let o=0;o<i.length;o++)mp(n,i[o])}(i,p)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[xn]&=-5,Oi()}}function sc(n,i,o,u){const l=i[xn];if(128!=(128&l)){Do(i);try{eo(i),function Zi(n){return Nn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Ch(n,i,o,2,u);const b=3==(3&l);if(b){const $=n.preOrderCheckHooks;null!==$&&sa(i,$,null)}else{const $=n.preOrderHooks;null!==$&&Zo(i,$,0,null),m(i,0)}if(function hv(n){for(let i=rl(n);null!==i;i=il(i)){if(!i[po])continue;const o=i[pi];for(let u=0;u<o.length;u++){const l=o[u];512&l[xn]||to(l[Wn],1),l[xn]|=512}}}(i),function fp(n){for(let i=rl(n);null!==i;i=il(i))for(let o=ri;o<i.length;o++){const u=i[o],l=u[At];si(u)&&sc(l,u,l.template,u[Zn])}}(i),null!==n.contentQueries&&Sh(n,i),b){const $=n.contentCheckHooks;null!==$&&sa(i,$)}else{const $=n.contentHooks;null!==$&&Zo(i,$,1),m(i,1)}!function av(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Br(~l);else{const p=l,b=o[++u],P=o[++u];Ti(b,p),P(2,i[p])}}}finally{Br(-1)}}(n,i);const P=n.components;null!==P&&function uv(n,i){for(let o=0;o<i.length;o++)pp(n,i[o])}(i,P);const k=n.viewQuery;if(null!==k&&yp(2,k,u),b){const $=n.viewCheckHooks;null!==$&&sa(i,$)}else{const $=n.viewHooks;null!==$&&Zo(i,$,2),m(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[xn]&=-41,512&i[xn]&&(i[xn]&=-513,to(i[Wn],-1))}finally{Oi()}}}function Ch(n,i,o,u,l){const p=Ur(),b=2&u;try{Br(-1),b&&i.length>Tr&&Kf(n,i,Tr,!1),jr(b?2:0,l),o(u,l)}finally{Br(p),jr(b?3:1,l)}}function Pd(n,i,o){if(is(i)){const l=i.directiveEnd;for(let p=i.directiveStart;p<l;p++){const b=n.data[p];b.contentQueries&&b.contentQueries(1,o[p],p)}}}function Rd(n,i,o){Ms()&&(function dv(n,i,o,u){const l=o.directiveStart,p=o.directiveEnd;ko(o)&&function fm(n,i,o){const u=ei(i,n),l=om(o),p=n[we],b=jc(n,xd(n,l,null,o.onPush?32:16,u,i,p,p.createRenderer(u,o),null,null,null));n[i.index]=b}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Va(o,i),ve(u,i);const b=o.initialInputs;for(let P=l;P<p;P++){const k=n.data[P],$=Pn(i,n,P,o);ve($,i),null!==b&&_l(0,P-l,$,k,0,b),Gr(k)&&(ii(o.index,i)[Zn]=Pn(i,n,P,o))}}(n,i,o,ei(o,i)),64==(64&o.flags)&&hm(n,i,o))}function Ah(n,i,o=ei){const u=i.localNames;if(null!==u){let l=i.index+1;for(let p=0;p<u.length;p+=2){const b=u[p+1],P=-1===b?o(i,n):n[b];n[l++]=P}}}function om(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=xh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function xh(n,i,o,u,l,p,b,P,k,$){const Y=Tr+u,le=Y+l,Pe=function Mh(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:vr);return o}(Y,le),qe="function"==typeof $?$():$;return Pe[At]={type:n,blueprint:Pe,template:o,queries:null,viewQuery:P,declTNode:i,data:Pe.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:k,consts:qe,incompleteFirstPass:!1}}function am(n,i,o,u){const l=vp(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&_p(n).push(u,l.length-1))}function Wo(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const p=n[l];null===u?um(o,i,l,p):u.hasOwnProperty(l)&&um(o,i,u[l],p)}return o}function um(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function up(n,i,o,u){if(Ms()){const l=null===u?null:{"":-1},p=function cp(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let p=0;p<o.length;p++){const b=o[p];if(Gf(i,b.selectors,!1))if(u||(u=[]),Gr(b))if(null!==b.findHostDirectiveDefs){const P=[];l=l||new Map,b.findHostDirectiveDefs(b,P,l),u.unshift(...P,b),vl(n,i,P.length)}else u.unshift(b),vl(n,i,0);else l=l||new Map,b.findHostDirectiveDefs?.(b,u,l),u.push(b)}return null===u?null:[u,l]}(n,o);let b,P;null===p?b=P=null:[b,P]=p,null!==b&&dm(n,i,o,b,l,P),l&&function dp(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const p=o[i[l+1]];if(null==p)throw new Ve(-301,!1);u.push(i[l],p)}}}(o,u,l)}o.mergedAttrs=Sn(o.mergedAttrs,o.attrs)}function dm(n,i,o,u,l,p){for(let $=0;$<u.length;$++)Ln(Va(o,i),n,u[$].type);!function Nd(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let $=0;$<u.length;$++){const Y=u[$];Y.providersResolver&&Y.providersResolver(Y)}let b=!1,P=!1,k=yl(n,i,u.length,null);for(let $=0;$<u.length;$++){const Y=u[$];o.mergedAttrs=Sn(o.mergedAttrs,Y.hostAttrs),hp(n,o,i,k,Y),Rh(k,Y,l),null!==Y.contentQueries&&(o.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(o.flags|=64);const le=Y.type.prototype;!b&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),b=!0),!P&&(le.ngOnChanges||le.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),P=!0),k++}!function lm(n,i,o){const l=i.directiveEnd,p=n.data,b=i.attrs,P=[];let k=null,$=null;for(let Y=i.directiveStart;Y<l;Y++){const le=p[Y],Pe=o?o.get(le):null,_t=Pe?Pe.outputs:null;k=Wo(le.inputs,Y,k,Pe?Pe.inputs:null),$=Wo(le.outputs,Y,$,_t);const qt=null===k||null===b||Jl(i)?null:pm(k,Y,b);P.push(qt)}null!==k&&(k.hasOwnProperty("class")&&(i.flags|=8),k.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=P,i.inputs=k,i.outputs=$}(n,o,p)}function hm(n,i,o){const u=o.directiveStart,l=o.directiveEnd,p=o.index,b=function fa(){return Nn.lFrame.currentDirectiveIndex}();try{Br(p);for(let P=u;P<l;P++){const k=n.data[P],$=i[P];Zr(P),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Od(k,$)}}finally{Br(-1),Zr(b)}}function Od(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function vl(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Rh(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Gr(i)&&(o[""]=n)}}function hp(n,i,o,u,l){n.data[u]=l;const p=l.factory||(l.factory=Vi(l.type)),b=new O(p,Gr(l),nc);n.blueprint[u]=b,o[u]=b,function cv(n,i,o,u,l){const p=l.hostBindings;if(p){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const P=~i.index;(function lp(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(b)!=P&&b.push(P),b.push(o,u,p)}}(n,i,u,yl(n,o,l.hostVars,vr),l)}function su(n,i,o,u,l,p){const b=ei(n,i);!function kd(n,i,o,u,l,p,b){if(null==p)n.removeAttribute(i,l,o);else{const P=null==b?He(p):b(p,u||"",l);n.setAttribute(i,l,P,o)}}(i[ye],b,p,n.value,o,u,l)}function _l(n,i,o,u,l,p){const b=p[i];if(null!==b){const P=u.setInput;for(let k=0;k<b.length;){const $=b[k++],Y=b[k++],le=b[k++];null!==P?u.setInput(o,le,$,Y):o[Y]=le}}}function pm(n,i,o){let u=null,l=0;for(;l<o.length;){const p=o[l];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===u&&(u=[]);const b=n[p];for(let P=0;P<b.length;P+=2)if(b[P]===i){u.push(p,b[P+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function gm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function pp(n,i){const o=ii(i,n);if(si(o)){const u=o[At];48&o[xn]?sc(u,o,u.template,o[Zn]):o[ui]>0&&gp(o)}}function gp(n){for(let u=rl(n);null!==u;u=il(u))for(let l=ri;l<u.length;l++){const p=u[l];if(si(p))if(512&p[xn]){const b=p[At];sc(b,p,b.template,p[Zn])}else p[ui]>0&&gp(p)}const o=n[At].components;if(null!==o)for(let u=0;u<o.length;u++){const l=ii(o[u],n);si(l)&&l[ui]>0&&gp(l)}}function mp(n,i){const o=ii(i,n),u=o[At];(function Oh(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),ic(u,o,o[Zn])}function jc(n,i){return n[ct]?n[hn][tr]=i:n[ct]=i,n[hn]=i,i}function Ld(n){for(;n;){n[xn]|=32;const i=Hl(n);if(Fi(n)&&!i)return n;n=i}return null}function Gu(n,i,o,u=!0){const l=i[we];l.begin&&l.begin();try{sc(n,i,n.template,o)}catch(b){throw u&&Nh(i,b),b}finally{l.end&&l.end()}}function yp(n,i,o){Si(0),i(n,o)}function vp(n){return n[Wr]||(n[Wr]=[])}function _p(n){return n.cleanup||(n.cleanup=[])}function Nh(n,i){const o=n[xe],u=o?o.get(Xl,null):null;u&&u.handleError(i)}function wp(n,i,o,u,l){for(let p=0;p<o.length;){const b=o[p++],P=o[p++],k=i[b],$=n.data[b];null!==$.setInput?$.setInput(k,l,u,P):k[P]=l}}function kh(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,p=0;if(null!==i)for(let b=0;b<i.length;b++){const P=i[b];"number"==typeof P?p=P:1==p?l=ke(l,P):2==p&&(u=ke(u,P+": "+i[++b]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function zc(n,i,o,u,l=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&u.push(Kr(p)),gi(p))for(let P=ri;P<p.length;P++){const k=p[P],$=k[At].firstChild;null!==$&&zc(k[At],k,$,u)}const b=o.type;if(8&b)zc(n,i,o.child,u);else if(32&b){const P=zo(o,i);let k;for(;k=P();)u.push(k)}else if(16&b){const P=Ec(i,o);if(Array.isArray(P))u.push(...P);else{const k=Hl(i[Mn]);zc(k[At],k,P,u,!0)}}o=l?o.projectionNext:o.next}return u}class Fd{get rootNodes(){const i=this._lView,o=i[At];return zc(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(i){this._lView[Zn]=i}get destroyed(){return 128==(128&this._lView[xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Wn];if(gi(i)){const o=i[rs],u=o?o.indexOf(this):-1;u>-1&&(W(i,u),Ma(o,u))}this._attachedToViewContainer=!1}J(this._lView[At],this._lView)}onDestroy(i){am(this._lView[At],this._lView,null,i)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[xn]&=-65}reattach(){this._lView[xn]|=64}detectChanges(){Gu(this._lView[At],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ol(n,i){Ic(n,i,i[ye],2,null,null)}(this._lView[At],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=i}}class Ep extends Fd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Gu(i[At],i,i[Zn],!1)}checkNoChanges(){}get context(){return null}}class Ip extends Fc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=G(i);return new Ou(o,this.ngModule)}}function Lh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Dp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=$n(u);const l=this.injector.get(i,wd,u);return l!==wd||o===wd?l:this.parentInjector.get(i,o,u)}}class Ou extends Vf{get inputs(){return Lh(this.componentDef.inputs)}get outputs(){return Lh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Xy(n){return n.map(qg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let p=(l=l||this.ngModule)instanceof Pu?l:l?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new Dp(i,p):i,P=b.get(dl,null);if(null===P)throw new Ve(407,!1);const k=b.get(Ky,null),$=P.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",le=u?function op(n,i,o){return n.selectRootElement(i,o===te.ShadowDom)}($,u,this.componentDef.encapsulation):mc($,Y,function bp(n){const i=n.toLowerCase();return"svg"===i?ps:"math"===i?"math":null}(Y)),Pe=this.componentDef.onPush?288:272,qe=xh(0,null,null,1,0,null,null,null,null,null),_t=xd(null,qe,null,Pe,null,null,P,$,k,b,null);let qt,gn;Do(_t);try{const kn=this.componentDef;let or,Ot=null;kn.findHostDirectiveDefs?(or=[],Ot=new Map,kn.findHostDirectiveDefs(kn,or,Ot),or.push(kn)):or=[kn];const Cr=function Hc(n,i){const o=n[At],u=Tr;return n[u]=i,rc(o,u,2,"#host",null)}(_t,le),bs=function Wc(n,i,o,u,l,p,b,P){const k=l[At];!function _m(n,i,o,u){for(const l of n)i.mergedAttrs=Sn(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(kh(i,i.mergedAttrs,!0),null!==o&&Kl(u,o,i))}(u,n,i,b);const $=p.createRenderer(i,o),Y=xd(l,om(o),null,o.onPush?32:16,l[n.index],n,p,$,P||null,null,null);return k.firstCreatePass&&vl(k,n,u.length-1),jc(l,Y),l[n.index]=Y}(Cr,le,kn,or,_t,P,$);gn=Fo(qe,Tr),le&&function fv(n,i,o,u){if(u)jt(n,o,["ng-version",Bg.full]);else{const{attrs:l,classes:p}=function Ih(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let p=n[u];if("string"==typeof p)2===l?""!==p&&i.push(p,n[++u]):8===l&&o.push(p);else{if(!yu(l))break;l=p}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&jt(n,o,l),p&&p.length>0&&Df(n,o,p.join(" "))}}($,kn,le,u),void 0!==o&&function pv(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const p=o[l];u.push(null!=p?Array.from(p):null)}}(gn,this.ngContentSelectors,o),qt=function Gc(n,i,o,u,l,p){const b=qr(),P=l[At],k=ei(b,l);dm(P,l,b,o,null,u);for(let Y=0;Y<o.length;Y++)ve(Pn(l,P,b.directiveStart+Y,b),l);hm(P,l,b),k&&ve(k,l);const $=Pn(l,P,b.directiveStart+b.componentOffset,b);if(n[Zn]=l[Zn]=$,null!==p)for(const Y of p)Y($,i);return Pd(P,b,n),$}(bs,kn,or,Ot,_t,[Tp]),ic(qe,_t,null)}finally{Oi()}return new wl(this.componentType,qt,Uc(gn,_t),_t,gn)}}class wl extends Fg{constructor(i,o,u,l,p){super(),this.location=u,this._rootLView=l,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Ep(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const p=this._rootLView;wp(p[At],p,l,i,o),Ld(ii(this._tNode.index,p))}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Tp(){const n=qr();vs(tt()[At],n)}function Ud(n){let i=function Fh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Gr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ve(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const b=n;b.inputs=Cp(n.inputs),b.declaredInputs=Cp(n.declaredInputs),b.outputs=Cp(n.outputs);const P=l.hostBindings;P&&xp(n,P);const k=l.viewQuery,$=l.contentQueries;if(k&&gv(n,k),$&&Ap(n,$),Ie(n.inputs,l.inputs),Ie(n.declaredInputs,l.declaredInputs),Ie(n.outputs,l.outputs),Gr(l)&&l.data.animation){const Y=n.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let b=0;b<p.length;b++){const P=p[b];P&&P.ngInherit&&P(n),P===Ud&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Sp(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Sn(l.hostAttrs,o=Sn(o,l.hostAttrs))}}(u)}function Cp(n){return n===Z?{}:n===_e?[]:n}function gv(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function Ap(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,p)=>{i(u,l,p),o(u,l,p)}:i}function xp(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function Uh(n){return!!Bd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Bd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Oo(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Np(n,i,o,u){const l=tt();return Oo(l,ms(),i)&&(Un(),su(zn(),l,n,i,o,u)),Np}function zh(n,i,o,u,l,p,b,P){const k=tt(),$=Un(),Y=n+Tr,le=$.firstCreatePass?function wv(n,i,o,u,l,p,b,P,k){const $=i.consts,Y=rc(i,n,4,b||null,mi($,P));up(i,o,Y,mi($,k)),vs(i,Y);const le=Y.tView=xh(2,Y,u,l,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,$);return null!==i.queries&&(i.queries.template(i,Y),le.queries=i.queries.embeddedTView(Y)),Y}(Y,$,k,i,o,u,l,p,b):$.data[Y];Pi(le,!1);const Pe=k[ye].createComment("");mu($,k,Pe,le),ve(Pe,k),jc(k,k[Y]=gm(Pe,k,Pe,le)),Ki(le)&&Rd($,k,le),null!=b&&Ah(k,le,P)}function Fp(n,i,o){const u=tt();return Oo(u,ms(),i)&&function Go(n,i,o,u,l,p,b,P){const k=ei(i,o);let Y,$=i.inputs;!P&&null!=$&&(Y=$[u])?(wp(n,o,Y,u,l),ko(i)&&function ap(n,i){const o=ii(i,n);16&o[xn]||(o[xn]|=32)}(o,i.index)):3&i.type&&(u=function Ph(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=b?b(l,i.value||"",u):l,p.setProperty(k,u,l))}(Un(),zn(),u,n,i,u[ye],o,!1),Fp}function $d(n,i,o,u,l){const b=l?"class":"style";wp(n,o,i.inputs[b],b,u)}function Qc(n,i,o,u){const l=tt(),p=Un(),b=Tr+n,P=l[ye],k=p.firstCreatePass?function Iv(n,i,o,u,l,p){const b=i.consts,k=rc(i,n,2,u,mi(b,l));return up(i,o,k,mi(b,p)),null!==k.attrs&&kh(k,k.attrs,!1),null!==k.mergedAttrs&&kh(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(b,p,l,i,o,u):p.data[b],$=l[b]=mc(P,i,function qo(){return Nn.lFrame.currentNamespace}()),Y=Ki(k);return Pi(k,!0),Kl(P,$,k),32!=(32&k.flags)&&mu(p,l,$,k),0===function Di(){return Nn.lFrame.elementDepthCount}()&&ve($,l),function zi(){Nn.lFrame.elementDepthCount++}(),Y&&(Rd(p,l,k),Pd(p,k,l)),null!==u&&Ah(l,k),Qc}function jd(){let n=qr();hi()?function as(){Nn.lFrame.isParent=!1}():(n=n.parent,Pi(n,!1));const i=n;!function Mi(){Nn.lFrame.elementDepthCount--}();const o=Un();return o.firstCreatePass&&(vs(o,n),is(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function K(n){return 0!=(8&n.flags)}(i)&&$d(o,i,tt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ge(n){return 0!=(16&n.flags)}(i)&&$d(o,i,tt(),i.stylesWithoutHost,!1),jd}function zd(n,i,o,u){return Qc(n,i,o,u),jd(),zd}function Cm(){return tt()}function Hd(n){return!!n&&"function"==typeof n.then}function Wh(n){return!!n&&"function"==typeof n.subscribe}const Gh=Wh;function Vp(n,i,o,u){const l=tt(),p=Un(),b=qr();return function Kh(n,i,o,u,l,p,b){const P=Ki(u),$=n.firstCreatePass&&_p(n),Y=i[Zn],le=vp(i);let Pe=!0;if(3&u.type||b){const qt=ei(u,i),gn=b?b(qt):qt,kn=le.length,or=b?Cr=>b(Kr(Cr[u.index])):u.index;let Ot=null;if(!b&&P&&(Ot=function bv(n,i,o,u){const l=n.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const b=l[p];if(b===o&&l[p+1]===u){const P=i[Wr],k=l[p+2];return P.length>k?P[k]:null}"string"==typeof b&&(p+=2)}return null}(n,i,l,u.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=p,Ot.__ngLastListenerFn__=p,Pe=!1;else{p=ac(u,i,Y,p,!1);const Cr=o.listen(gn,l,p);le.push(p,Cr),$&&$.push(l,or,kn,kn+1)}}else p=ac(u,i,Y,p,!1);const qe=u.outputs;let _t;if(Pe&&null!==qe&&(_t=qe[l])){const qt=_t.length;if(qt)for(let gn=0;gn<qt;gn+=2){const bs=i[_t[gn]][_t[gn+1]].subscribe(p),fo=le.length;le.push(p,bs),$&&$.push(l,u.index,fo,-(fo+1))}}}(p,l,l[ye],b,n,i,u),Vp}function $p(n,i,o,u){try{return jr(6,i,o),!1!==o(u)}catch(l){return Nh(n,l),!1}finally{jr(7,i,o)}}function ac(n,i,o,u,l){return function p(b){if(b===Function)return u;Ld(n.componentOffset>-1?ii(n.index,i):i);let k=$p(i,o,u,b),$=p.__ngNextListenerFn__;for(;$;)k=$p(i,o,$,b)&&k,$=$.__ngNextListenerFn__;return l&&!1===k&&(b.preventDefault(),b.returnValue=!1),k}}function jp(n=1){return function Os(n){return(Nn.lFrame.contextLView=function So(n,i){for(;n>0;)i=i[Rn],n--;return i}(n,Nn.lFrame.contextLView))[Zn]}(n)}function Jc(n,i){return n<<17|i<<2}function Ku(n){return n>>17&32767}function Kd(n){return 2|n}function Al(n){return(131068&n)>>2}function xl(n,i){return-131069&n|i<<2}function Gp(n){return 1|n}function Kp(n,i,o,u,l){const p=n[o+1],b=null===i;let P=u?Ku(p):Al(p),k=!1;for(;0!==P&&(!1===k||b);){const Y=n[P+1];Cv(n[P],i)&&(k=!0,n[P+1]=u?Gp(Y):Kd(Y)),P=u?Ku(Y):Al(Y)}k&&(n[o+1]=u?Kd(p):Gp(p))}function Cv(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&D(n,i)>=0}function au(n,i){return function La(n,i,o,u){const l=tt(),p=Un(),b=function Yi(n){const i=Nn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);p.firstUpdatePass&&function Lm(n,i,o,u){const l=n.data;if(null===l[o+1]){const p=l[Ur()],b=function nf(n,i){return i>=n.expandoStartIndex}(n,o);(function $m(n,i){return 0!=(n.flags&(i?8:16))})(p,u)&&null===i&&!b&&(i=!1),i=function Mv(n,i,o,u){const l=function Qi(n){const i=Nn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let p=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=ed(o=ds(null,n,i,o,u),i.attrs,u),p=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==l)if(o=ds(l,n,i,o,u),null===p){let k=function Wi(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Al(u))return n[Ku(u)]}(n,i,u);void 0!==k&&Array.isArray(k)&&(k=ds(null,n,i,k[1],u),k=ed(k,i.attrs,u),function K_(n,i,o,u){n[Ku(o?i.classBindings:i.styleBindings)]=u}(n,i,u,k))}else p=function Pv(n,i,o){let u;const l=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<l;p++)u=ed(u,n[p].hostAttrs,o);return ed(u,i.attrs,o)}(n,i,u)}return void 0!==p&&(u?i.residualClasses=p:i.residualStyles=p),o}(l,p,i,u),function Mm(n,i,o,u,l,p){let b=p?i.classBindings:i.styleBindings,P=Ku(b),k=Al(b);n[u]=o;let Y,$=!1;if(Array.isArray(o)?(Y=o[1],(null===Y||D(o,Y)>0)&&($=!0)):Y=o,l)if(0!==k){const Pe=Ku(n[P+1]);n[u+1]=Jc(Pe,P),0!==Pe&&(n[Pe+1]=xl(n[Pe+1],u)),n[P+1]=function xm(n,i){return 131071&n|i<<17}(n[P+1],u)}else n[u+1]=Jc(P,0),0!==P&&(n[P+1]=xl(n[P+1],u)),P=u;else n[u+1]=Jc(k,0),0===P?P=u:n[k+1]=xl(n[k+1],u),k=u;$&&(n[u+1]=Kd(n[u+1])),Kp(n,Y,u,!0),Kp(n,Y,u,!1),function Sv(n,i,o,u,l){const p=l?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&D(p,i)>=0&&(o[u+1]=Gp(o[u+1]))}(i,Y,n,u,p),b=Jc(P,k),p?i.classBindings=b:i.styleBindings=b}(l,p,i,o,b,u)}}(p,n,b,u),i!==vr&&Oo(l,b,i)&&function Bm(n,i,o,u,l,p,b,P){if(!(3&i.type))return;const k=n.data,$=k[P+1],Y=function Wp(n){return 1==(1&n)}($)?Vm(k,i,o,l,Al($),b):void 0;rf(Y)||(rf(p)||function ef(n){return 2==(2&n)}($)&&(p=Vm(k,null,o,l,P,b)),function xy(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let p=-1===u.indexOf("-")?void 0:$o.DashCase;null==l?n.removeStyle(o,u,p):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),p|=$o.Important),n.setStyle(o,u,l,p))}}(u,b,Xs(Ur(),o),l,p))}(p,p.data[Ur()],l,l[ye],n,l[b+1]=function q_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=de(zu(n)))),n}(i,o),u,b)}(n,i,null,!0),au}function ds(n,i,o,u,l){let p=null;const b=o.directiveEnd;let P=o.directiveStylingLast;for(-1===P?P=o.directiveStart:P++;P<b&&(p=i[P],u=ed(u,p.hostAttrs,l),p!==n);)P++;return null!==n&&(o.directiveStylingLast=P),u}function ed(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let p=0;p<i.length;p++){const b=i[p];"number"==typeof b?l=b:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),lo(n,b,!!o||i[++p]))}return void 0===n?null:n}function Vm(n,i,o,u,l,p){const b=null===i;let P;for(;l>0;){const k=n[l],$=Array.isArray(k),Y=$?k[1]:k,le=null===Y;let Pe=o[l+1];Pe===vr&&(Pe=le?_e:void 0);let qe=le?Wa(Pe,u):Y===u?Pe:void 0;if($&&!rf(qe)&&(qe=Wa(k,u)),rf(qe)&&(P=qe,b))return P;const _t=n[l+1];l=b?Ku(_t):Al(_t)}if(null!==i){let k=p?i.residualClasses:i.residualStyles;null!=k&&(P=Wa(k,u))}return P}function rf(n){return void 0!==n}function jm(n,i=""){const o=tt(),u=Un(),l=n+Tr,p=u.firstCreatePass?rc(u,l,1,i,null):u.data[l],b=o[l]=function sl(n,i){return n.createText(i)}(o[ye],i);mu(u,o,b,p),Pi(p,!1)}function Ml(n,i,o){const u=tt(),l=function qc(n,i,o,u){return Oo(n,ms(),o)?i+He(o)+u:vr}(u,n,i,o);return l!==vr&&function vu(n,i,o){const u=Xs(i,n);!function Wl(n,i,o){n.setValue(i,o)}(n[ye],u,o)}(u,Ur(),l),Ml}const wu=void 0;var eh=["en",[["a","p"],["AM","PM"],wu],[["AM","PM"],wu,wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wu,"{1} 'at' {0}",wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let rd={};function ey(n){const i=function Vv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=ty(i);if(o)return o;const u=i.split("-")[0];if(o=ty(u),o)return o;if("en"===u)return eh;throw new Ve(701,!1)}function cf(n){return ey(n)[Qn.PluralCase]}function ty(n){return n in rd||(rd[n]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[n]),rd[n]}var Qn=(()=>((Qn=Qn||{})[Qn.LocaleId=0]="LocaleId",Qn[Qn.DayPeriodsFormat=1]="DayPeriodsFormat",Qn[Qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qn[Qn.DaysFormat=3]="DaysFormat",Qn[Qn.DaysStandalone=4]="DaysStandalone",Qn[Qn.MonthsFormat=5]="MonthsFormat",Qn[Qn.MonthsStandalone=6]="MonthsStandalone",Qn[Qn.Eras=7]="Eras",Qn[Qn.FirstDayOfWeek=8]="FirstDayOfWeek",Qn[Qn.WeekendRange=9]="WeekendRange",Qn[Qn.DateFormat=10]="DateFormat",Qn[Qn.TimeFormat=11]="TimeFormat",Qn[Qn.DateTimeFormat=12]="DateTimeFormat",Qn[Qn.NumberSymbols=13]="NumberSymbols",Qn[Qn.NumberFormats=14]="NumberFormats",Qn[Qn.CurrencyCode=15]="CurrencyCode",Qn[Qn.CurrencySymbol=16]="CurrencySymbol",Qn[Qn.CurrencyName=17]="CurrencyName",Qn[Qn.Currencies=18]="Currencies",Qn[Qn.Directionality=19]="Directionality",Qn[Qn.PluralCase=20]="PluralCase",Qn[Qn.ExtraData=21]="ExtraData",Qn))();const id="en-US";let sg=id;function Fu(n,i,o,u,l){if(n=Ee(n),Array.isArray(n))for(let p=0;p<n.length;p++)Fu(n[p],i,o,u,l);else{const p=Un(),b=tt();let P=ul(n)?n:Ee(n.provide),k=Ff(n);const $=qr(),Y=1048575&$.providerIndexes,le=$.directiveStart,Pe=$.providerIndexes>>20;if(ul(n)||!n.multi){const qe=new O(k,l,nc),_t=o_(P,i,l?Y:Y+Pe,le);-1===_t?(Ln(Va($,b),p,P),s_(p,n,i.length),i.push(P),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(qe),b.push(qe)):(o[_t]=qe,b[_t]=qe)}else{const qe=o_(P,i,Y+Pe,le),_t=o_(P,i,Y,Y+Pe),gn=_t>=0&&o[_t];if(l&&!gn||!l&&!(qe>=0&&o[qe])){Ln(Va($,b),p,P);const kn=function Mw(n,i,o,u,l){const p=new O(n,o,nc);return p.multi=[],p.index=i,p.componentProviders=0,s0(p,l,u&&!o),p}(l?xw:Aw,o.length,l,u,k);!l&&gn&&(o[_t].providerFactory=kn),s_(p,n,i.length,0),i.push(P),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(kn),b.push(kn)}else s_(p,n,qe>-1?qe:_t,s0(o[l?_t:qe],k,!l&&u));!l&&u&&gn&&o[_t].componentProviders++}}}function s_(n,i,o,u){const l=ul(i),p=function Hy(n){return!!n.useClass}(i);if(l||p){const k=(p?Ee(i.useClass):i).prototype.ngOnDestroy;if(k){const $=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Y=$.indexOf(o);-1===Y?$.push(o,[u,k]):$[Y+1].push(u,k)}else $.push(o,k)}}}function s0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function o_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function Aw(n,i,o,u){return a_(this.multi,[])}function xw(n,i,o,u){const l=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,P=Pn(o,o[At],this.providerFactory.index,u);p=P.slice(0,b),a_(l,p);for(let k=b;k<P.length;k++)p.push(P[k])}else p=[],a_(l,p);return p}function a_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function o0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Fa(n,i,o){const u=Un();if(u.firstCreatePass){const l=Gr(n);Fu(o,u.data,u.blueprint,l,!0),Fu(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class _f{}class a0{}function Pw(n,i){return new u0(n,i??null)}class u0 extends _f{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ip(this);const u=$t(i);this._bootstrapComponents=iu(u.bootstrap),this._r3Injector=bh(i,o,[{provide:_f,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver}],de(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class u_ extends a0{constructor(i){super(),this.moduleType=i}create(i){return new u0(this.moduleType,i)}}class Rw extends _f{constructor(i,o,u){super(),this.componentFactoryResolver=new Ip(this),this.instance=null;const l=new ll([...i,{provide:_f,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver}],o||md(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function l_(n,i,o=null){return new Rw(n,i,o).injector}let Ow=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=yh(0,o.type),l=u.length>0?l_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=kt({token:n,providedIn:"environment",factory:()=>new n(yn(Pu))}),n})();function l0(n){n.getStandaloneInjector=i=>i.get(Ow).getOrCreateStandaloneInjector(n)}function d_(n){return i=>{setTimeout(n,void 0,i)}}const kl=class sE extends I.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,p=o||(()=>null),b=u;if(i&&"object"==typeof i){const k=i;l=k.next?.bind(k),p=k.error?.bind(k),b=k.complete?.bind(k)}this.__isAsync&&(p=d_(p),l&&(l=d_(l)),b&&(b=d_(b)));const P=super.subscribe({next:l,error:p,complete:b});return i instanceof F.w0&&i.add(P),P}};function oE(){return this._results[Symbol.iterator]()}class h_{get changes(){return this._changes||(this._changes=new kl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=h_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=oE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Ls(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function wa(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],p=i[u];if(o&&(l=o(l),p=o(p)),p!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=lE,n})();const aE=cg,uE=class extends aE{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=xd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[jn]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[wr];return null!==b&&(l[wr]=b.createEmbeddedView(u)),ic(u,l,i),new Fd(l)}};function lE(){return _y(qr(),tt())}function _y(n,i){return 4&n.type?new uE(i,n,Uc(n,i)):null}let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=cE,n})();function cE(){return b0(qr(),tt())}const dE=wy,E0=class extends dE{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const i=sn(this._hostTNode,this._hostLView);if(Dt(i)){const o=Pt(i,this._hostLView),u=Ut(i);return new ks(o[At].data[u+8],o)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=I0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-ri}createEmbeddedView(i,o,u){let l,p;"number"==typeof u?l=u:null!=u&&(l=u.index,p=u.injector);const b=i.createEmbeddedView(o||{},p);return this.insert(b,l),b}createComponent(i,o,u,l,p){const b=i&&!function _a(n){return"function"==typeof n}(i);let P;if(b)P=o;else{const le=o||{};P=le.index,u=le.injector,l=le.projectableNodes,p=le.environmentInjector||le.ngModuleRef}const k=b?i:new Ou(G(i)),$=u||this.parentInjector;if(!p&&null==k.ngModule){const Pe=(b?$:this.parentInjector).get(Pu,null);Pe&&(p=Pe)}const Y=k.create($,l,void 0,p);return this.insert(Y.hostView,P),Y}insert(i,o){const u=i._lView,l=u[At];if(function Uo(n){return gi(n[Wn])}(u)){const Y=this.indexOf(i);if(-1!==Y)this.detach(Y);else{const le=u[Wn],Pe=new E0(le,le[nr],le[Wn]);Pe.detach(Pe.indexOf(i))}}const p=this._adjustIndex(o),b=this._lContainer;!function f(n,i,o,u){const l=ri+u,p=o.length;u>0&&(o[l-1][tr]=i),u<p-ri?(i[tr]=o[l],Eu(o,ri+u,i)):(o.push(i),i[tr]=null),i[Wn]=o;const b=i[jn];null!==b&&o!==b&&function y(n,i){const o=n[pi];i[Mn]!==i[Wn][Wn][Mn]&&(n[po]=!0),null===o?n[pi]=[i]:o.push(i)}(b,i);const P=i[wr];null!==P&&P.insertView(n),i[xn]|=64}(l,u,b,p);const P=mr(p,b),k=u[ye],$=al(k,b[Ds]);return null!==$&&function lh(n,i,o,u,l,p){u[_r]=l,u[nr]=i,Ic(n,u,o,1,l,p)}(l,b[nr],k,u,$,P),i.attachToViewContainerRef(),Eu(f_(b),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=I0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=W(this._lContainer,o);u&&(Ma(f_(this._lContainer),o),J(u[At],u))}detach(i){const o=this._adjustIndex(i,-1),u=W(this._lContainer,o);return u&&null!=Ma(f_(this._lContainer),o)?new Fd(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function I0(n){return n[rs]}function f_(n){return n[rs]||(n[rs]=[])}function b0(n,i){let o;const u=i[n.index];if(gi(u))o=u;else{let l;if(8&n.type)l=Kr(u);else{const p=i[ye];l=p.createComment("");const b=ei(n,i);sr(p,al(p,b),l,function Ho(n,i){return n.nextSibling(i)}(p,b),!1)}i[n.index]=o=gm(u,i,l,n),jc(i,o)}return new E0(o,n,i)}class p_{constructor(i){this.queryList=i,this.matches=null}clone(){return new p_(this.queryList)}setDirty(){this.queryList.setDirty()}}class g_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let p=0;p<u;p++){const b=o.getByIndex(p);l.push(this.queries[b.indexInDeclarationView].clone())}return new g_(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==P0(i,o).matches&&this.queries[o].setDirty()}}class D0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class m_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,p=this.getByIndex(u).embeddedTView(i,l);p&&(p.indexInDeclarationView=u,null!==o?o.push(p):o=[p])}return null!==o?new m_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class y_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new y_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const p=u[l];this.matchTNodeWithReadOption(i,o,hE(o,p)),this.matchTNodeWithReadOption(i,o,li(o,i,p,!1,!1))}else u===cg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,li(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===vd||l===wy||l===cg&&4&o.type)this.addMatch(o.index,-2);else{const p=li(o,i,l,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function hE(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function pE(n,i,o,u){return-1===o?function fE(n,i){return 11&n.type?Uc(n,i):4&n.type?_y(n,i):null}(i,n):-2===o?function gE(n,i,o){return o===vd?Uc(i,n):o===cg?_y(i,n):o===wy?b0(i,n):void 0}(n,i,u):Pn(n,n[At],o,i)}function T0(n,i,o,u){const l=i[wr].queries[u];if(null===l.matches){const p=n.data,b=o.matches,P=[];for(let k=0;k<b.length;k+=2){const $=b[k];P.push($<0?null:pE(i,p[$],b[k+1],o.metadata.read))}l.matches=P}return l.matches}function v_(n,i,o,u){const l=n.queries.getByIndex(o),p=l.matches;if(null!==p){const b=T0(n,i,l,o);for(let P=0;P<p.length;P+=2){const k=p[P];if(k>0)u.push(b[P/2]);else{const $=p[P+1],Y=i[-k];for(let le=ri;le<Y.length;le++){const Pe=Y[le];Pe[jn]===Pe[Wn]&&v_(Pe[At],Pe,$,u)}if(null!==Y[pi]){const le=Y[pi];for(let Pe=0;Pe<le.length;Pe++){const qe=le[Pe];v_(qe[At],qe,$,u)}}}}}return u}function S0(n){const i=tt(),o=Un(),u=bo();Si(u+1);const l=P0(o,u);if(n.dirty&&function Hs(n){return 4==(4&n[xn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const p=l.crossesNgTemplate?v_(o,i,u,[]):T0(o,i,l,u);n.reset(p,_d),n.notifyOnChanges()}return!0}return!1}function C0(n,i,o,u){const l=Un();if(l.firstCreatePass){const p=qr();(function M0(n,i,o){null===n.queries&&(n.queries=new m_),n.queries.track(new y_(i,o))})(l,new D0(i,o,u),p.index),function vE(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function x0(n,i,o){const u=new h_(4==(4&o));am(n,i,u,u.destroy),null===i[wr]&&(i[wr]=new g_),i[wr].queries.push(new p_(u))}(l,tt(),o)}function A0(){return function yE(n,i){return n[wr].queries[i].queryList}(tt(),bo())}function P0(n,i){return n.queries.getByIndex(i)}function __(n){return!!$t(n)}function Iy(...n){}const Z0=new Fe("Application Initializer");let by=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(Hd(p))o.push(p);else if(Gh(p)){const b=new Promise((P,k)=>{p.subscribe({complete:P,error:k})});o.push(b)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(yn(Z0,8))},n.\u0275prov=kt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y0=new Fe("AppId",{providedIn:"root",factory:function Q0(){return`${D_()}${D_()}${D_()}`}});function D_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X0=new Fe("Platform Initializer"),BE=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VE=new Fe("AnimationModuleType");let $E=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=kt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dy=new Fe("LocaleId",{providedIn:"root",factory:()=>Jn(Dy,en.Optional|en.SkipSelf)||function jE(){return typeof $localize<"u"&&$localize.locale||id}()}),zE=new Fe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class HE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let WE=(()=>{class n{compileModuleSync(o){return new u_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),p=iu($t(o).declarations).reduce((b,P)=>{const k=G(P);return k&&b.push(new Ou(k)),b},[]);return new HE(u,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=kt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function T_(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Uu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ZE(){let n=un.requestAnimationFrame,i=un.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function XE(n){const i=()=>{!function QE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(un,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C_(n),n.isCheckStableRunning=!0,S_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,p,b,P)=>{try{return tw(n),o.invokeTask(l,p,b,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),nw(n)}},onInvoke:(o,u,l,p,b,P,k)=>{try{return tw(n),o.invoke(l,p,b,P,k)}finally{n.shouldCoalesceRunChangeDetection&&i(),nw(n)}},onHasTask:(o,u,l,p)=>{o.hasTask(l,p),u===l&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,C_(n),S_(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,u,l,p)=>(o.handleError(l,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uu.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(Uu.isInAngularZone())throw new Ve(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+l,i,YE,Iy,Iy);try{return p.runTask(b,o,u)}finally{p.cancelTask(b)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const YE={};function S_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function tw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nw(n){n._nesting--,S_(n)}class JE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const rw=new Fe(""),iw=new Fe("");let A_,eI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A_||(function tI(n){A_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uu.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(yn(Uu),yn(sw),yn(iw))},n.\u0275prov=kt({token:n,factory:n.\u0275fac}),n})(),sw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return A_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=kt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hc=!1;let sd=null;const ow=new Fe("AllowMultipleToken"),x_=new Fe("PlatformDestroyListeners"),aw=new Fe("appBootstrapListener");class iI{constructor(i,o){this.name=i,this.token=o}}function lw(n,i,o=[]){const u=`Platform: ${i}`,l=new Fe(u);return(p=[])=>{let b=M_();if(!b||b.injector.get(ow,!1)){const P=[...o,...p,{provide:l,useValue:!0}];n?n(P):function sI(n){if(sd&&!sd.get(ow,!1))throw new Ve(400,!1);sd=n;const i=n.get(dw);(function uw(n){const i=n.get(X0,null);i&&i.forEach(o=>o())})(n)}(function cw(n=[],i){return es.create({name:i,providers:[{provide:vh,useValue:"platform"},{provide:x_,useValue:new Set([()=>sd=null])},...n]})}(P,u))}return function aI(n){const i=M_();if(!i)throw new Ve(401,!1);return i}()}}function M_(){return sd?.get(dw)??null}let dw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function fw(n,i){let o;return o="noop"===n?new JE:("zone.js"===n?void 0:n)||new Uu(i),o}(u?.ngZone,function hw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:Uu,useValue:l}];return l.run(()=>{const b=es.create({providers:p,parent:this.injector,name:o.moduleType.name}),P=o.create(b),k=P.injector.get(Xl,null);if(!k)throw new Ve(402,!1);return l.runOutsideAngular(()=>{const $=l.onError.subscribe({next:Y=>{k.handleError(Y)}});P.onDestroy(()=>{Sy(this._modules,P),$.unsubscribe()})}),function pw(n,i,o){try{const u=o();return Hd(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(k,l,()=>{const $=P.injector.get(by);return $.runInitializers(),$.donePromise.then(()=>(function og(n){Mt(n,"Expected localeId to be defined"),"string"==typeof n&&(sg=n.toLowerCase().replace(/_/g,"-"))}(P.injector.get(Dy,id)||id),this._moduleDoBootstrap(P),P))})})}bootstrapModule(o,u=[]){const l=gw({},u);return function nI(n,i,o){const u=new u_(o);return Promise.resolve(u)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(o){const u=o.injector.get(Ty);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Ve(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(x_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(yn(es))},n.\u0275prov=kt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gw(n,i){return Array.isArray(i)?i.reduce(gw,n):{...n,...i}}let Ty=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new M.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),b=new M.y(P=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Uu.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{Uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{k.unsubscribe(),$.unsubscribe()}});this.isStable=(0,ae.T)(p,b.pipe((0,fe.B)()))}bootstrap(o,u){const l=o instanceof Vf;if(!this._injector.get(by).done){!l&&nt(o);throw new Ve(405,hc)}let b;b=l?o:this._injector.get(Fc).resolveComponentFactory(o),this.componentTypes.push(b.componentType);const P=function rI(n){return n.isBoundToModule}(b)?void 0:this._injector.get(_f),$=b.create(es.NULL,[],u||b.selector,P),Y=$.location.nativeElement,le=$.injector.get(rw,null);return le?.registerApplication(Y),$.onDestroy(()=>{this.detachView($.hostView),Sy(this.components,$),le?.unregisterApplication(Y)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Ve(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Sy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(aw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Sy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ve(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(yn(Uu),yn(Pu),yn(Xl))},n.\u0275prov=kt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sy(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function lI(){return!1}let cI=(()=>{class n{}return n.__NG_ELEMENT_ID__=dI,n})();function dI(n){return function hI(n,i,o){if(ko(n)&&!o){const u=ii(n.index,i);return new Fd(u,u)}return 47&n.type?new Fd(i[Mn],i):null}(qr(),tt(),16==(16&n))}class ww{constructor(){}supports(i){return Uh(i)}create(i){return new vI(i)}}const yI=(n,i)=>i;class vI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,p=null;for(;o||u;){const b=!u||o&&o.currentIndex<Iw(u,l,p)?o:u,P=Iw(b,l,p),k=b.currentIndex;if(b===u)l--,u=u._nextRemoved;else if(o=o._next,null==b.previousIndex)l++;else{p||(p=[]);const $=P-l,Y=k-l;if($!=Y){for(let Pe=0;Pe<$;Pe++){const qe=Pe<p.length?p[Pe]:p[Pe]=0,_t=qe+Pe;Y<=_t&&_t<$&&(p[Pe]=qe+1)}p[b.previousIndex]=Y-$}}P!==k&&i(b,P,k)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Uh(i))throw new Ve(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,p,b,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)p=i[P],b=this._trackByFn(P,p),null!==o&&Object.is(o.trackById,b)?(u&&(o=this._verifyReinsertion(o,p,b,P)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,b,P),u=!0),o=o._next}else l=0,function Op(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,P=>{b=this._trackByFn(l,P),null!==o&&Object.is(o.trackById,b)?(u&&(o=this._verifyReinsertion(o,P,b,l)),Object.is(o.item,P)||this._addIdentityChange(o,P)):(o=this._mismatch(o,P,b,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,l)):i=this._addAfter(new _I(o,u),p,l),i}_verifyReinsertion(i,o,u,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?i=this._reinsertAfter(p,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,p=i._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ew),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ew),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class _I{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Ew{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new wI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class bw{constructor(){}supports(i){return i instanceof Map||Bd(i)}create(){return new EI}}class EI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Bd(i)))throw new Ve(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const p=l._prev,b=l._next;return p&&(p._next=b),b&&(b._prev=p),l._next=null,l._prev=null,l}const u=new II(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class II{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dw(){return new k_([new ww])}let k_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Dw()),deps:[[n,new Fs,new ai]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Ve(901,!1)}}return n.\u0275prov=kt({token:n,providedIn:"root",factory:Dw}),n})();function Tw(){return new L_([new bw])}let L_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Tw()),deps:[[n,new Fs,new ai]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Ve(901,!1)}}return n.\u0275prov=kt({token:n,providedIn:"root",factory:Tw}),n})();const TI=lw(null,"core",[]);let SI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(yn(Ty))},n.\u0275mod=Ae({type:n}),n.\u0275inj=Vn({}),n})();function CI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(Jt,Me,j)=>{"use strict";j.d(Me,{Dx:()=>pn,b2:()=>ar,q6:()=>Kn,se:()=>Nt});var I=j(6895),F=j(4650);class M extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends M{static makeCurrent(){(0,I.HT)(new ae)}onAndCancel(ue,re,Te){return ue.addEventListener(re,Te,!1),()=>{ue.removeEventListener(re,Te,!1)}}dispatchEvent(ue,re){ue.dispatchEvent(re)}remove(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}createElement(ue,re){return(re=re||this.getDefaultDocument()).createElement(ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ue){return ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(ue){return ue instanceof DocumentFragment}getGlobalEventTarget(ue,re){return"window"===re?window:"document"===re?ue:"body"===re?ue.body:null}getBaseHref(ue){const re=function Ce(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==re?null:function de(se){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",se);const ue=Ie.pathname;return"/"===ue.charAt(0)?ue:`/${ue}`}(re)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ue){return(0,I.Mx)(document.cookie,ue)}}let Ie,fe=null;const ke=new F.OlP("TRANSITION_ID"),he=[{provide:F.ip1,useFactory:function ie(se,ue,re){return()=>{re.get(F.CZH).donePromise.then(()=>{const Te=(0,I.q)(),Ke=ue.querySelectorAll(`style[ng-transition="${se}"]`);for(let lt=0;lt<Ke.length;lt++)Te.remove(Ke[lt])})}},deps:[ke,I.K0,F.zs3],multi:!0}];let Xe=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(re){return new(re||se)},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const Qe=new F.OlP("EventManagerPlugins");let wt=(()=>{class se{constructor(re,Te){this._zone=Te,this._eventNameToPlugin=new Map,re.forEach(Ke=>{Ke.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,Te,Ke){return this._findPluginFor(Te).addEventListener(re,Te,Ke)}addGlobalEventListener(re,Te,Ke){return this._findPluginFor(Te).addGlobalEventListener(re,Te,Ke)}getZone(){return this._zone}_findPluginFor(re){const Te=this._eventNameToPlugin.get(re);if(Te)return Te;const Ke=this._plugins;for(let lt=0;lt<Ke.length;lt++){const nn=Ke[lt];if(nn.supports(re))return this._eventNameToPlugin.set(re,nn),nn}throw new Error(`No event manager plugin found for event ${re}`)}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(Qe),F.LFG(F.R0b))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();class Tt{constructor(ue){this._doc=ue}addGlobalEventListener(ue,re,Te){const Ke=(0,I.q)().getGlobalEventTarget(this._doc,ue);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${re}`);return this.addEventListener(Ke,re,Te)}}let Ve=(()=>{class se{constructor(){this.usageCount=new Map}addStyles(re){for(const Te of re)1===this.changeUsageCount(Te,1)&&this.onStyleAdded(Te)}removeStyles(re){for(const Te of re)0===this.changeUsageCount(Te,-1)&&this.onStyleRemoved(Te)}onStyleRemoved(re){}onStyleAdded(re){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(re,Te){const Ke=this.usageCount;let lt=Ke.get(re)??0;return lt+=Te,lt>0?Ke.set(re,lt):Ke.delete(re),lt}ngOnDestroy(){for(const re of this.getAllStyles())this.onStyleRemoved(re);this.usageCount.clear()}}return se.\u0275fac=function(re){return new(re||se)},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})(),at=(()=>{class se extends Ve{constructor(re){super(),this.doc=re,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(re){for(const Te of this.hostNodes)this.addStyleToHost(Te,re)}onStyleRemoved(re){const Te=this.styleRef;Te.get(re)?.forEach(lt=>lt.remove()),Te.delete(re)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(re){this.hostNodes.add(re);for(const Te of this.getAllStyles())this.addStyleToHost(re,Te)}removeHost(re){this.hostNodes.delete(re)}addStyleToHost(re,Te){const Ke=this.doc.createElement("style");Ke.textContent=Te,re.appendChild(Ke);const lt=this.styleRef.get(Te);lt?lt.push(Ke):this.styleRef.set(Te,[Ke])}resetHostNodes(){const re=this.hostNodes;re.clear(),re.add(this.doc.head)}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(I.K0))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yt=/%COMP%/g,Ue=new F.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bt(se,ue){return ue.flat(100).map(re=>re.replace(yt,se))}function Lt(se){return ue=>{if("__ngUnwrap__"===ue)return se;!1===se(ue)&&(ue.preventDefault(),ue.returnValue=!1)}}let Nt=(()=>{class se{constructor(re,Te,Ke,lt){this.eventManager=re,this.sharedStylesHost=Te,this.appId=Ke,this.removeStylesOnCompDestory=lt,this.rendererByCompId=new Map,this.defaultRenderer=new We(re)}createRenderer(re,Te){if(!re||!Te)return this.defaultRenderer;const Ke=this.getOrCreateRenderer(re,Te);return Ke instanceof Mt?Ke.applyToHost(re):Ke instanceof dt&&Ke.applyStyles(),Ke}getOrCreateRenderer(re,Te){const Ke=this.rendererByCompId;let lt=Ke.get(Te.id);if(!lt){const nn=this.eventManager,ot=this.sharedStylesHost,gt=this.removeStylesOnCompDestory;switch(Te.encapsulation){case F.ifc.Emulated:lt=new Mt(nn,ot,Te,this.appId,gt);break;case F.ifc.ShadowDom:return new St(nn,ot,re,Te);default:lt=new dt(nn,ot,Te,gt)}lt.onDestroy=()=>Ke.delete(Te.id),Ke.set(Te.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(wt),F.LFG(at),F.LFG(F.AFp),F.LFG(Ue))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();class We{constructor(ue){this.eventManager=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ue,re){return re?document.createElementNS(He[re]||re,ue):document.createElement(ue)}createComment(ue){return document.createComment(ue)}createText(ue){return document.createTextNode(ue)}appendChild(ue,re){(st(ue)?ue.content:ue).appendChild(re)}insertBefore(ue,re,Te){ue&&(st(ue)?ue.content:ue).insertBefore(re,Te)}removeChild(ue,re){ue&&ue.removeChild(re)}selectRootElement(ue,re){let Te="string"==typeof ue?document.querySelector(ue):ue;if(!Te)throw new Error(`The selector "${ue}" did not match any elements`);return re||(Te.textContent=""),Te}parentNode(ue){return ue.parentNode}nextSibling(ue){return ue.nextSibling}setAttribute(ue,re,Te,Ke){if(Ke){re=Ke+":"+re;const lt=He[Ke];lt?ue.setAttributeNS(lt,re,Te):ue.setAttribute(re,Te)}else ue.setAttribute(re,Te)}removeAttribute(ue,re,Te){if(Te){const Ke=He[Te];Ke?ue.removeAttributeNS(Ke,re):ue.removeAttribute(`${Te}:${re}`)}else ue.removeAttribute(re)}addClass(ue,re){ue.classList.add(re)}removeClass(ue,re){ue.classList.remove(re)}setStyle(ue,re,Te,Ke){Ke&(F.JOm.DashCase|F.JOm.Important)?ue.style.setProperty(re,Te,Ke&F.JOm.Important?"important":""):ue.style[re]=Te}removeStyle(ue,re,Te){Te&F.JOm.DashCase?ue.style.removeProperty(re):ue.style[re]=""}setProperty(ue,re,Te){ue[re]=Te}setValue(ue,re){ue.nodeValue=re}listen(ue,re,Te){return"string"==typeof ue?this.eventManager.addGlobalEventListener(ue,re,Lt(Te)):this.eventManager.addEventListener(ue,re,Lt(Te))}}function st(se){return"TEMPLATE"===se.tagName&&void 0!==se.content}class St extends We{constructor(ue,re,Te,Ke){super(ue),this.sharedStylesHost=re,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const lt=bt(Ke.id,Ke.styles);for(const nn of lt){const ot=document.createElement("style");ot.textContent=nn,this.shadowRoot.appendChild(ot)}}nodeOrShadowRoot(ue){return ue===this.hostEl?this.shadowRoot:ue}appendChild(ue,re){return super.appendChild(this.nodeOrShadowRoot(ue),re)}insertBefore(ue,re,Te){return super.insertBefore(this.nodeOrShadowRoot(ue),re,Te)}removeChild(ue,re){return super.removeChild(this.nodeOrShadowRoot(ue),re)}parentNode(ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ue)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dt extends We{constructor(ue,re,Te,Ke,lt=Te.id){super(ue),this.sharedStylesHost=re,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=bt(lt,Te.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Mt extends dt{constructor(ue,re,Te,Ke,lt){const nn=Ke+"-"+Te.id;super(ue,re,Te,lt,nn),this.contentAttr=function It(se){return"_ngcontent-%COMP%".replace(yt,se)}(nn),this.hostAttr=function an(se){return"_nghost-%COMP%".replace(yt,se)}(nn)}applyToHost(ue){this.applyStyles(),this.setAttribute(ue,this.hostAttr,"")}createElement(ue,re){const Te=super.createElement(ue,re);return super.setAttribute(Te,this.contentAttr,""),Te}}let Et=(()=>{class se extends Tt{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Te,Ke){return re.addEventListener(Te,Ke,!1),()=>this.removeEventListener(re,Te,Ke)}removeEventListener(re,Te,Ke){return re.removeEventListener(Te,Ke)}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(I.K0))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const vn=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let kt=(()=>{class se extends Tt{constructor(re){super(re)}supports(re){return null!=se.parseEventName(re)}addEventListener(re,Te,Ke){const lt=se.parseEventName(Te),nn=se.eventCallback(lt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(re,lt.domEventName,nn))}static parseEventName(re){const Te=re.toLowerCase().split("."),Ke=Te.shift();if(0===Te.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const lt=se._normalizeKey(Te.pop());let nn="",ot=Te.indexOf("code");if(ot>-1&&(Te.splice(ot,1),nn="code."),vn.forEach(rn=>{const Be=Te.indexOf(rn);Be>-1&&(Te.splice(Be,1),nn+=rn+".")}),nn+=lt,0!=Te.length||0===lt.length)return null;const gt={};return gt.domEventName=Ke,gt.fullKey=nn,gt}static matchEventFullKeyCode(re,Te){let Ke=Zt[re.key]||re.key,lt="";return Te.indexOf("code.")>-1&&(Ke=re.code,lt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),vn.forEach(nn=>{nn!==Ke&&(0,Yt[nn])(re)&&(lt+=nn+".")}),lt+=Ke,lt===Te)}static eventCallback(re,Te,Ke){return lt=>{se.matchEventFullKeyCode(lt,re)&&Ke.runGuarded(()=>Te(lt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(I.K0))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const Kn=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:I.bD},{provide:F.g9A,useValue:function _n(){ae.makeCurrent()},multi:!0},{provide:I.K0,useFactory:function rr(){return(0,F.RDi)(document),document},deps:[]}]),bn=new F.OlP(""),en=[{provide:F.rWj,useClass:class Ee{addToWindow(ue){F.dqk.getAngularTestability=(Te,Ke=!0)=>{const lt=ue.findTestabilityInTree(Te,Ke);if(null==lt)throw new Error("Could not find testability for element.");return lt},F.dqk.getAllAngularTestabilities=()=>ue.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>ue.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Te=>{const Ke=F.dqk.getAllAngularTestabilities();let lt=Ke.length,nn=!1;const ot=function(gt){nn=nn||gt,lt--,0==lt&&Te(nn)};Ke.forEach(function(gt){gt.whenStable(ot)})})}findTestabilityInTree(ue,re,Te){return null==re?null:ue.getTestability(re)??(Te?(0,I.q)().isShadowRoot(re)?this.findTestabilityInTree(ue,re.host,!0):this.findTestabilityInTree(ue,re.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],Bn=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function zt(){return new F.qLn},deps:[]},{provide:Qe,useClass:Et,multi:!0,deps:[I.K0,F.R0b,F.Lbi]},{provide:Qe,useClass:kt,multi:!0,deps:[I.K0]},{provide:Nt,useClass:Nt,deps:[wt,at,F.AFp,Ue]},{provide:F.FYo,useExisting:Nt},{provide:Ve,useExisting:at},{provide:at,useClass:at,deps:[I.K0]},{provide:wt,useClass:wt,deps:[Qe,F.R0b]},{provide:I.JF,useClass:Xe,deps:[]},[]];let ar=(()=>{class se{constructor(re){}static withServerTransition(re){return{ngModule:se,providers:[{provide:F.AFp,useValue:re.appId},{provide:ke,useExisting:F.AFp},he]}}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(bn,12))},se.\u0275mod=F.oAB({type:se}),se.\u0275inj=F.cJS({providers:[...Bn,...en],imports:[I.ez,F.hGG]}),se})(),pn=(()=>{class se{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return se.\u0275fac=function(re){return new(re||se)(F.LFG(I.K0))},se.\u0275prov=F.Yz7({token:se,factory:function(re){let Te=null;return Te=re?new re:function un(){return new pn((0,F.LFG)(I.K0))}(),Te},providedIn:"root"}),se})();typeof window<"u"&&window},9051:(Jt,Me,j)=>{"use strict";j.d(Me,{F0:()=>li,rH:()=>_i,Bz:()=>Eu,lC:()=>Cs});var I=j(4650),F=j(8996),M=j(9646),ae=j(7579);class fe extends ae.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const _=super._subscribe(T);return!_.closed&&T.next(this._value),_}getValue(){const{hasError:T,thrownError:_,_value:R}=this;if(T)throw _;return this._throwIfClosed(),R}next(T){super.next(this._value=T)}}var Ce=j(6805),Ie=j(9751),de=j(4742),ke=j(4671),ie=j(3268),he=j(7669),Ee=j(1810),Xe=j(5403),Qe=j(9672);function wt(...D){const T=(0,he.yG)(D),_=(0,he.jO)(D),{args:R,keys:B}=(0,de.D)(D);if(0===R.length)return(0,F.D)([],T);const q=new Ie.y(function Tt(D,T,_=ke.y){return R=>{Ve(T,()=>{const{length:B}=D,q=new Array(B);let ee=B,Ne=B;for(let mt=0;mt<B;mt++)Ve(T,()=>{const Wt=(0,F.D)(D[mt],T);let tn=!1;Wt.subscribe((0,Xe.x)(R,Nr=>{q[mt]=Nr,tn||(tn=!0,Ne--),Ne||R.next(_(q.slice()))},()=>{--ee||R.complete()}))},R)},R)}}(R,T,B?ee=>(0,Ee.n)(B,ee):ke.y));return _?q.pipe((0,ie.Z)(_)):q}function Ve(D,T,_){D?(0,Qe.f)(_,D,T):T()}var at=j(7272),He=j(8421);function yt(D){return new Ie.y(T=>{(0,He.Xf)(D()).subscribe(T)})}var Ye=j(9635),Je=j(576);function ut(D,T){const _=(0,Je.m)(D)?D:()=>D,R=B=>B.error(_());return new Ie.y(T?B=>T.schedule(R,0,B):R)}var Se=j(515),pt=j(727),Ue=j(4482);function It(){return(0,Ue.e)((D,T)=>{let _=null;D._refCount++;const R=(0,Xe.x)(T,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(_=null);const B=D._connection,q=_;_=null,B&&(!q||B===q)&&B.unsubscribe(),T.unsubscribe()});D.subscribe(R),R.closed||(_=D.connect())})}class an extends Ie.y{constructor(T,_){super(),this.source=T,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new pt.w0;const _=this.getSubject();T.add(this.source.subscribe((0,Xe.x)(_,void 0,()=>{this._teardown(),_.complete()},R=>{this._teardown(),_.error(R)},()=>this._teardown()))),T.closed&&(this._connection=null,T=pt.w0.EMPTY)}return T}refCount(){return It()(this)}}var bt=j(6895),Lt=j(4004),Nt=j(3900),We=j(5698),Ge=j(8675),it=j(9300),st=j(5577),St=j(590);function dt(D,T){return(0,Je.m)(T)?(0,st.z)(D,T,1):(0,st.z)(D,1)}var Mt=j(8505);function Et(D){return(0,Ue.e)((T,_)=>{let q,R=null,B=!1;R=T.subscribe((0,Xe.x)(_,void 0,void 0,ee=>{q=(0,He.Xf)(D(ee,Et(D)(T))),R?(R.unsubscribe(),R=null,q.subscribe(_)):B=!0})),B&&(R.unsubscribe(),R=null,q.subscribe(_))})}var vn=j(5026);function Zt(D){return D<=0?()=>Se.E:(0,Ue.e)((T,_)=>{let R=[];T.subscribe((0,Xe.x)(_,B=>{R.push(B),D<R.length&&R.shift()},()=>{for(const B of R)_.next(B);_.complete()},void 0,()=>{R=null}))})}var Yt=j(8068),kt=j(6590);function Dn(D,T){const _=arguments.length>=2;return R=>R.pipe(D?(0,it.h)((B,q)=>D(B,q,R)):ke.y,Zt(1),_?(0,kt.d)(T):(0,Yt.T)(()=>new Ce.K))}function yr(D){return(0,Ue.e)((T,_)=>{try{T.subscribe(_)}finally{_.add(D)}})}var Fn=j(8189),_n=j(1481);const zt="primary",rr=Symbol("RouteTitle");class ir{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const _=this.params[T];return Array.isArray(_)?_[0]:_}return null}getAll(T){if(this.has(T)){const _=this.params[T];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Kn(D){return new ir(D)}function bn(D,T,_){const R=_.path.split("/");if(R.length>D.length||"full"===_.pathMatch&&(T.hasChildren()||R.length<D.length))return null;const B={};for(let q=0;q<R.length;q++){const ee=R[q],Ne=D[q];if(ee.startsWith(":"))B[ee.substring(1)]=Ne;else if(ee!==Ne.path)return null}return{consumed:D.slice(0,R.length),posParams:B}}function Bn(D,T){const _=D?Object.keys(D):void 0,R=T?Object.keys(T):void 0;if(!_||!R||_.length!=R.length)return!1;let B;for(let q=0;q<_.length;q++)if(B=_[q],!ar(D[B],T[B]))return!1;return!0}function ar(D,T){if(Array.isArray(D)&&Array.isArray(T)){if(D.length!==T.length)return!1;const _=[...D].sort(),R=[...T].sort();return _.every((B,q)=>R[q]===B)}return D===T}function cr(D){return Array.prototype.concat.apply([],D)}function Lr(D){return D.length>0?D[D.length-1]:null}function un(D,T){for(const _ in D)D.hasOwnProperty(_)&&T(D[_],_)}function pn(D){return(0,I.CqO)(D)?D:(0,I.QGY)(D)?(0,F.D)(Promise.resolve(D)):(0,M.of)(D)}const Gt=!1,Ct={exact:function Fr(D,T,_){if(!Jn(D.segments,T.segments)||!qn(D.segments,T.segments,_)||D.numberOfChildren!==T.numberOfChildren)return!1;for(const R in T.children)if(!D.children[R]||!Fr(D.children[R],T.children[R],_))return!1;return!0},subset:hr},dr={exact:function ur(D,T){return Bn(D,T)},subset:function br(D,T){return Object.keys(T).length<=Object.keys(D).length&&Object.keys(T).every(_=>ar(D[_],T[_]))},ignored:()=>!0};function Ar(D,T,_){return Ct[_.paths](D.root,T.root,_.matrixParams)&&dr[_.queryParams](D.queryParams,T.queryParams)&&!("exact"===_.fragment&&D.fragment!==T.fragment)}function hr(D,T,_){return An(D,T,T.segments,_)}function An(D,T,_,R){if(D.segments.length>_.length){const B=D.segments.slice(0,_.length);return!(!Jn(B,_)||T.hasChildren()||!qn(B,_,R))}if(D.segments.length===_.length){if(!Jn(D.segments,_)||!qn(D.segments,_,R))return!1;for(const B in T.children)if(!D.children[B]||!hr(D.children[B],T.children[B],R))return!1;return!0}{const B=_.slice(0,D.segments.length),q=_.slice(D.segments.length);return!!(Jn(D.segments,B)&&qn(D.segments,B,R)&&D.children[zt])&&An(D.children[zt],T,q,R)}}function qn(D,T,_){return T.every((R,B)=>dr[_](D[B].parameters,R.parameters))}class fn{constructor(T=new cn([],{}),_={},R=null){this.root=T,this.queryParams=_,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return fr.serialize(this)}}class cn{constructor(T,_){this.segments=T,this.children=_,this.parent=null,un(_,(R,B)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kr(this)}}class yn{constructor(T,_){this.path=T,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Kn(this.parameters)),this._parameterMap}toString(){return ue(this)}}function Jn(D,T){return D.length===T.length&&D.every((_,R)=>_.path===T[R].path)}let Tn=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:function(){return new xr},providedIn:"root"}),D})();class xr{parse(T){const _=new Be(T);return new fn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(T){const _=`/${pe(T.root,!0)}`,R=function Te(D){const T=Object.keys(D).map(_=>{const R=D[_];return Array.isArray(R)?R.map(B=>`${Q(_)}=${Q(B)}`).join("&"):`${Q(_)}=${Q(R)}`}).filter(_=>!!_);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${_}${R}${"string"==typeof T.fragment?`#${function te(D){return encodeURI(D)}(T.fragment)}`:""}`}}const fr=new xr;function kr(D){return D.segments.map(T=>ue(T)).join("/")}function pe(D,T){if(!D.hasChildren())return kr(D);if(T){const _=D.children[zt]?pe(D.children[zt],!1):"",R=[];return un(D.children,(B,q)=>{q!==zt&&R.push(`${q}:${pe(B,!1)}`)}),R.length>0?`${_}(${R.join("//")})`:_}{const _=function $n(D,T){let _=[];return un(D.children,(R,B)=>{B===zt&&(_=_.concat(T(R,B)))}),un(D.children,(R,B)=>{B!==zt&&(_=_.concat(T(R,B)))}),_}(D,(R,B)=>B===zt?[pe(D.children[zt],!1)]:[`${B}:${pe(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[zt]?`${kr(D)}/${_[0]}`:`${kr(D)}/(${_.join("//")})`}}function ce(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q(D){return ce(D).replace(/%3B/gi,";")}function Z(D){return ce(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _e(D){return decodeURIComponent(D)}function se(D){return _e(D.replace(/\+/g,"%20"))}function ue(D){return`${Z(D.path)}${function re(D){return Object.keys(D).map(T=>`;${Z(T)}=${Z(D[T])}`).join("")}(D.parameters)}`}const Ke=/^[^\/()?;=#]+/;function lt(D){const T=D.match(Ke);return T?T[0]:""}const nn=/^[^=?&#]+/,gt=/^[^&#]+/;class Be{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(T.length>0||Object.keys(_).length>0)&&(R[zt]=new cn(T,_)),R}parseSegment(){const T=lt(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new I.vHH(4009,Gt);return this.capture(T),new yn(_e(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const _=lt(this.remaining);if(!_)return;this.capture(_);let R="";if(this.consumeOptional("=")){const B=lt(this.remaining);B&&(R=B,this.capture(R))}T[_e(_)]=_e(R)}parseQueryParam(T){const _=function ot(D){const T=D.match(nn);return T?T[0]:""}(this.remaining);if(!_)return;this.capture(_);let R="";if(this.consumeOptional("=")){const ee=function rn(D){const T=D.match(gt);return T?T[0]:""}(this.remaining);ee&&(R=ee,this.capture(R))}const B=se(_),q=se(R);if(T.hasOwnProperty(B)){let ee=T[B];Array.isArray(ee)||(ee=[ee],T[B]=ee),ee.push(q)}else T[B]=q}parseParens(T){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=lt(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new I.vHH(4010,Gt);let q;R.indexOf(":")>-1?(q=R.slice(0,R.indexOf(":")),this.capture(q),this.capture(":")):T&&(q=zt);const ee=this.parseChildren();_[q]=1===Object.keys(ee).length?ee[zt]:new cn([],ee),this.consumeOptional("//")}return _}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new I.vHH(4011,Gt)}}function Ae(D){return D.segments.length>0?new cn([],{[zt]:D}):D}function vt(D){const T={};for(const R of Object.keys(D.children)){const q=vt(D.children[R]);(q.segments.length>0||q.hasChildren())&&(T[R]=q)}return function Qt(D){if(1===D.numberOfChildren&&D.children[zt]){const T=D.children[zt];return new cn(D.segments.concat(T.segments),T.children)}return D}(new cn(D.segments,T))}function dn(D){return D instanceof fn}const Oe=!1;function nt(D,T,_,R,B){if(0===_.length)return Dr(T.root,T.root,T.root,R,B);const q=function At(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new _r(!0,0,D);let T=0,_=!1;const R=D.reduce((B,q,ee)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Ne={};return un(q.outlets,(mt,Wt)=>{Ne[Wt]="string"==typeof mt?mt.split("/"):mt}),[...B,{outlets:Ne}]}if(q.segmentPath)return[...B,q.segmentPath]}return"string"!=typeof q?[...B,q]:0===ee?(q.split("/").forEach((Ne,mt)=>{0==mt&&"."===Ne||(0==mt&&""===Ne?_=!0:".."===Ne?T++:""!=Ne&&B.push(Ne))}),B):[...B,q]},[]);return new _r(_,T,R)}(_);return q.toRoot()?Dr(T.root,T.root,new cn([],{}),R,B):function ee(mt){const Wt=function tr(D,T,_,R){if(D.isAbsolute)return new xn(T.root,!0,0);if(-1===R)return new xn(_,_===T.root,0);return function ui(D,T,_){let R=D,B=T,q=_;for(;q>B;){if(q-=B,R=R.parent,!R)throw new I.vHH(4005,Oe&&"Invalid number of '../'");B=R.segments.length}return new xn(R,!1,B-q)}(_,R+($t(D.commands[0])?0:1),D.numberOfDoubleDots)}(q,T,D.snapshot?._urlSegment,mt),tn=Wt.processChildren?Zn(Wt.segmentGroup,Wt.index,q.commands):Wr(Wt.segmentGroup,Wt.index,q.commands);return Dr(T.root,Wt.segmentGroup,tn,R,B)}(D.snapshot?._lastPathIndex)}function $t(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function wn(D){return"object"==typeof D&&null!=D&&D.outlets}function Dr(D,T,_,R,B){let ee,q={};R&&un(R,(mt,Wt)=>{q[Wt]=Array.isArray(mt)?mt.map(tn=>`${tn}`):`${mt}`}),ee=D===T?_:er(D,T,_);const Ne=Ae(vt(ee));return new fn(Ne,q,B)}function er(D,T,_){const R={};return un(D.children,(B,q)=>{R[q]=B===T?_:er(B,T,_)}),new cn(D.segments,R)}class _r{constructor(T,_,R){if(this.isAbsolute=T,this.numberOfDoubleDots=_,this.commands=R,T&&R.length>0&&$t(R[0]))throw new I.vHH(4003,Oe&&"Root segment cannot have matrix parameters");const B=R.find(wn);if(B&&B!==Lr(R))throw new I.vHH(4004,Oe&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xn{constructor(T,_,R){this.segmentGroup=T,this.processChildren=_,this.index=R}}function Wr(D,T,_){if(D||(D=new cn([],{})),0===D.segments.length&&D.hasChildren())return Zn(D,T,_);const R=function xe(D,T,_){let R=0,B=T;const q={match:!1,pathIndex:0,commandIndex:0};for(;B<D.segments.length;){if(R>=_.length)return q;const ee=D.segments[B],Ne=_[R];if(wn(Ne))break;const mt=`${Ne}`,Wt=R<_.length-1?_[R+1]:null;if(B>0&&void 0===mt)break;if(mt&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!ct(mt,Wt,ee))return q;R+=2}else{if(!ct(mt,{},ee))return q;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(D,T,_),B=_.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const q=new cn(D.segments.slice(0,R.pathIndex),{});return q.children[zt]=new cn(D.segments.slice(R.pathIndex),D.children),Zn(q,0,B)}return R.match&&0===B.length?new cn(D.segments,{}):R.match&&!D.hasChildren()?we(D,T,_):R.match?Zn(D,0,B):we(D,T,_)}function Zn(D,T,_){if(0===_.length)return new cn(D.segments,{});{const R=function nr(D){return wn(D[0])?D[0].outlets:{[zt]:D}}(_),B={};if(!R[zt]&&D.children[zt]&&1===D.numberOfChildren&&0===D.children[zt].segments.length){const q=Zn(D.children[zt],T,_);return new cn(D.segments,q.children)}return un(R,(q,ee)=>{"string"==typeof q&&(q=[q]),null!==q&&(B[ee]=Wr(D.children[ee],T,q))}),un(D.children,(q,ee)=>{void 0===R[ee]&&(B[ee]=q)}),new cn(D.segments,B)}}function we(D,T,_){const R=D.segments.slice(0,T);let B=0;for(;B<_.length;){const q=_[B];if(wn(q)){const mt=ye(q.outlets);return new cn(R,mt)}if(0===B&&$t(_[0])){R.push(new yn(D.segments[T].path,et(_[0]))),B++;continue}const ee=wn(q)?q.outlets[zt]:`${q}`,Ne=B<_.length-1?_[B+1]:null;ee&&Ne&&$t(Ne)?(R.push(new yn(ee,et(Ne))),B+=2):(R.push(new yn(ee,{})),B++)}return new cn(R,{})}function ye(D){const T={};return un(D,(_,R)=>{"string"==typeof _&&(_=[_]),null!==_&&(T[R]=we(new cn([],{}),0,_))}),T}function et(D){const T={};return un(D,(_,R)=>T[R]=`${_}`),T}function ct(D,T,_){return D==_.path&&Bn(T,_.parameters)}const hn="imperative";class Rn{constructor(T,_){this.id=T,this.url=_}}class Mn extends Rn{constructor(T,_,R="imperative",B=null){super(T,_),this.type=0,this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jn extends Rn{constructor(T,_,R){super(T,_),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ni extends Rn{constructor(T,_,R,B){super(T,_),this.reason=R,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends Rn{constructor(T,_,R,B){super(T,_),this.reason=R,this.code=B,this.type=16}}class Qr extends Rn{constructor(T,_,R,B){super(T,_),this.error=R,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jr extends Rn{constructor(T,_,R,B){super(T,_),this.urlAfterRedirects=R,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends Rn{constructor(T,_,R,B){super(T,_),this.urlAfterRedirects=R,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends Rn{constructor(T,_,R,B,q){super(T,_),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ns extends Rn{constructor(T,_,R,B){super(T,_),this.urlAfterRedirects=R,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Rn{constructor(T,_,R,B){super(T,_),this.urlAfterRedirects=R,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rs{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pi{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ha{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(T,_,R){this.routerEvent=T,this.position=_,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ki=(()=>{class D{createUrlTree(_,R,B,q,ee,Ne){return nt(_||R.root,B,q,ee,Ne)}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac}),D})(),Fi=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:function(T){return Ki.\u0275fac(T)},providedIn:"root"}),D})();class Ui{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const _=this.pathFromRoot(T);return _.length>1?_[_.length-2]:null}children(T){const _=ea(T,this._root);return _?_.children.map(R=>R.value):[]}firstChild(T){const _=ea(T,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(T){const _=pr(T,this._root);return _.length<2?[]:_[_.length-2].children.map(B=>B.value).filter(B=>B!==T)}pathFromRoot(T){return pr(T,this._root).map(_=>_.value)}}function ea(D,T){if(D===T.value)return T;for(const _ of T.children){const R=ea(D,_);if(R)return R}return null}function pr(D,T){if(D===T.value)return[T];for(const _ of T.children){const R=pr(D,_);if(R.length)return R.unshift(T),R}return[]}class ss{constructor(T,_){this.value=T,this.children=_}toString(){return`TreeNode(${this.value})`}}function Ii(D){const T={};return D&&D.children.forEach(_=>T[_.value.outlet]=_),T}class go extends Ui{constructor(T,_){super(T),this.snapshot=_,bi(this,T)}toString(){return this.snapshot.toString()}}function ta(D,T){const _=function Ys(D,T){const ee=new Ko([],{},{},"",{},zt,T,null,D.root,-1,{});return new Bi("",new ss(ee,[]))}(D,T),R=new fe([new yn("",{})]),B=new fe({}),q=new fe({}),ee=new fe({}),Ne=new fe(""),mt=new fs(R,B,ee,Ne,q,zt,T,_.root);return mt.snapshot=_.root,new go(new ss(mt,[]),_)}class fs{constructor(T,_,R,B,q,ee,Ne,mt){this.url=T,this.params=_,this.queryParams=R,this.fragment=B,this.data=q,this.outlet=ee,this.component=Ne,this.title=this.data?.pipe((0,Lt.U)(Wt=>Wt[rr]))??(0,M.of)(void 0),this._futureSnapshot=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.U)(T=>Kn(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.U)(T=>Kn(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mo(D,T="emptyOnly"){const _=D.pathFromRoot;let R=0;if("always"!==T)for(R=_.length-1;R>=1;){const B=_[R],q=_[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(q.component)break;R--}}return function yo(D){return D.reduce((T,_)=>({params:{...T.params,..._.params},data:{...T.data,..._.data},resolve:{..._.data,...T.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(R))}class Ko{get title(){return this.data?.[rr]}constructor(T,_,R,B,q,ee,Ne,mt,Wt,tn,Nr){this.url=T,this.params=_,this.queryParams=R,this.fragment=B,this.data=q,this.outlet=ee,this.component=Ne,this.routeConfig=mt,this._urlSegment=Wt,this._lastPathIndex=tn,this._resolve=Nr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bi extends Ui{constructor(T,_){super(_),this.url=T,bi(this,_)}toString(){return na(this._root)}}function bi(D,T){T.value._routerState=D,T.children.forEach(_=>bi(D,_))}function na(D){const T=D.children.length>0?` { ${D.children.map(na).join(", ")} } `:"";return`${D.value}${T}`}function Ts(D){if(D.snapshot){const T=D.snapshot,_=D._futureSnapshot;D.snapshot=_,Bn(T.queryParams,_.queryParams)||D.queryParams.next(_.queryParams),T.fragment!==_.fragment&&D.fragment.next(_.fragment),Bn(T.params,_.params)||D.params.next(_.params),function en(D,T){if(D.length!==T.length)return!1;for(let _=0;_<D.length;++_)if(!Bn(D[_],T[_]))return!1;return!0}(T.url,_.url)||D.url.next(_.url),Bn(T.data,_.data)||D.data.next(_.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function vo(D,T){const _=Bn(D.params,T.params)&&function Xn(D,T){return Jn(D,T)&&D.every((_,R)=>Bn(_.parameters,T[R].parameters))}(D.url,T.url);return _&&!(!D.parent!=!T.parent)&&(!D.parent||vo(D.parent,T.parent))}function xi(D,T,_){if(_&&D.shouldReuseRoute(T.value,_.value.snapshot)){const R=_.value;R._futureSnapshot=T.value;const B=function Qs(D,T,_){return T.children.map(R=>{for(const B of _.children)if(D.shouldReuseRoute(R.value,B.value.snapshot))return xi(D,R,B);return xi(D,R)})}(D,T,_);return new ss(R,B)}{if(D.shouldAttach(T.value)){const q=D.retrieve(T.value);if(null!==q){const ee=q.route;return ee.value._futureSnapshot=T.value,ee.children=T.children.map(Ne=>xi(D,Ne)),ee}}const R=function Vi(D){return new fs(new fe(D.url),new fe(D.params),new fe(D.queryParams),new fe(D.fragment),new fe(D.data),D.outlet,D.component,D)}(T.value),B=T.children.map(q=>xi(D,q));return new ss(R,B)}}const Lo="ngNavigationCancelingError";function _o(D,T){const{redirectTo:_,navigationBehaviorOptions:R}=dn(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,B=zs(!1,0,T);return B.url=_,B.navigationBehaviorOptions=R,B}function zs(D,T,_){const R=new Error("NavigationCancelingError: "+(D||""));return R[Lo]=!0,R.cancellationCode=T,_&&(R.url=_),R}function ra(D){return $i(D)&&dn(D.url)}function $i(D){return D&&D[Lo]}class ia{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ss,this.attachRef=null}}let Ss=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(_,R){const B=this.getOrCreateContext(_);B.outlet=R,this.contexts.set(_,B)}onChildOutletDestroyed(_){const R=this.getContext(_);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let R=this.getContext(_);return R||(R=new ia,this.contexts.set(_,R)),R}getContext(_){return this.contexts.get(_)||null}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const wo=!1;let Cs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.attachEvents=new I.vpe,this.detachEvents=new I.vpe,this.parentContexts=(0,I.f3M)(Ss),this.location=(0,I.f3M)(I.s_b),this.changeDetector=(0,I.f3M)(I.sBO),this.environmentInjector=(0,I.f3M)(I.lqb)}ngOnChanges(_){if(_.name){const{firstChange:R,previousValue:B}=_.name;if(R)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.vHH(4012,wo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.vHH(4012,wo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.vHH(4012,wo);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,R){this.activated=_,this._activatedRoute=R,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,R){if(this.isActivated)throw new I.vHH(4013,wo);this._activatedRoute=_;const B=this.location,ee=_.snapshot.component,Ne=this.parentContexts.getOrCreateContext(this.name).children,mt=new As(_,Ne,B.injector);if(R&&function jr(D){return!!D.resolveComponentFactory}(R)){const Wt=R.resolveComponentFactory(ee);this.activated=B.createComponent(Wt,B.length,mt)}else this.activated=B.createComponent(ee,{index:B.length,injector:mt,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275dir=I.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[I.TTD]}),D})();class As{constructor(T,_,R){this.route=T,this.childContexts=_,this.parent=R}get(T,_){return T===fs?this.route:T===Ss?this.childContexts:this.parent.get(T,_)}}let ps=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275cmp=I.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[I.jDz],decls:1,vars:0,template:function(_,R){1&_&&I._UZ(0,"router-outlet")},dependencies:[Cs],encapsulation:2}),D})();function os(D,T){return D.providers&&!D._injector&&(D._injector=(0,I.MMx)(D.providers,T,`Route: ${D.path}`)),D._injector??T}function Hs(D){const T=D.children&&D.children.map(Hs),_=T?{...D,children:T}:{...D};return!_.component&&!_.loadComponent&&(T||_.loadChildren)&&_.outlet&&_.outlet!==zt&&(_.component=ps),_}function si(D){return D.outlet||zt}function Uo(D,T){const _=D.filter(R=>si(R)===T);return _.push(...D.filter(R=>si(R)!==T)),_}function mi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let T=D.parent;T;T=T.parent){const _=T.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class to{constructor(T,_,R,B){this.routeReuseStrategy=T,this.futureState=_,this.currState=R,this.forwardEvent=B}activate(T){const _=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,R,T),Ts(this.futureState.root),this.activateChildRoutes(_,R,T)}deactivateChildRoutes(T,_,R){const B=Ii(_);T.children.forEach(q=>{const ee=q.value.outlet;this.deactivateRoutes(q,B[ee],R),delete B[ee]}),un(B,(q,ee)=>{this.deactivateRouteAndItsChildren(q,R)})}deactivateRoutes(T,_,R){const B=T.value,q=_?_.value:null;if(B===q)if(B.component){const ee=R.getContext(B.outlet);ee&&this.deactivateChildRoutes(T,_,ee.children)}else this.deactivateChildRoutes(T,_,R);else q&&this.deactivateRouteAndItsChildren(_,R)}deactivateRouteAndItsChildren(T,_){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,_):this.deactivateRouteAndOutlet(T,_)}detachAndStoreRouteSubtree(T,_){const R=_.getContext(T.value.outlet),B=R&&T.value.component?R.children:_,q=Ii(T);for(const ee of Object.keys(q))this.deactivateRouteAndItsChildren(q[ee],B);if(R&&R.outlet){const ee=R.outlet.detach(),Ne=R.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ee,route:T,contexts:Ne})}}deactivateRouteAndOutlet(T,_){const R=_.getContext(T.value.outlet),B=R&&T.value.component?R.children:_,q=Ii(T);for(const ee of Object.keys(q))this.deactivateRouteAndItsChildren(q[ee],B);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(T,_,R){const B=Ii(_);T.children.forEach(q=>{this.activateRoutes(q,B[q.value.outlet],R),this.forwardEvent(new Ei(q.value.snapshot))}),T.children.length&&this.forwardEvent(new ri(T.value.snapshot))}activateRoutes(T,_,R){const B=T.value,q=_?_.value:null;if(Ts(B),B===q)if(B.component){const ee=R.getOrCreateContext(B.outlet);this.activateChildRoutes(T,_,ee.children)}else this.activateChildRoutes(T,_,R);else if(B.component){const ee=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ne=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),ee.children.onOutletReAttached(Ne.contexts),ee.attachRef=Ne.componentRef,ee.route=Ne.route.value,ee.outlet&&ee.outlet.attach(Ne.componentRef,Ne.route.value),Ts(Ne.route.value),this.activateChildRoutes(T,null,ee.children)}else{const Ne=mi(B.snapshot),mt=Ne?.get(I._Vd)??null;ee.attachRef=null,ee.route=B,ee.resolver=mt,ee.injector=Ne,ee.outlet&&ee.outlet.activateWith(B,ee.injector),this.activateChildRoutes(T,null,ee.children)}}else this.activateChildRoutes(T,null,R)}}class Nn{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class xs{constructor(T,_){this.component=T,this.route=_}}function gs(D,T,_){const R=D._root;return Mi(R,T?T._root:null,_,[R.value])}function zi(D,T){const _=Symbol(),R=T.get(D,_);return R===_?"function"!=typeof D||(0,I.Z0I)(D)?T.get(D):D:R}function Mi(D,T,_,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ii(T);return D.children.forEach(ee=>{(function Ms(D,T,_,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const q=D.value,ee=T?T.value:null,Ne=_?_.getContext(D.value.outlet):null;if(ee&&q.routeConfig===ee.routeConfig){const mt=function Bo(D,T,_){if("function"==typeof _)return _(D,T);switch(_){case"pathParamsChange":return!Jn(D.url,T.url);case"pathParamsOrQueryParamsChange":return!Jn(D.url,T.url)||!Bn(D.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vo(D,T)||!Bn(D.queryParams,T.queryParams);default:return!vo(D,T)}}(ee,q,q.routeConfig.runGuardsAndResolvers);mt?B.canActivateChecks.push(new Nn(R)):(q.data=ee.data,q._resolvedData=ee._resolvedData),Mi(D,T,q.component?Ne?Ne.children:null:_,R,B),mt&&Ne&&Ne.outlet&&Ne.outlet.isActivated&&B.canDeactivateChecks.push(new xs(Ne.outlet.component,ee))}else ee&&Eo(T,Ne,B),B.canActivateChecks.push(new Nn(R)),Mi(D,null,q.component?Ne?Ne.children:null:_,R,B)})(ee,q[ee.value.outlet],_,R.concat([ee.value]),B),delete q[ee.value.outlet]}),un(q,(ee,Ne)=>Eo(ee,_.getContext(Ne),B)),B}function Eo(D,T,_){const R=Ii(D),B=D.value;un(R,(q,ee)=>{Eo(q,B.component?T?T.children.getContext(ee):null:T,_)}),_.canDeactivateChecks.push(new xs(B.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,B))}function tt(D){return"function"==typeof D}function as(D){return D instanceof Ce.K||"EmptyError"===D?.name}const Io=Symbol("INITIAL_VALUE");function yi(){return(0,Nt.w)(D=>wt(D.map(T=>T.pipe((0,We.q)(1),(0,Ge.O)(Io)))).pipe((0,Lt.U)(T=>{for(const _ of T)if(!0!==_){if(_===Io)return Io;if(!1===_||_ instanceof fn)return _}return!0}),(0,it.h)(T=>T!==Io),(0,We.q)(1)))}function fa(D){return(0,Ye.z)((0,Mt.b)(T=>{if(dn(T))throw _o(0,T)}),(0,Lt.U)(T=>!0===T))}const Qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bo(D,T,_,R,B){const q=Si(D,T,_);return q.matched?function Zr(D,T,_,R){const B=T.canMatch;if(!B||0===B.length)return(0,M.of)(!0);const q=B.map(ee=>{const Ne=zi(ee,D);return pn(function Gs(D){return D&&tt(D.canMatch)}(Ne)?Ne.canMatch(T,_):D.runInContext(()=>Ne(T,_)))});return(0,M.of)(q).pipe(yi(),fa())}(R=os(T,R),T,_).pipe((0,Lt.U)(ee=>!0===ee?q:{...Qi})):(0,M.of)(q)}function Si(D,T,_){if(""===T.path)return"full"===T.pathMatch&&(D.hasChildren()||_.length>0)?{...Qi}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const B=(T.matcher||bn)(_,D,T);if(!B)return{...Qi};const q={};un(B.posParams,(Ne,mt)=>{q[mt]=Ne.path});const ee=B.consumed.length>0?{...q,...B.consumed[B.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:B.consumed,remainingSegments:_.slice(B.consumed.length),parameters:ee,positionalParamSegments:B.posParams??{}}}function Xi(D,T,_,R){if(_.length>0&&function To(D,T,_){return _.some(R=>io(D,T,R)&&si(R)!==zt)}(D,_,R)){const q=new cn(T,function Do(D,T,_,R){const B={};B[zt]=R,R._sourceSegment=D,R._segmentIndexShift=T.length;for(const q of _)if(""===q.path&&si(q)!==zt){const ee=new cn([],{});ee._sourceSegment=D,ee._segmentIndexShift=T.length,B[si(q)]=ee}return B}(D,T,R,new cn(_,D.children)));return q._sourceSegment=D,q._segmentIndexShift=T.length,{segmentGroup:q,slicedSegments:[]}}if(0===_.length&&function Ri(D,T,_){return _.some(R=>io(D,T,R))}(D,_,R)){const q=new cn(D.segments,function Sr(D,T,_,R,B){const q={};for(const ee of R)if(io(D,_,ee)&&!B[si(ee)]){const Ne=new cn([],{});Ne._sourceSegment=D,Ne._segmentIndexShift=T.length,q[si(ee)]=Ne}return{...B,...q}}(D,T,_,R,D.children));return q._sourceSegment=D,q._segmentIndexShift=T.length,{segmentGroup:q,slicedSegments:_}}const B=new cn(D.segments,D.children);return B._sourceSegment=D,B._segmentIndexShift=T.length,{segmentGroup:B,slicedSegments:_}}function io(D,T,_){return(!(D.hasChildren()||T.length>0)||"full"!==_.pathMatch)&&""===_.path}function so(D,T,_,R){return!!(si(D)===R||R!==zt&&io(T,_,D))&&("**"===D.path||Si(T,D,_).matched)}function Oi(D,T,_){return 0===T.length&&!D.children[_]}const Os=!1;class So{constructor(T){this.segmentGroup=T||null}}class Ur{constructor(T){this.urlTree=T}}function Br(D){return ut(new So(D))}function zn(D){return ut(new Ur(D))}class pa{constructor(T,_,R,B,q){this.injector=T,this.configLoader=_,this.urlSerializer=R,this.urlTree=B,this.config=q,this.allowRedirects=!0}apply(){const T=Xi(this.urlTree.root,[],[],this.config).segmentGroup,_=new cn(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,_,zt).pipe((0,Lt.U)(q=>this.createUrlTree(vt(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Et(q=>{if(q instanceof Ur)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof So?this.noMatchError(q):q}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,zt).pipe((0,Lt.U)(B=>this.createUrlTree(vt(B),T.queryParams,T.fragment))).pipe(Et(B=>{throw B instanceof So?this.noMatchError(B):B}))}noMatchError(T){return new I.vHH(4002,Os)}createUrlTree(T,_,R){const B=Ae(T);return new fn(B,_,R)}expandSegmentGroup(T,_,R,B){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(T,_,R).pipe((0,Lt.U)(q=>new cn([],q))):this.expandSegment(T,R,_,R.segments,B,!0)}expandChildren(T,_,R){const B=[];for(const q of Object.keys(R.children))"primary"===q?B.unshift(q):B.push(q);return(0,F.D)(B).pipe(dt(q=>{const ee=R.children[q],Ne=Uo(_,q);return this.expandSegmentGroup(T,Ne,ee,q).pipe((0,Lt.U)(mt=>({segment:mt,outlet:q})))}),(0,vn.R)((q,ee)=>(q[ee.outlet]=ee.segment,q),{}),Dn())}expandSegment(T,_,R,B,q,ee){return(0,F.D)(R).pipe(dt(Ne=>this.expandSegmentAgainstRoute(T,_,R,Ne,B,q,ee).pipe(Et(Wt=>{if(Wt instanceof So)return(0,M.of)(null);throw Wt}))),(0,St.P)(Ne=>!!Ne),Et((Ne,mt)=>{if(as(Ne))return Oi(_,B,q)?(0,M.of)(new cn([],{})):Br(_);throw Ne}))}expandSegmentAgainstRoute(T,_,R,B,q,ee,Ne){return so(B,_,q,ee)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(T,_,B,q,ee):Ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,_,R,B,q,ee):Br(_):Br(_)}expandSegmentAgainstRouteUsingRedirect(T,_,R,B,q,ee){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,R,B,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(T,_,R,B,q,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,_,R,B){const q=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?zn(q):this.lineralizeSegments(R,q).pipe((0,st.z)(ee=>{const Ne=new cn(ee,{});return this.expandSegment(T,Ne,_,ee,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,_,R,B,q,ee){const{matched:Ne,consumedSegments:mt,remainingSegments:Wt,positionalParamSegments:tn}=Si(_,B,q);if(!Ne)return Br(_);const Nr=this.applyRedirectCommands(mt,B.redirectTo,tn);return B.redirectTo.startsWith("/")?zn(Nr):this.lineralizeSegments(B,Nr).pipe((0,st.z)(ai=>this.expandSegment(T,_,R,ai.concat(Wt),ee,!1)))}matchSegmentAgainstRoute(T,_,R,B,q){return"**"===R.path?(T=os(R,T),R.loadChildren?(R._loadedRoutes?(0,M.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(T,R)).pipe((0,Lt.U)(Ne=>(R._loadedRoutes=Ne.routes,R._loadedInjector=Ne.injector,new cn(B,{})))):(0,M.of)(new cn(B,{}))):bo(_,R,B,T).pipe((0,Nt.w)(({matched:ee,consumedSegments:Ne,remainingSegments:mt})=>ee?this.getChildConfig(T=R._injector??T,R,B).pipe((0,st.z)(tn=>{const Nr=tn.injector??T,ai=tn.routes,{segmentGroup:aa,slicedSegments:Fs}=Xi(_,Ne,mt,ai),Qo=new cn(aa.segments,aa.children);if(0===Fs.length&&Qo.hasChildren())return this.expandChildren(Nr,ai,Qo).pipe((0,Lt.U)(Ju=>new cn(Ne,Ju)));if(0===ai.length&&0===Fs.length)return(0,M.of)(new cn(Ne,{}));const xo=si(R)===q;return this.expandSegment(Nr,Qo,ai,Fs,xo?zt:q,!0).pipe((0,Lt.U)(wi=>new cn(Ne.concat(wi.segments),wi.children)))})):Br(_)))}getChildConfig(T,_,R){return _.children?(0,M.of)({routes:_.children,injector:T}):_.loadChildren?void 0!==_._loadedRoutes?(0,M.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Ti(D,T,_,R){const B=T.canLoad;if(void 0===B||0===B.length)return(0,M.of)(!0);const q=B.map(ee=>{const Ne=zi(ee,D);return pn(function Ps(D){return D&&tt(D.canLoad)}(Ne)?Ne.canLoad(T,_):D.runInContext(()=>Ne(T,_)))});return(0,M.of)(q).pipe(yi(),fa())}(T,_,R).pipe((0,st.z)(B=>B?this.configLoader.loadChildren(T,_).pipe((0,Mt.b)(q=>{_._loadedRoutes=q.routes,_._loadedInjector=q.injector})):function Ns(D){return ut(zs(Os,3))}())):(0,M.of)({routes:[],injector:T})}lineralizeSegments(T,_){let R=[],B=_.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,M.of)(R);if(B.numberOfChildren>1||!B.children[zt])return T.redirectTo,ut(new I.vHH(4e3,Os));B=B.children[zt]}}applyRedirectCommands(T,_,R){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),T,R)}applyRedirectCreateUrlTree(T,_,R,B){const q=this.createSegmentGroup(T,_.root,R,B);return new fn(q,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(T,_){const R={};return un(T,(B,q)=>{if("string"==typeof B&&B.startsWith(":")){const Ne=B.substring(1);R[q]=_[Ne]}else R[q]=B}),R}createSegmentGroup(T,_,R,B){const q=this.createSegments(T,_.segments,R,B);let ee={};return un(_.children,(Ne,mt)=>{ee[mt]=this.createSegmentGroup(T,Ne,R,B)}),new cn(q,ee)}createSegments(T,_,R,B){return _.map(q=>q.path.startsWith(":")?this.findPosParam(T,q,B):this.findOrReturn(q,R))}findPosParam(T,_,R){const B=R[_.path.substring(1)];if(!B)throw new I.vHH(4001,Os);return B}findOrReturn(T,_){let R=0;for(const B of _){if(B.path===T.path)return _.splice(R),B;R++}return T}}class vs{}class m{constructor(T,_,R,B,q,ee,Ne){this.injector=T,this.rootComponentType=_,this.config=R,this.urlTree=B,this.url=q,this.paramsInheritanceStrategy=ee,this.urlSerializer=Ne}recognize(){const T=Xi(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,zt).pipe((0,Lt.U)(_=>{if(null===_)return null;const R=new Ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new ss(R,_),q=new Bi(this.url,B);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(T){const _=T.value,R=mo(_,this.paramsInheritanceStrategy);_.params=Object.freeze(R.params),_.data=Object.freeze(R.data),T.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(T,_,R,B){return 0===R.segments.length&&R.hasChildren()?this.processChildren(T,_,R):this.processSegment(T,_,R,R.segments,B)}processChildren(T,_,R){return(0,F.D)(Object.keys(R.children)).pipe(dt(B=>{const q=R.children[B],ee=Uo(_,B);return this.processSegmentGroup(T,ee,q,B)}),(0,vn.R)((B,q)=>B&&q?(B.push(...q),B):null),function Vn(D,T=!1){return(0,Ue.e)((_,R)=>{let B=0;_.subscribe((0,Xe.x)(R,q=>{const ee=D(q,B++);(ee||T)&&R.next(q),!ee&&R.complete()}))})}(B=>null!==B),(0,kt.d)(null),Dn(),(0,Lt.U)(B=>{if(null===B)return null;const q=O(B);return function h(D){D.sort((T,_)=>T.value.outlet===zt?-1:_.value.outlet===zt?1:T.value.outlet.localeCompare(_.value.outlet))}(q),q}))}processSegment(T,_,R,B,q){return(0,F.D)(_).pipe(dt(ee=>this.processSegmentAgainstRoute(ee._injector??T,ee,R,B,q)),(0,St.P)(ee=>!!ee),Et(ee=>{if(as(ee))return Oi(R,B,q)?(0,M.of)([]):(0,M.of)(null);throw ee}))}processSegmentAgainstRoute(T,_,R,B,q){if(_.redirectTo||!so(_,R,B,q))return(0,M.of)(null);let ee;if("**"===_.path){const Ne=B.length>0?Lr(B).parameters:{},mt=E(R)+B.length,Wt=new Ko(B,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(_),si(_),_.component??_._loadedComponent??null,_,v(R),mt,ge(_));ee=(0,M.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]})}else ee=bo(R,_,B,T).pipe((0,Lt.U)(({matched:Ne,consumedSegments:mt,remainingSegments:Wt,parameters:tn})=>{if(!Ne)return null;const Nr=E(R)+mt.length;return{snapshot:new Ko(mt,tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(_),si(_),_.component??_._loadedComponent??null,_,v(R),Nr,ge(_)),consumedSegments:mt,remainingSegments:Wt}}));return ee.pipe((0,Nt.w)(Ne=>{if(null===Ne)return(0,M.of)(null);const{snapshot:mt,consumedSegments:Wt,remainingSegments:tn}=Ne;T=_._injector??T;const Nr=_._loadedInjector??T,ai=function d(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(_),{segmentGroup:aa,slicedSegments:Fs}=Xi(R,Wt,tn,ai.filter(xo=>void 0===xo.redirectTo));if(0===Fs.length&&aa.hasChildren())return this.processChildren(Nr,ai,aa).pipe((0,Lt.U)(xo=>null===xo?null:[new ss(mt,xo)]));if(0===ai.length&&0===Fs.length)return(0,M.of)([new ss(mt,[])]);const Qo=si(_)===q;return this.processSegment(Nr,ai,aa,Fs,Qo?zt:q).pipe((0,Lt.U)(xo=>null===xo?null:[new ss(mt,xo)]))}))}}function w(D){const T=D.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function O(D){const T=[],_=new Set;for(const R of D){if(!w(R)){T.push(R);continue}const B=T.find(q=>R.value.routeConfig===q.value.routeConfig);void 0!==B?(B.children.push(...R.children),_.add(B)):T.push(R)}for(const R of _){const B=O(R.children);T.push(new ss(R.value,B))}return T.filter(R=>!_.has(R))}function v(D){let T=D;for(;T._sourceSegment;)T=T._sourceSegment;return T}function E(D){let T=D,_=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,_+=T._segmentIndexShift??0;return _-1}function K(D){return D.data||{}}function ge(D){return D.resolve||{}}function gr(D){return"string"==typeof D.title||null===D.title}function Dt(D){return(0,Nt.w)(T=>{const _=D(T);return _?(0,F.D)(_).pipe((0,Lt.U)(()=>T)):(0,M.of)(T)})}const Mr=new I.OlP("ROUTES");let Pt=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,I.f3M)(I.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,M.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const R=pn(_.loadComponent()).pipe((0,Lt.U)(ht),(0,Mt.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=q}),yr(()=>{this.componentLoaders.delete(_)})),B=new an(R,()=>new ae.x).pipe(It());return this.componentLoaders.set(_,B),B}loadChildren(_,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,M.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const q=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,Lt.U)(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(R);let mt,Wt,tn=!1;Array.isArray(Ne)?Wt=Ne:(mt=Ne.create(_).injector,Wt=cr(mt.get(Mr,[],I.XFs.Self|I.XFs.Optional)));return{routes:Wt.map(Hs),injector:mt}}),yr(()=>{this.childrenLoaders.delete(R)})),ee=new an(q,()=>new ae.x).pipe(It());return this.childrenLoaders.set(R,ee),ee}loadModuleFactoryOrRoutes(_){return pn(_()).pipe((0,Lt.U)(ht),(0,st.z)(R=>R instanceof I.YKP||Array.isArray(R)?(0,M.of)(R):(0,F.D)(this.compiler.compileModuleAsync(R))))}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ht(D){return function Ze(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let us=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ae.x,this.configLoader=(0,I.f3M)(Pt),this.environmentInjector=(0,I.f3M)(I.lqb),this.urlSerializer=(0,I.f3M)(Tn),this.rootContexts=(0,I.f3M)(Ss),this.navigationId=0,this.afterPreactivation=()=>(0,M.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new rs(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new Ds(B))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:R})}setupNavigations(_){return this.transitions=new fe({id:0,targetPageId:0,currentUrlTree:_.currentUrlTree,currentRawUrl:_.currentUrlTree,extractedUrl:_.urlHandlingStrategy.extract(_.currentUrlTree),urlAfterRedirects:_.urlHandlingStrategy.extract(_.currentUrlTree),rawUrl:_.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hn,restoredState:null,currentSnapshot:_.routerState.snapshot,targetSnapshot:null,currentRouterState:_.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(R=>0!==R.id),(0,Lt.U)(R=>({...R,extractedUrl:_.urlHandlingStrategy.extract(R.rawUrl)})),(0,Nt.w)(R=>{let B=!1,q=!1;return(0,M.of)(R).pipe((0,Mt.b)(ee=>{this.currentNavigation={id:ee.id,initialUrl:ee.rawUrl,extractedUrl:ee.extractedUrl,trigger:ee.source,extras:ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Nt.w)(ee=>{const Ne=_.browserUrlTree.toString(),mt=!_.navigated||ee.extractedUrl.toString()!==Ne||Ne!==_.currentUrlTree.toString();if(!mt&&"reload"!==(ee.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const tn="";return this.events.next(new wr(ee.id,_.serializeUrl(R.rawUrl),tn,0)),_.rawUrlTree=ee.rawUrl,ee.resolve(null),Se.E}if(_.urlHandlingStrategy.shouldProcessUrl(ee.rawUrl))return Ks(ee.source)&&(_.browserUrlTree=ee.extractedUrl),(0,M.of)(ee).pipe((0,Nt.w)(tn=>{const Nr=this.transitions?.getValue();return this.events.next(new Mn(tn.id,this.urlSerializer.serialize(tn.extractedUrl),tn.source,tn.restoredState)),Nr!==this.transitions?.getValue()?Se.E:Promise.resolve(tn)}),function qo(D,T,_,R){return(0,Nt.w)(B=>function oo(D,T,_,R,B){return new pa(D,T,_,R,B).apply()}(D,T,_,B.extractedUrl,R).pipe((0,Lt.U)(q=>({...B,urlAfterRedirects:q}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,_.config),(0,Mt.b)(tn=>{this.currentNavigation={...this.currentNavigation,finalUrl:tn.urlAfterRedirects},R.urlAfterRedirects=tn.urlAfterRedirects}),function $e(D,T,_,R,B){return(0,st.z)(q=>function Zo(D,T,_,R,B,q,ee="emptyOnly"){return new m(D,T,_,R,B,ee,q).recognize().pipe((0,Nt.w)(Ne=>null===Ne?function sa(D){return new Ie.y(T=>T.error(D))}(new vs):(0,M.of)(Ne)))}(D,T,_,q.urlAfterRedirects,R.serialize(q.urlAfterRedirects),R,B).pipe((0,Lt.U)(ee=>({...q,targetSnapshot:ee}))))}(this.environmentInjector,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Mt.b)(tn=>{if(R.targetSnapshot=tn.targetSnapshot,"eager"===_.urlUpdateStrategy){if(!tn.extras.skipLocationChange){const ai=_.urlHandlingStrategy.merge(tn.urlAfterRedirects,tn.rawUrl);_.setBrowserUrl(ai,tn)}_.browserUrlTree=tn.urlAfterRedirects}const Nr=new Jr(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(Nr)}));if(mt&&_.urlHandlingStrategy.shouldProcessUrl(_.rawUrlTree)){const{id:tn,extractedUrl:Nr,source:ai,restoredState:aa,extras:Fs}=ee,Qo=new Mn(tn,this.urlSerializer.serialize(Nr),ai,aa);this.events.next(Qo);const xo=ta(Nr,this.rootComponentType).snapshot;return R={...ee,targetSnapshot:xo,urlAfterRedirects:Nr,extras:{...Fs,skipLocationChange:!1,replaceUrl:!1}},(0,M.of)(R)}{const tn="";return this.events.next(new wr(ee.id,_.serializeUrl(R.extractedUrl),tn,1)),_.rawUrlTree=ee.rawUrl,ee.resolve(null),Se.E}}),(0,Mt.b)(ee=>{const Ne=new Tr(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(Ne)}),(0,Lt.U)(ee=>R={...ee,guards:gs(ee.targetSnapshot,ee.currentSnapshot,this.rootContexts)}),function Rs(D,T){return(0,st.z)(_=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:q,canDeactivateChecks:ee}}=_;return 0===ee.length&&0===q.length?(0,M.of)({..._,guardsResult:!0}):function oi(D,T,_,R){return(0,F.D)(D).pipe((0,st.z)(B=>function ys(D,T,_,R,B){const q=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,M.of)(!0);const ee=q.map(Ne=>{const mt=mi(T)??B,Wt=zi(Ne,mt);return pn(function no(D){return D&&tt(D.canDeactivate)}(Wt)?Wt.canDeactivate(D,T,_,R):mt.runInContext(()=>Wt(D,T,_,R))).pipe((0,St.P)())});return(0,M.of)(ee).pipe(yi())}(B.component,B.route,_,T,R)),(0,St.P)(B=>!0!==B,!0))}(ee,R,B,D).pipe((0,st.z)(Ne=>Ne&&function Un(D){return"boolean"==typeof D}(Ne)?function Xr(D,T,_,R){return(0,F.D)(T).pipe(dt(B=>(0,at.z)(function ms(D,T){return null!==D&&T&&T(new pi(D)),(0,M.of)(!0)}(B.route.parent,R),function Zi(D,T){return null!==D&&T&&T(new ha(D)),(0,M.of)(!0)}(B.route,R),function ro(D,T,_){const R=T[T.length-1],q=T.slice(0,T.length-1).reverse().map(ee=>function Di(D){const T=D.routeConfig?D.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:D,guards:T}:null}(ee)).filter(ee=>null!==ee).map(ee=>yt(()=>{const Ne=ee.guards.map(mt=>{const Wt=mi(ee.node)??_,tn=zi(mt,Wt);return pn(function qr(D){return D&&tt(D.canActivateChild)}(tn)?tn.canActivateChild(R,D):Wt.runInContext(()=>tn(R,D))).pipe((0,St.P)())});return(0,M.of)(Ne).pipe(yi())}));return(0,M.of)(q).pipe(yi())}(D,B.path,_),function Yi(D,T,_){const R=T.routeConfig?T.routeConfig.canActivate:null;if(!R||0===R.length)return(0,M.of)(!0);const B=R.map(q=>yt(()=>{const ee=mi(T)??_,Ne=zi(q,ee);return pn(function Ws(D){return D&&tt(D.canActivate)}(Ne)?Ne.canActivate(T,D):ee.runInContext(()=>Ne(T,D))).pipe((0,St.P)())}));return(0,M.of)(B).pipe(yi())}(D,B.route,_))),(0,St.P)(B=>!0!==B,!0))}(R,q,D,T):(0,M.of)(Ne)),(0,Lt.U)(Ne=>({..._,guardsResult:Ne})))})}(this.environmentInjector,ee=>this.events.next(ee)),(0,Mt.b)(ee=>{if(R.guardsResult=ee.guardsResult,dn(ee.guardsResult))throw _o(0,ee.guardsResult);const Ne=new Gi(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot,!!ee.guardsResult);this.events.next(Ne)}),(0,it.h)(ee=>!!ee.guardsResult||(_.restoreHistory(ee),this.cancelNavigationTransition(ee,"",3),!1)),Dt(ee=>{if(ee.guards.canActivateChecks.length)return(0,M.of)(ee).pipe((0,Mt.b)(Ne=>{const mt=new ns(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(mt)}),(0,Nt.w)(Ne=>{let mt=!1;return(0,M.of)(Ne).pipe(function Ft(D,T){return(0,st.z)(_=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=_;if(!B.length)return(0,M.of)(_);let q=0;return(0,F.D)(B).pipe(dt(ee=>function jt(D,T,_,R){const B=D.routeConfig,q=D._resolve;return void 0!==B?.title&&!gr(B)&&(q[rr]=B.title),function Le(D,T,_,R){const B=function Ht(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===B.length)return(0,M.of)({});const q={};return(0,F.D)(B).pipe((0,st.z)(ee=>function Sn(D,T,_,R){const B=mi(T)??R,q=zi(D,B);return pn(q.resolve?q.resolve(T,_):B.runInContext(()=>q(T,_)))}(D[ee],T,_,R).pipe((0,St.P)(),(0,Mt.b)(Ne=>{q[ee]=Ne}))),Zt(1),function Hn(D){return(0,Lt.U)(()=>D)}(q),Et(ee=>as(ee)?Se.E:ut(ee)))}(q,D,T,R).pipe((0,Lt.U)(ee=>(D._resolvedData=ee,D.data=mo(D,_).resolve,B&&gr(B)&&(D.data[rr]=B.title),null)))}(ee.route,R,D,T)),(0,Mt.b)(()=>q++),Zt(1),(0,st.z)(ee=>q===B.length?(0,M.of)(_):Se.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Mt.b)({next:()=>mt=!0,complete:()=>{mt||(_.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",2))}}))}),(0,Mt.b)(Ne=>{const mt=new po(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(mt)}))}),Dt(ee=>{const Ne=mt=>{const Wt=[];mt.routeConfig?.loadComponent&&!mt.routeConfig._loadedComponent&&Wt.push(this.configLoader.loadComponent(mt.routeConfig).pipe((0,Mt.b)(tn=>{mt.component=tn}),(0,Lt.U)(()=>{})));for(const tn of mt.children)Wt.push(...Ne(tn));return Wt};return wt(Ne(ee.targetSnapshot.root)).pipe((0,kt.d)(),(0,We.q)(1))}),Dt(()=>this.afterPreactivation()),(0,Lt.U)(ee=>{const Ne=function qi(D,T,_){const R=xi(D,T._root,_?_._root:void 0);return new go(R,T)}(_.routeReuseStrategy,ee.targetSnapshot,ee.currentRouterState);return R={...ee,targetRouterState:Ne}}),(0,Mt.b)(ee=>{_.currentUrlTree=ee.urlAfterRedirects,_.rawUrlTree=_.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl),_.routerState=ee.targetRouterState,"deferred"===_.urlUpdateStrategy&&(ee.extras.skipLocationChange||_.setBrowserUrl(_.rawUrlTree,ee),_.browserUrlTree=ee.urlAfterRedirects)}),((D,T,_)=>(0,Lt.U)(R=>(new to(T,R.targetRouterState,R.currentRouterState,_).activate(D),R)))(this.rootContexts,_.routeReuseStrategy,ee=>this.events.next(ee)),(0,We.q)(1),(0,Mt.b)({next:ee=>{B=!0,this.lastSuccessfulNavigation=this.currentNavigation,_.navigated=!0,this.events.next(new jn(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(_.currentUrlTree))),_.titleStrategy?.updateTitle(ee.targetRouterState.snapshot),ee.resolve(!0)},complete:()=>{B=!0}}),yr(()=>{B||q||this.cancelNavigationTransition(R,"",1),this.currentNavigation?.id===R.id&&(this.currentNavigation=null)}),Et(ee=>{if(q=!0,$i(ee)){ra(ee)||(_.navigated=!0,_.restoreHistory(R,!0));const Ne=new ni(R.id,this.urlSerializer.serialize(R.extractedUrl),ee.message,ee.cancellationCode);if(this.events.next(Ne),ra(ee)){const mt=_.urlHandlingStrategy.merge(ee.url,_.rawUrlTree),Wt={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===_.urlUpdateStrategy||Ks(R.source)};_.scheduleNavigation(mt,hn,null,Wt,{resolve:R.resolve,reject:R.reject,promise:R.promise})}else R.resolve(!1)}else{_.restoreHistory(R,!0);const Ne=new Qr(R.id,this.urlSerializer.serialize(R.extractedUrl),ee,R.targetSnapshot??void 0);this.events.next(Ne);try{R.resolve(_.errorHandler(ee))}catch(mt){R.reject(mt)}}return Se.E}))}))}cancelNavigationTransition(_,R,B){const q=new ni(_.id,this.urlSerializer.serialize(_.extractedUrl),R,B);this.events.next(q),_.resolve(!1)}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ks(D){return D!==hn}let Ba=(()=>{class D{buildTitle(_){let R,B=_.root;for(;void 0!==B;)R=this.getResolvedTitleForRoute(B)??R,B=B.children.find(q=>q.outlet===zt);return R}getResolvedTitleForRoute(_){return _.data[rr]}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:function(){return(0,I.f3M)(Ji)},providedIn:"root"}),D})(),Ji=(()=>{class D extends Ba{constructor(_){super(),this.title=_}updateTitle(_){const R=this.buildTitle(_);void 0!==R&&this.title.setTitle(R)}}return D.\u0275fac=function(_){return new(_||D)(I.LFG(_n.Dx))},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),ga=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:function(){return(0,I.f3M)(ao)},providedIn:"root"}),D})();class Va{shouldDetach(T){return!1}store(T,_){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,_){return T.routeConfig===_.routeConfig}}let ao=(()=>{class D extends Va{}return D.\u0275fac=function(){let T;return function(R){return(T||(T=I.n5z(D)))(R||D)}}(),D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const sn=new I.OlP("",{providedIn:"root",factory:()=>({})});let Ln=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:function(){return(0,I.f3M)(Er)},providedIn:"root"}),D})(),Er=(()=>{class D{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,R){return _}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ni(D){throw D}function ls(D,T,_){return T.parse("/")}const Pr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,I.f3M)(I.c2e),this.isNgZoneEnabled=!1,this.options=(0,I.f3M)(sn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ni,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ls,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,I.f3M)(Ln),this.routeReuseStrategy=(0,I.f3M)(ga),this.urlCreationStrategy=(0,I.f3M)(Fi),this.titleStrategy=(0,I.f3M)(Ba),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=cr((0,I.f3M)(Mr,{optional:!0})??[]),this.navigationTransitions=(0,I.f3M)(us),this.urlSerializer=(0,I.f3M)(Tn),this.location=(0,I.f3M)(bt.Ye),this.isNgZoneEnabled=(0,I.f3M)(I.R0b)instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ta(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId??0},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hn,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const R="popstate"===_.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,R,_.state)},0)}))}navigateToSyncWithBrowser(_,R,B){const q={replaceUrl:!0},ee=B?.navigationId?B:null;if(B){const mt={...B};delete mt.navigationId,delete mt.\u0275routerPageId,0!==Object.keys(mt).length&&(q.state=mt)}const Ne=this.parseUrl(_);this.scheduleNavigation(Ne,R,ee,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(_){this.config=_.map(Hs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,R={}){const{relativeTo:B,queryParams:q,fragment:ee,queryParamsHandling:Ne,preserveFragment:mt}=R,Wt=mt?this.currentUrlTree.fragment:ee;let tn=null;switch(Ne){case"merge":tn={...this.currentUrlTree.queryParams,...q};break;case"preserve":tn=this.currentUrlTree.queryParams;break;default:tn=q||null}return null!==tn&&(tn=this.removeEmptyProps(tn)),this.urlCreationStrategy.createUrlTree(B,this.routerState,this.currentUrlTree,_,tn,Wt??null)}navigateByUrl(_,R={skipLocationChange:!1}){const B=dn(_)?_:this.parseUrl(_),q=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(q,hn,null,R)}navigate(_,R={skipLocationChange:!1}){return function Pn(D){for(let T=0;T<D.length;T++){const _=D[T];if(null==_)throw new I.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,R),R)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let R;try{R=this.urlSerializer.parse(_)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,_)}return R}isActive(_,R){let B;if(B=!0===R?{...Pr}:!1===R?{...xt}:R,dn(_))return Ar(this.currentUrlTree,_,B);const q=this.parseUrl(_);return Ar(this.currentUrlTree,q,B)}removeEmptyProps(_){return Object.keys(_).reduce((R,B)=>{const q=_[B];return null!=q&&(R[B]=q),R},{})}scheduleNavigation(_,R,B,q,ee){if(this.disposed)return Promise.resolve(!1);let Ne,mt,Wt,tn;return ee?(Ne=ee.resolve,mt=ee.reject,Wt=ee.promise):Wt=new Promise((Nr,ai)=>{Ne=Nr,mt=ai}),tn="computed"===this.canceledNavigationResolution?B&&B.\u0275routerPageId?B.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:tn,source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:q,resolve:Ne,reject:mt,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Nr=>Promise.reject(Nr))}setBrowserUrl(_,R){const B=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl){const ee={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(B,"",ee)}else{const q={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.go(B,"",q)}}restoreHistory(_,R=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-(this.browserPageId??this.currentPageId);0!==q?this.location.historyGo(q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,R){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:R}:{navigationId:_}}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),_i=(()=>{class D{constructor(_,R,B,q,ee,Ne){this.router=_,this.route=R,this.tabIndexAttribute=B,this.renderer=q,this.el=ee,this.locationStrategy=Ne,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ae.x;const mt=ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===mt||"area"===mt,this.isAnchorElement?this.subscription=_.events.subscribe(Wt=>{Wt instanceof jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,I.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,I.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,I.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,R,B,q,ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||R||B||q||ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,I.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,R){const B=this.renderer,q=this.el.nativeElement;null!==R?B.setAttribute(q,_,R):B.removeAttribute(q,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(_){return new(_||D)(I.Y36(li),I.Y36(fs),I.$8M("tabindex"),I.Y36(I.Qsj),I.Y36(I.SBq),I.Y36(bt.S$))},D.\u0275dir=I.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,R){1&_&&I.NdJ("click",function(q){return R.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&_&&I.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[I.TTD]}),D})();class ks{}let Da=(()=>{class D{constructor(_,R,B,q,ee){this.router=_,this.injector=B,this.preloadingStrategy=q,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(_=>_ instanceof jn),dt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,R){const B=[];for(const q of R){q.providers&&!q._injector&&(q._injector=(0,I.MMx)(q.providers,_,`Route: ${q.path}`));const ee=q._injector??_,Ne=q._loadedInjector??ee;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&B.push(this.preloadConfig(ee,q)),(q.children||q._loadedRoutes)&&B.push(this.processRoutes(Ne,q.children??q._loadedRoutes))}return(0,F.D)(B).pipe((0,Fn.J)())}preloadConfig(_,R){return this.preloadingStrategy.preload(R,()=>{let B;B=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(_,R):(0,M.of)(null);const q=B.pipe((0,st.z)(ee=>null===ee?(0,M.of)(void 0):(R._loadedRoutes=ee.routes,R._loadedInjector=ee.injector,this.processRoutes(ee.injector??_,ee.routes))));if(R.loadComponent&&!R._loadedComponent){const ee=this.loader.loadComponent(R);return(0,F.D)([q,ee]).pipe((0,Fn.J)())}return q})}}return D.\u0275fac=function(_){return new(_||D)(I.LFG(li),I.LFG(I.Sil),I.LFG(I.lqb),I.LFG(ks),I.LFG(Pt))},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const $a=new I.OlP("");let Ta=(()=>{class D{constructor(_,R,B,q,ee={}){this.urlSerializer=_,this.transitions=R,this.viewportScroller=B,this.zone=q,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration=ee.scrollPositionRestoration||"disabled",ee.anchorScrolling=ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof jn&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof gi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return D.\u0275fac=function(_){I.$Z()},D.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac}),D})();var ki=(()=>((ki=ki||{})[ki.COMPLETE=0]="COMPLETE",ki[ki.FAILED=1]="FAILED",ki[ki.REDIRECTING=2]="REDIRECTING",ki))();const Ao=!1;function Vo(D,T){return{\u0275kind:D,\u0275providers:T}}const Yo=new I.OlP("",{providedIn:"root",factory:()=>!1});function Aa(){const D=(0,I.f3M)(I.zs3);return T=>{const _=D.get(I.z2F);if(T!==_.components[0])return;const R=D.get(li),B=D.get(uo);1===D.get(Bu)&&R.initialNavigation(),D.get(xa,null,I.XFs.Optional)?.setUpPreloading(),D.get($a,null,I.XFs.Optional)?.init(),R.resetRootComponentType(_.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const uo=new I.OlP(Ao?"bootstrap done indicator":"",{factory:()=>new ae.x}),Bu=new I.OlP(Ao?"initial navigation":"",{providedIn:"root",factory:()=>1});function fc(){let D=[];return D=Ao?[{provide:I.Xts,multi:!0,useFactory:()=>{const T=(0,I.f3M)(li);return()=>T.events.subscribe(_=>{console.group?.(`Router Event: ${_.constructor.name}`),console.log(function is(D){if(!("type"in D))return`Unknown Router Event: ${D.constructor.name}`;switch(D.type){case 14:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 2:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case 16:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case 1:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case 0:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case 6:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 5:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 10:return`RouteConfigLoadEnd(path: ${D.route.path})`;case 9:return`RouteConfigLoadStart(path: ${D.route.path})`;case 4:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 15:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}(_)),console.log(_),console.groupEnd?.()})}}]:[],Vo(1,D)}const xa=new I.OlP(Ao?"router preloader":"");function va(D){return Vo(0,[{provide:xa,useExisting:Da},{provide:ks,useExisting:D}])}const Ci=!1,wa=new I.OlP(Ci?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ls=[bt.Ye,{provide:Tn,useClass:xr},li,Ss,{provide:fs,useFactory:function ja(D){return D.routerState.root},deps:[li]},Pt,Ci?{provide:Yo,useValue:!0}:[]];function ci(){return new I.PXZ("Router",li)}let Eu=(()=>{class D{constructor(_){}static forRoot(_,R){return{ngModule:D,providers:[Ls,Ci&&R?.enableTracing?fc().\u0275providers:[],{provide:Mr,multi:!0,useValue:_},{provide:wa,useFactory:Pa,deps:[[li,new I.FiY,new I.tp0]]},{provide:sn,useValue:R||{}},R?.useHash?{provide:bt.S$,useClass:bt.Do}:{provide:bt.S$,useClass:bt.b0},{provide:$a,useFactory:()=>{const D=(0,I.f3M)(bt.EM),T=(0,I.f3M)(I.R0b),_=(0,I.f3M)(sn),R=(0,I.f3M)(us),B=(0,I.f3M)(Tn);return _.scrollOffset&&D.setOffset(_.scrollOffset),new Ta(B,R,D,T,_)}},R?.preloadingStrategy?va(R.preloadingStrategy).\u0275providers:[],{provide:I.PXZ,multi:!0,useFactory:ci},R?.initialNavigation?Ha(R):[],[{provide:bu,useFactory:Aa},{provide:I.tb,multi:!0,useExisting:bu}]]}}static forChild(_){return{ngModule:D,providers:[{provide:Mr,multi:!0,useValue:_}]}}}return D.\u0275fac=function(_){return new(_||D)(I.LFG(wa,8))},D.\u0275mod=I.oAB({type:D}),D.\u0275inj=I.cJS({imports:[ps]}),D})();function Pa(D){if(Ci&&D)throw new I.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ha(D){return["disabled"===D.initialNavigation?Vo(3,[{provide:I.ip1,multi:!0,useFactory:()=>{const T=(0,I.f3M)(li);return()=>{T.setUpLocationChangeListener()}}},{provide:Bu,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Vo(2,[{provide:Bu,useValue:0},{provide:I.ip1,multi:!0,deps:[I.zs3],useFactory:T=>{const _=T.get(bt.V_,Promise.resolve());return()=>_.then(()=>new Promise(R=>{const B=T.get(li),q=T.get(uo);(function Sa(D,T){D.events.pipe((0,it.h)(_=>_ instanceof jn||_ instanceof ni||_ instanceof Qr||_ instanceof wr),(0,Lt.U)(_=>_ instanceof jn||_ instanceof wr?ki.COMPLETE:_ instanceof ni&&(0===_.code||1===_.code)?ki.REDIRECTING:ki.FAILED),(0,it.h)(_=>_!==ki.REDIRECTING),(0,We.q)(1)).subscribe(()=>{T()})})(B,()=>{R(!0)}),T.get(us).afterPreactivation=()=>(R(!0),q.closed?(0,M.of)(void 0):q),B.initialNavigation()}))}}]).\u0275providers:[]]}const bu=new I.OlP(Ci?"Router Initializer":"")},3942:(Jt,Me,j)=>{"use strict";j.d(Me,{Z:()=>wt});var I=j(2090),F=j(4859),M=j(6881),ae=j(1877);class fe{constructor(Ve,at){this._delegate=Ve,this.firebase=at,(0,M._addComponent)(Ve,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(Ve,at=M._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(Ve);return!yt.isInitialized()&&"EXPLICIT"===(null===(He=yt.getComponent())||void 0===He?void 0:He.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:at})}_removeServiceInstance(Ve,at=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(at)}_addComponent(Ve){(0,M._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,M._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function ke(){const Tt=function de(Tt){const Ve={},at={__esModule:!0,initializeApp:function Ye(pt,Ue={}){const It=M.initializeApp(pt,Ue);if((0,I.r3)(Ve,It.name))return Ve[It.name];const an=new Tt(It,at);return Ve[It.name]=an,an},app:yt,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function ut(pt){const Ue=pt.name,It=Ue.replace("-compat","");if(M._registerComponent(pt)&&"PUBLIC"===pt.type){const an=(bt=yt())=>{if("function"!=typeof bt[It])throw Ie.create("invalid-app-argument",{appName:Ue});return bt[It]()};void 0!==pt.serviceProps&&(0,I.ZB)(an,pt.serviceProps),at[It]=an,Tt.prototype[It]=function(...bt){return this._getService.bind(this,Ue).apply(this,pt.multipleInstances?bt:[])}}return"PUBLIC"===pt.type?at[It]:null},removeApp:function He(pt){delete Ve[pt]},useAsService:function Se(pt,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:M}};function yt(pt){if(!(0,I.r3)(Ve,pt=pt||M._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:pt});return Ve[pt]}return at.default=at,Object.defineProperty(at,"apps",{get:function Je(){return Object.keys(Ve).map(pt=>Ve[pt])}}),yt.App=Tt,at}(fe);return Tt.INTERNAL=Object.assign(Object.assign({},Tt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Ve(at){(0,I.ZB)(Tt,at)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Tt}(),he=new ae.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const wt=ie;!function Qe(Tt){(0,M.registerVersion)("@firebase/app-compat","0.2.9",Tt)}()},6881:(Jt,Me,j)=>{"use strict";j.r(Me),j.d(Me,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>qn,_DEFAULT_ENTRY_NAME:()=>Lr,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Ct,_apps:()=>un,_clearComponents:()=>Fr,_components:()=>pn,_getProvider:()=>Ar,_registerComponent:()=>dr,_removeServiceInstance:()=>ur,deleteApp:()=>Xn,getApp:()=>cn,getApps:()=>yn,initializeApp:()=>fn,onLog:()=>Tn,registerVersion:()=>$n,setLogLevel:()=>xr});var I=j(5861),F=j(4859),M=j(1877),ae=j(2090);const fe=(Be,Ae)=>Ae.some(vt=>Be instanceof vt);let Ce,Ie;const ie=new WeakMap,he=new WeakMap,Ee=new WeakMap,Xe=new WeakMap,Qe=new WeakMap;let Ve={get(Be,Ae,vt){if(Be instanceof IDBTransaction){if("done"===Ae)return he.get(Be);if("objectStoreNames"===Ae)return Be.objectStoreNames||Ee.get(Be);if("store"===Ae)return vt.objectStoreNames[1]?void 0:vt.objectStore(vt.objectStoreNames[0])}return Ye(Be[Ae])},set:(Be,Ae,vt)=>(Be[Ae]=vt,!0),has:(Be,Ae)=>Be instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in Be};function yt(Be){return"function"==typeof Be?function He(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...Ae){return Be.apply(Je(this),Ae),Ye(ie.get(this))}:function(...Ae){return Ye(Be.apply(Je(this),Ae))}:function(Ae,...vt){const Qt=Be.call(Je(this),Ae,...vt);return Ee.set(Qt,Ae.sort?Ae.sort():[Ae]),Ye(Qt)}}(Be):(Be instanceof IDBTransaction&&function Tt(Be){if(he.has(Be))return;const Ae=new Promise((vt,Qt)=>{const dn=()=>{Be.removeEventListener("complete",Oe),Be.removeEventListener("error",G),Be.removeEventListener("abort",G)},Oe=()=>{vt(),dn()},G=()=>{Qt(Be.error||new DOMException("AbortError","AbortError")),dn()};Be.addEventListener("complete",Oe),Be.addEventListener("error",G),Be.addEventListener("abort",G)});he.set(Be,Ae)}(Be),fe(Be,function de(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,Ve):Be)}function Ye(Be){if(Be instanceof IDBRequest)return function wt(Be){const Ae=new Promise((vt,Qt)=>{const dn=()=>{Be.removeEventListener("success",Oe),Be.removeEventListener("error",G)},Oe=()=>{vt(Ye(Be.result)),dn()},G=()=>{Qt(Be.error),dn()};Be.addEventListener("success",Oe),Be.addEventListener("error",G)});return Ae.then(vt=>{vt instanceof IDBCursor&&ie.set(vt,Be)}).catch(()=>{}),Qe.set(Ae,Be),Ae}(Be);if(Xe.has(Be))return Xe.get(Be);const Ae=yt(Be);return Ae!==Be&&(Xe.set(Be,Ae),Qe.set(Ae,Be)),Ae}const Je=Be=>Qe.get(Be),pt=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],It=new Map;function an(Be,Ae){if(!(Be instanceof IDBDatabase)||Ae in Be||"string"!=typeof Ae)return;if(It.get(Ae))return It.get(Ae);const vt=Ae.replace(/FromIndex$/,""),Qt=Ae!==vt,dn=Ue.includes(vt);if(!(vt in(Qt?IDBIndex:IDBObjectStore).prototype)||!dn&&!pt.includes(vt))return;const Oe=function(){var G=(0,I.Z)(function*(ne,...De){const nt=this.transaction(ne,dn?"readwrite":"readonly");let $t=nt.store;return Qt&&($t=$t.index(De.shift())),(yield Promise.all([$t[vt](...De),dn&&nt.done]))[0]});return function(De){return G.apply(this,arguments)}}();return It.set(Ae,Oe),Oe}!function at(Be){Ve=Be(Ve)}(Be=>({...Be,get:(Ae,vt,Qt)=>an(Ae,vt)||Be.get(Ae,vt,Qt),has:(Ae,vt)=>!!an(Ae,vt)||Be.has(Ae,vt)}));class bt{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function Lt(Be){return"VERSION"===Be.getComponent()?.type}(vt)){const Qt=vt.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(vt=>vt).join(" ")}}const Nt="@firebase/app",Ge=new M.Yd("@firebase/app"),Lr="[DEFAULT]",Vr={[Nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,pn=new Map;function Gt(Be,Ae){try{Be.container.addComponent(Ae)}catch(vt){Ge.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Be.name}`,vt)}}function Ct(Be,Ae){Be.container.addOrOverwriteComponent(Ae)}function dr(Be){const Ae=Be.name;if(pn.has(Ae))return Ge.debug(`There were multiple attempts to register component ${Ae}.`),!1;pn.set(Ae,Be);for(const vt of un.values())Gt(vt,Be);return!0}function Ar(Be,Ae){const vt=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),Be.container.getProvider(Ae)}function ur(Be,Ae,vt=Lr){Ar(Be,Ae).clearInstance(vt)}function Fr(){pn.clear()}const hr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(Ae,vt,Qt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const qn="9.21.0";function fn(Be,Ae={}){let vt=Be;"object"!=typeof Ae&&(Ae={name:Ae});const Qt=Object.assign({name:Lr,automaticDataCollectionEnabled:!1},Ae),dn=Qt.name;if("string"!=typeof dn||!dn)throw hr.create("bad-app-name",{appName:String(dn)});if(vt||(vt=(0,ae.aH)()),!vt)throw hr.create("no-options");const Oe=un.get(dn);if(Oe){if((0,ae.vZ)(vt,Oe.options)&&(0,ae.vZ)(Qt,Oe.config))return Oe;throw hr.create("duplicate-app",{appName:dn})}const G=new F.H0(dn);for(const De of pn.values())G.addComponent(De);const ne=new An(vt,Qt,G);return un.set(dn,ne),ne}function cn(Be=Lr){const Ae=un.get(Be);if(!Ae&&Be===Lr)return fn();if(!Ae)throw hr.create("no-app",{appName:Be});return Ae}function yn(){return Array.from(un.values())}function Xn(Be){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,I.Z)(function*(Be){const Ae=Be.name;un.has(Ae)&&(un.delete(Ae),yield Promise.all(Be.container.getProviders().map(vt=>vt.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function $n(Be,Ae,vt){var Qt;let dn=null!==(Qt=Vr[Be])&&void 0!==Qt?Qt:Be;vt&&(dn+=`-${vt}`);const Oe=dn.match(/\s|\//),G=Ae.match(/\s|\//);if(Oe||G){const ne=[`Unable to register library "${dn}" with version "${Ae}":`];return Oe&&ne.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),Oe&&G&&ne.push("and"),G&&ne.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void Ge.warn(ne.join(" "))}dr(new F.wA(`${dn}-version`,()=>({library:dn,version:Ae}),"VERSION"))}function Tn(Be,Ae){if(null!==Be&&"function"!=typeof Be)throw hr.create("invalid-log-argument");(0,M.Am)(Be,Ae)}function xr(Be){(0,M.Ub)(Be)}const fr="firebase-heartbeat-database",kr=1,pe="firebase-heartbeat-store";let ce=null;function Q(){return ce||(ce=function ut(Be,Ae,{blocked:vt,upgrade:Qt,blocking:dn,terminated:Oe}={}){const G=indexedDB.open(Be,Ae),ne=Ye(G);return Qt&&G.addEventListener("upgradeneeded",De=>{Qt(Ye(G.result),De.oldVersion,De.newVersion,Ye(G.transaction),De)}),vt&&G.addEventListener("blocked",De=>vt(De.oldVersion,De.newVersion,De)),ne.then(De=>{Oe&&De.addEventListener("close",()=>Oe()),dn&&De.addEventListener("versionchange",nt=>dn(nt.oldVersion,nt.newVersion,nt))}).catch(()=>{}),ne}(fr,kr,{upgrade:(Be,Ae)=>{0===Ae&&Be.createObjectStore(pe)}}).catch(Be=>{throw hr.create("idb-open",{originalErrorMessage:Be.message})})),ce}function Z(){return(Z=(0,I.Z)(function*(Be){try{return(yield Q()).transaction(pe).objectStore(pe).get(ue(Be))}catch(Ae){if(Ae instanceof ae.ZR)Ge.warn(Ae.message);else{const vt=hr.create("idb-get",{originalErrorMessage:Ae?.message});Ge.warn(vt.message)}}})).apply(this,arguments)}function _e(Be,Ae){return se.apply(this,arguments)}function se(){return(se=(0,I.Z)(function*(Be,Ae){try{const Qt=(yield Q()).transaction(pe,"readwrite");return yield Qt.objectStore(pe).put(Ae,ue(Be)),Qt.done}catch(vt){if(vt instanceof ae.ZR)Ge.warn(vt.message);else{const Qt=hr.create("idb-set",{originalErrorMessage:vt?.message});Ge.warn(Qt.message)}}})).apply(this,arguments)}function ue(Be){return`${Be.name}!${Be.options.appId}`}class Ke{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new ot(vt),this._heartbeatsCachePromise=this._storage.read().then(Qt=>(this._heartbeatsCache=Qt,Qt))}triggerHeartbeat(){var Ae=this;return(0,I.Z)(function*(){const Qt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=lt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==dn&&!Ae._heartbeatsCache.heartbeats.some(Oe=>Oe.date===dn))return Ae._heartbeatsCache.heartbeats.push({date:dn,agent:Qt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Oe=>{const G=new Date(Oe.date).valueOf();return Date.now()-G<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,I.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const vt=lt(),{heartbeatsToSend:Qt,unsentEntries:dn}=function nn(Be,Ae=1024){const vt=[];let Qt=Be.slice();for(const dn of Be){const Oe=vt.find(G=>G.agent===dn.agent);if(Oe){if(Oe.dates.push(dn.date),gt(vt)>Ae){Oe.dates.pop();break}}else if(vt.push({agent:dn.agent,dates:[dn.date]}),gt(vt)>Ae){vt.pop();break}Qt=Qt.slice(1)}return{heartbeatsToSend:vt,unsentEntries:Qt}}(Ae._heartbeatsCache.heartbeats),Oe=(0,ae.L)(JSON.stringify({version:2,heartbeats:Qt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=vt,dn.length>0?(Ae._heartbeatsCache.heartbeats=dn,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Oe})()}}function lt(){return(new Date).toISOString().substring(0,10)}class ot{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,I.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function te(Be){return Z.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var vt=this;return(0,I.Z)(function*(){var Qt;if(yield vt._canUseIndexedDBPromise){const Oe=yield vt.read();return _e(vt.app,{lastSentHeartbeatDate:null!==(Qt=Ae.lastSentHeartbeatDate)&&void 0!==Qt?Qt:Oe.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var vt=this;return(0,I.Z)(function*(){var Qt;if(yield vt._canUseIndexedDBPromise){const Oe=yield vt.read();return _e(vt.app,{lastSentHeartbeatDate:null!==(Qt=Ae.lastSentHeartbeatDate)&&void 0!==Qt?Qt:Oe.lastSentHeartbeatDate,heartbeats:[...Oe.heartbeats,...Ae.heartbeats]})}})()}}function gt(Be){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function rn(Be){dr(new F.wA("platform-logger",Ae=>new bt(Ae),"PRIVATE")),dr(new F.wA("heartbeat",Ae=>new Ke(Ae),"PRIVATE")),$n(Nt,"0.9.9",Be),$n(Nt,"0.9.9","esm2017"),$n("fire-js","")}("")},4859:(Jt,Me,j)=>{"use strict";j.d(Me,{H0:()=>de,wA:()=>M});var I=j(5861),F=j(2090);class M{constructor(ie,he,Ee){this.name=ie,this.instanceFactory=he,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const ae="[DEFAULT]";class fe{constructor(ie,he){this.name=ie,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const he=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(he)){const Ee=new F.BH;if(this.instancesDeferred.set(he,Ee),this.isInitialized(he)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:he});Xe&&Ee.resolve(Xe)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(ie){var he;const Ee=this.normalizeInstanceIdentifier(ie?.identifier),Xe=null!==(he=ie?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Qe){if(Xe)return null;throw Qe}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Ie(ke){return"EAGER"===ke.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[he,Ee]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(he);try{const Qe=this.getOrInitializeService({instanceIdentifier:Xe});Ee.resolve(Qe)}catch{}}}}clearInstance(ie=ae){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,I.Z)(function*(){const he=Array.from(ie.instances.values());yield Promise.all([...he.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...he.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=ae){return this.instances.has(ie)}getOptions(ie=ae){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:he={}}=ie,Ee=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ee,options:he});for(const[Qe,wt]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Qe)&&wt.resolve(Xe);return Xe}onInit(ie,he){var Ee;const Xe=this.normalizeInstanceIdentifier(he),Qe=null!==(Ee=this.onInitCallbacks.get(Xe))&&void 0!==Ee?Ee:new Set;Qe.add(ie),this.onInitCallbacks.set(Xe,Qe);const wt=this.instances.get(Xe);return wt&&ie(wt,Xe),()=>{Qe.delete(ie)}}invokeOnInitCallbacks(ie,he){const Ee=this.onInitCallbacks.get(he);if(Ee)for(const Xe of Ee)try{Xe(ie,he)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:he={}}){let Ee=this.instances.get(ie);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=ie,ke===ae?void 0:ke),options:he}),this.instances.set(ie,Ee),this.instancesOptions.set(ie,he),this.invokeOnInitCallbacks(Ee,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Ee)}catch{}var ke;return Ee||null}normalizeInstanceIdentifier(ie=ae){return this.component?this.component.multipleInstances?ie:ae:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const he=this.getProvider(ie.name);if(he.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);he.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const he=new fe(ie,this);return this.providers.set(ie,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,Me,j)=>{"use strict";j.d(Me,{Am:()=>ke,Ub:()=>de,Yd:()=>Ie,in:()=>F});const I=[];var F=(()=>{return(ie=F||(F={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",F;var ie})();const M={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ae=F.INFO,fe={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ce=(ie,he,...Ee)=>{if(he<ie.logLevel)return;const Xe=(new Date).toISOString(),Qe=fe[he];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Qe](`[${Xe}]  ${ie.name}:`,...Ee)};class Ie{constructor(he){this.name=he,this._logLevel=ae,this._logHandler=Ce,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in F))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?M[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...he),this._logHandler(this,F.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...he),this._logHandler(this,F.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,F.INFO,...he),this._logHandler(this,F.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,F.WARN,...he),this._logHandler(this,F.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...he),this._logHandler(this,F.ERROR,...he)}}function de(ie){I.forEach(he=>{he.setLogLevel(ie)})}function ke(ie,he){for(const Ee of I){let Xe=null;he&&he.level&&(Xe=M[he.level]),Ee.userLogHandler=null===ie?null:(Qe,wt,...Tt)=>{const Ve=Tt.map(at=>{if(null==at)return null;if("string"==typeof at)return at;if("number"==typeof at||"boolean"==typeof at)return at.toString();if(at instanceof Error)return at.message;try{return JSON.stringify(at)}catch{return null}}).filter(at=>at).join(" ");wt>=(Xe??Qe.logLevel)&&ie({level:F[wt].toLowerCase(),message:Ve,args:Tt,type:Qe.name})}}}},259:(Jt,Me,j)=>{"use strict";j.d(Me,{C6:()=>I.getApps,KN:()=>I.registerVersion,Mq:()=>I.getApp,ZF:()=>I.initializeApp});var I=j(6881);(0,I.registerVersion)("firebase","9.21.0","app")},4322:(Jt,Me,j)=>{"use strict";j.d(Me,{hJ:()=>I.V,v0:()=>I.o});var I=j(8502);j(2090),j(6881),j(1877),j(4859)},9260:(Jt,Me,j)=>{"use strict";j.d(Me,{Z:()=>I.Z});var I=j(3942);I.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(Jt,Me,j)=>{"use strict";j.r(Me);var I=j(5861),F=j(3942),M=j(8502),ae=j(2090),Ie=(j(6881),j(1877),j(4859));function de(){return window}const ke=2e3;function he(){return he=(0,I.Z)(function*(Q,te,Z){var _e;const{BuildInfo:se}=de();(0,M.as)(te.sessionId,"AuthEvent did not contain a session ID");const ue=yield function at(Q){return He.apply(this,arguments)}(te.sessionId),re={};return(0,M.at)()?re.ibi=se.packageName:(0,M.au)()?re.apn=se.packageName:(0,M.av)(Q,"operation-not-supported-in-this-environment"),se.displayName&&(re.appDisplayName=se.displayName),re.sessionId=ue,(0,M.aw)(Q,Z,te.type,void 0,null!==(_e=te.eventId)&&void 0!==_e?_e:void 0,re)}),he.apply(this,arguments)}function Xe(){return(Xe=(0,I.Z)(function*(Q){const{BuildInfo:te}=de(),Z={};(0,M.at)()?Z.iosBundleId=te.packageName:(0,M.au)()?Z.androidPackageName=te.packageName:(0,M.av)(Q,"operation-not-supported-in-this-environment"),yield(0,M.ax)(Q,Z)})).apply(this,arguments)}function Tt(){return(Tt=(0,I.Z)(function*(Q,te,Z){const{cordova:_e}=de();let se=()=>{};try{yield new Promise((ue,re)=>{let Te=null;function Ke(){var ot;ue();const gt=null===(ot=_e.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof gt&&gt(),"function"==typeof Z?.close&&Z.close()}function lt(){Te||(Te=window.setTimeout(()=>{re((0,M.az)(Q,"redirect-cancelled-by-user"))},ke))}function nn(){"visible"===document?.visibilityState&&lt()}te.addPassiveListener(Ke),document.addEventListener("resume",lt,!1),(0,M.au)()&&document.addEventListener("visibilitychange",nn,!1),se=()=>{te.removePassiveListener(Ke),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",nn,!1),Te&&window.clearTimeout(Te)}})}finally{se()}})).apply(this,arguments)}function He(){return(He=(0,I.Z)(function*(Q){const te=function yt(Q){if((0,M.as)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const te=new ArrayBuffer(Q.length),Z=new Uint8Array(te);for(let _e=0;_e<Q.length;_e++)Z[_e]=Q.charCodeAt(_e);return Z}(Q),Z=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(Z)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ye=20;class Je extends M.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(Z=>Z(te)),super.onEvent(te)}initialized(){var te=this;return(0,I.Z)(function*(){yield te.initPromise})()}}function pt(Q){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,I.Z)(function*(Q){const te=yield bt()._get(Lt(Q));return te&&(yield bt()._remove(Lt(Q))),te})).apply(this,arguments)}function an(){const Q=[],te="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<Ye;Z++){const _e=Math.floor(Math.random()*te.length);Q.push(te.charAt(_e))}return Q.join("")}function bt(){return(0,M.aC)(M.b)}function Lt(Q){return(0,M.aD)("authEvent",Q.config.apiKey,Q.name)}function Ge(Q){if(!Q?.includes("?"))return{};const[te,...Z]=Q.split("?");return(0,ae.zd)(Z.join("?"))}const St=class st{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aE,this._overrideRedirectResult=M.aF}_initialize(te){var Z=this;return(0,I.Z)(function*(){const _e=te._key();let se=Z.eventManagers.get(_e);return se||(se=new Je(te),Z.eventManagers.set(_e,se),Z.attachCallbackListeners(te,se)),se})()}_openPopup(te){(0,M.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,Z,_e,se){var ue=this;return(0,I.Z)(function*(){!function Ve(Q){var te,Z,_e,se,ue,re,Te,Ke,lt,nn;const ot=de();(0,M.aA)("function"==typeof(null===(te=ot?.universalLinks)||void 0===te?void 0:te.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.aA)(typeof(null===(Z=ot?.BuildInfo)||void 0===Z?void 0:Z.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.aA)("function"==typeof(null===(ue=null===(se=null===(_e=ot?.cordova)||void 0===_e?void 0:_e.plugins)||void 0===se?void 0:se.browsertab)||void 0===ue?void 0:ue.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.aA)("function"==typeof(null===(Ke=null===(Te=null===(re=ot?.cordova)||void 0===re?void 0:re.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Ke?void 0:Ke.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.aA)("function"==typeof(null===(nn=null===(lt=ot?.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===nn?void 0:nn.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const re=yield ue._initialize(te);yield re.initialized(),re.resetRedirect(),(0,M.aG)(),yield ue._originValidation(te);const Te=function ut(Q,te,Z=null){return{type:te,eventId:Z,urlResponse:null,sessionId:an(),postBody:null,tenantId:Q.tenantId,error:(0,M.az)(Q,"no-auth-event")}}(te,_e,se);yield function Se(Q,te){return bt()._set(Lt(Q),te)}(te,Te);const Ke=yield function ie(Q,te,Z){return he.apply(this,arguments)}(te,Te,Z),lt=yield function Qe(Q){const{cordova:te}=de();return new Promise(Z=>{te.plugins.browsertab.isAvailable(_e=>{let se=null;_e?te.plugins.browsertab.openUrl(Q):se=te.InAppBrowser.open(Q,(0,M.ay)()?"_blank":"_system","location=yes"),Z(se)})})}(Ke);return function wt(Q,te,Z){return Tt.apply(this,arguments)}(te,re,lt)})()}_isIframeWebStorageSupported(te,Z){throw new Error("Method not implemented.")}_originValidation(te){const Z=te._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function Ee(Q){return Xe.apply(this,arguments)}(te)),this.originValidationPromises[Z]}attachCallbackListeners(te,Z){const{universalLinks:_e,handleOpenURL:se,BuildInfo:ue}=de(),re=setTimeout((0,I.Z)(function*(){yield pt(te),Z.onEvent(dt())}),500),Te=function(){var nn=(0,I.Z)(function*(ot){clearTimeout(re);const gt=yield pt(te);let rn=null;gt&&ot?.url&&(rn=function It(Q,te){var Z,_e;const se=function We(Q){const te=Ge(Q),Z=te.link?decodeURIComponent(te.link):void 0,_e=Ge(Z).link,se=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return Ge(se).link||se||_e||Z||Q}(te);if(se.includes("/__/auth/callback")){const ue=Ge(se),re=ue.firebaseError?function Nt(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(ue.firebaseError)):null,Te=null===(_e=null===(Z=re?.code)||void 0===Z?void 0:Z.split("auth/"))||void 0===_e?void 0:_e[1],Ke=Te?(0,M.az)(Te):null;return Ke?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:se,postBody:null}}return null}(gt,ot.url)),Z.onEvent(rn||dt())});return function(gt){return nn.apply(this,arguments)}}();typeof _e<"u"&&"function"==typeof _e.subscribe&&_e.subscribe(null,Te);const Ke=se,lt=`${ue.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var nn=(0,I.Z)(function*(ot){if(ot.toLowerCase().startsWith(lt)&&Te({url:ot}),"function"==typeof Ke)try{Ke(ot)}catch(gt){console.error(gt)}});return function(ot){return nn.apply(this,arguments)}}()}};function dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.az)("no-auth-event")}}const Zt=1e3;function Yt(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function Dn(Q=(0,ae.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function _n(){try{const Q=self.localStorage,te=M.aL();if(Q)return Q.setItem(te,"1"),Q.removeItem(te),!function Fn(Q=(0,ae.z$)()){return function Hn(){return(0,ae.w1)()&&11===document?.documentMode}()||function yr(Q=(0,ae.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,ae.hl)()}catch{return zt()&&(0,ae.hl)()}return!1}function zt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rr(){return(function kt(){return"http:"===Yt()||"https:"===Yt()}()||(0,ae.ru)()||Dn())&&!function Vn(){return(0,ae.b$)()||(0,ae.UG)()}()&&_n()&&!zt()}function ir(){return Dn()&&typeof document<"u"}function bn(){return(bn=(0,I.Z)(function*(){return!!ir()&&new Promise(Q=>{const te=setTimeout(()=>{Q(!1)},Zt);document.addEventListener("deviceready",()=>{clearTimeout(te),Q(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},ar=M.aA,cr="persistence";function Vr(Q){return un.apply(this,arguments)}function un(){return(un=(0,I.Z)(function*(Q){yield Q._initializationPromise;const te=Gt(),Z=M.aD(cr,Q.config.apiKey,Q.name);te&&te.setItem(Z,Q._getPersistence())})).apply(this,arguments)}function Gt(){var Q;try{return(null===(Q=function en(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const Ct=M.aA;class dr{constructor(){this.browserResolver=M.aC(M.k),this.cordovaResolver=M.aC(St),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aE,this._overrideRedirectResult=M.aF}_initialize(te){var Z=this;return(0,I.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,Z,_e,se){var ue=this;return(0,I.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(te,Z,_e,se)})()}_openRedirect(te,Z,_e,se){var ue=this;return(0,I.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(te,Z,_e,se)})()}_isIframeWebStorageSupported(te,Z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,Z)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return ir()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,I.Z)(function*(){if(te.underlyingResolver)return;const Z=yield function Kn(){return bn.apply(this,arguments)}();te.underlyingResolver=Z?te.cordovaResolver:te.browserResolver})()}}function Ar(Q){return Q.unwrap()}function Fr(Q){return hr(Q)}function hr(Q){const{_tokenResponse:te}=Q instanceof ae.ZR?Q.customData:Q;if(!te)return null;if(!(Q instanceof ae.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return M.P.credentialFromResult(Q);const Z=te.providerId;if(!Z||Z===M.p.PASSWORD)return null;let _e;switch(Z){case M.p.GOOGLE:_e=M.V;break;case M.p.FACEBOOK:_e=M.U;break;case M.p.GITHUB:_e=M.W;break;case M.p.TWITTER:_e=M.Z;break;default:const{oauthIdToken:se,oauthAccessToken:ue,oauthTokenSecret:re,pendingToken:Te,nonce:Ke}=te;return ue||re||se||Te?Te?Z.startsWith("saml.")?M.aO._create(Z,Te):M.L._fromParams({providerId:Z,signInMethod:Z,pendingToken:Te,idToken:se,accessToken:ue}):new M.X(Z).credential({idToken:se,accessToken:ue,rawNonce:Ke}):null}return Q instanceof ae.ZR?_e.credentialFromError(Q):_e.credentialFromResult(Q)}function An(Q,te){return te.catch(Z=>{throw Z instanceof ae.ZR&&function br(Q,te){var Z;const _e=null===(Z=te.customData)||void 0===Z?void 0:Z._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new cn(Q,M.aq(Q,te));else if(_e){const se=hr(te),ue=te;se&&(ue.credential=se,ue.tenantId=_e.tenantId||void 0,ue.email=_e.email||void 0,ue.phoneNumber=_e.phoneNumber||void 0)}}(Q,Z),Z}).then(Z=>{const se=Z.user;return{operationType:Z.operationType,credential:Fr(Z),additionalUserInfo:M.ao(Z),user:yn.getOrCreate(se)}})}function qn(Q,te){return fn.apply(this,arguments)}function fn(){return(fn=(0,I.Z)(function*(Q,te){const Z=yield te;return{verificationId:Z.verificationId,confirm:_e=>An(Q,Z.confirm(_e))}})).apply(this,arguments)}class cn{constructor(te,Z){this.resolver=Z,this.auth=function ur(Q){return Q.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return An(Ar(this.auth),this.resolver.resolveSignIn(te))}}class yn{constructor(te){this._delegate=te,this.multiFactor=M.ar(te)}static getOrCreate(te){return yn.USER_MAP.has(te)||yn.USER_MAP.set(te,new yn(te)),yn.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var Z=this;return(0,I.Z)(function*(){return An(Z.auth,M.a0(Z._delegate,te))})()}linkWithPhoneNumber(te,Z){var _e=this;return(0,I.Z)(function*(){return qn(_e.auth,M.l(_e._delegate,te,Z))})()}linkWithPopup(te){var Z=this;return(0,I.Z)(function*(){return An(Z.auth,M.d(Z._delegate,te,dr))})()}linkWithRedirect(te){var Z=this;return(0,I.Z)(function*(){return yield Vr(M.aH(Z.auth)),M.g(Z._delegate,te,dr)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var Z=this;return(0,I.Z)(function*(){return An(Z.auth,M.a1(Z._delegate,te))})()}reauthenticateWithPhoneNumber(te,Z){return qn(this.auth,M.r(this._delegate,te,Z))}reauthenticateWithPopup(te){return An(this.auth,M.e(this._delegate,te,dr))}reauthenticateWithRedirect(te){var Z=this;return(0,I.Z)(function*(){return yield Vr(M.aH(Z.auth)),M.h(Z._delegate,te,dr)})()}sendEmailVerification(te){return M.ae(this._delegate,te)}unlink(te){var Z=this;return(0,I.Z)(function*(){return yield M.an(Z._delegate,te),Z})()}updateEmail(te){return M.aj(this._delegate,te)}updatePassword(te){return M.ak(this._delegate,te)}updatePhoneNumber(te){return M.u(this._delegate,te)}updateProfile(te){return M.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,Z){return M.af(this._delegate,te,Z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yn.USER_MAP=new WeakMap;const Xn=M.aA;let Jn=(()=>{class Q{constructor(Z,_e){if(this.app=Z,_e.isInitialized())return this._delegate=_e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=Z.options;Xn(se,"invalid-api-key",{appName:Z.name}),Xn(se,"invalid-api-key",{appName:Z.name});const ue=typeof window<"u"?dr:void 0;this._delegate=_e.initialize({options:{persistence:Tn(se,Z.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(M.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Z){this._delegate.languageCode=Z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Z){this._delegate.tenantId=Z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Z,_e){M.I(this._delegate,Z,_e)}applyActionCode(Z){return M.a5(this._delegate,Z)}checkActionCode(Z){return M.a6(this._delegate,Z)}confirmPasswordReset(Z,_e){return M.a4(this._delegate,Z,_e)}createUserWithEmailAndPassword(Z,_e){var se=this;return(0,I.Z)(function*(){return An(se._delegate,M.a8(se._delegate,Z,_e))})()}fetchProvidersForEmail(Z){return this.fetchSignInMethodsForEmail(Z)}fetchSignInMethodsForEmail(Z){return M.ad(this._delegate,Z)}isSignInWithEmailLink(Z){return M.ab(this._delegate,Z)}getRedirectResult(){var Z=this;return(0,I.Z)(function*(){Xn(rr(),Z._delegate,"operation-not-supported-in-this-environment");const _e=yield M.j(Z._delegate,dr);return _e?An(Z._delegate,Promise.resolve(_e)):{credential:null,user:null}})()}addFrameworkForLogging(Z){!function Mt(Q,te){(0,M.aH)(Q)._logFramework(te)}(this._delegate,Z)}onAuthStateChanged(Z,_e,se){const{next:ue,error:re,complete:Te}=$n(Z,_e,se);return this._delegate.onAuthStateChanged(ue,re,Te)}onIdTokenChanged(Z,_e,se){const{next:ue,error:re,complete:Te}=$n(Z,_e,se);return this._delegate.onIdTokenChanged(ue,re,Te)}sendSignInLinkToEmail(Z,_e){return M.aa(this._delegate,Z,_e)}sendPasswordResetEmail(Z,_e){return M.a3(this._delegate,Z,_e||void 0)}setPersistence(Z){var _e=this;return(0,I.Z)(function*(){let se;switch(function Lr(Q,te){ar(Object.values(Bn).includes(te),Q,"invalid-persistence-type"),(0,ae.b$)()?ar(te!==Bn.SESSION,Q,"unsupported-persistence-type"):(0,ae.UG)()?ar(te===Bn.NONE,Q,"unsupported-persistence-type"):zt()?ar(te===Bn.NONE||te===Bn.LOCAL&&(0,ae.hl)(),Q,"unsupported-persistence-type"):ar(te===Bn.NONE||_n(),Q,"unsupported-persistence-type")}(_e._delegate,Z),Z){case Bn.SESSION:se=M.a;break;case Bn.LOCAL:se=(yield M.aC(M.i)._isAvailable())?M.i:M.b;break;case Bn.NONE:se=M.N;break;default:return M.av("argument-error",{appName:_e._delegate.name})}return _e._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(Z){return this.signInWithCredential(Z)}signInAnonymously(){return An(this._delegate,M._(this._delegate))}signInWithCredential(Z){return An(this._delegate,M.$(this._delegate,Z))}signInWithCustomToken(Z){return An(this._delegate,M.a2(this._delegate,Z))}signInWithEmailAndPassword(Z,_e){return An(this._delegate,M.a9(this._delegate,Z,_e))}signInWithEmailLink(Z,_e){return An(this._delegate,M.ac(this._delegate,Z,_e))}signInWithPhoneNumber(Z,_e){return qn(this._delegate,M.s(this._delegate,Z,_e))}signInWithPopup(Z){var _e=this;return(0,I.Z)(function*(){return Xn(rr(),_e._delegate,"operation-not-supported-in-this-environment"),An(_e._delegate,M.c(_e._delegate,Z,dr))})()}signInWithRedirect(Z){var _e=this;return(0,I.Z)(function*(){return Xn(rr(),_e._delegate,"operation-not-supported-in-this-environment"),yield Vr(_e._delegate),M.f(_e._delegate,Z,dr)})()}updateCurrentUser(Z){return this._delegate.updateCurrentUser(Z)}verifyPasswordResetCode(Z){return M.a7(this._delegate,Z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=Bn,Q})();function $n(Q,te,Z){let _e=Q;"function"!=typeof Q&&({next:_e,error:te,complete:Z}=Q);const se=_e;return{next:re=>se(re&&yn.getOrCreate(re)),error:te,complete:Z}}function Tn(Q,te){const Z=function pn(Q,te){const Z=Gt();if(!Z)return[];const _e=M.aD(cr,Q,te);switch(Z.getItem(_e)){case Bn.NONE:return[M.N];case Bn.LOCAL:return[M.i,M.a];case Bn.SESSION:return[M.a];default:return[]}}(Q,te);if(typeof self<"u"&&!Z.includes(M.i)&&Z.push(M.i),typeof window<"u")for(const _e of[M.b,M.a])Z.includes(_e)||Z.push(_e);return Z.includes(M.N)||Z.push(M.N),Z}class xr{constructor(){this.providerId="phone",this._delegate=new M.P(Ar(F.Z.auth()))}static credential(te,Z){return M.P.credential(te,Z)}verifyPhoneNumber(te,Z){return this._delegate.verifyPhoneNumber(te,Z)}unwrap(){return this._delegate}}xr.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,xr.PROVIDER_ID=M.P.PROVIDER_ID;const fr=M.aA;class kr{constructor(te,Z,_e=F.Z.app()){var se;fr(null===(se=_e.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:_e.name}),this._delegate=new M.R(te,Z,_e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(Q){Q.INTERNAL.registerComponent(new Ie.wA("auth-compat",te=>{const Z=te.getProvider("app-compat").getImmediate(),_e=te.getProvider("auth");return new Jn(Z,_e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.Q,FacebookAuthProvider:M.U,GithubAuthProvider:M.W,GoogleAuthProvider:M.V,OAuthProvider:M.X,SAMLAuthProvider:M.Y,PhoneAuthProvider:xr,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:kr,TwitterAuthProvider:M.Z,Auth:Jn,AuthCredential:M.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.4.1")}(F.Z)},5861:(Jt,Me,j)=>{"use strict";function I(M,ae,fe,Ce,Ie,de,ke){try{var ie=M[de](ke),he=ie.value}catch(Ee){return void fe(Ee)}ie.done?ae(he):Promise.resolve(he).then(Ce,Ie)}function F(M){return function(){var ae=this,fe=arguments;return new Promise(function(Ce,Ie){var de=M.apply(ae,fe);function ke(he){I(de,Ce,Ie,ke,ie,"next",he)}function ie(he){I(de,Ce,Ie,ke,ie,"throw",he)}ke(void 0)})}}j.d(Me,{Z:()=>F})}},Jt=>{Jt(Jt.s=3659)}]);